{"version":3,"file":"matching.esm.js","sources":["../../../src/matcher/date/matching.ts"],"sourcesContent":[null],"names":["MatchDate","match","password","matches","getMatchesWithoutSeparator","getMatchesWithSeparator","filteredMatches","filterNoise","sorted","maybeDateWithSeparator","i","Math","abs","length","j","token","slice","regexMatch","exec","dmy","mapIntegersToDayMonthYear","parseInt","push","pattern","separator","year","month","day","maybeDateNoSeparator","metric","candidate","REFERENCE_YEAR","candidates","index","splittedDates","DATE_SPLITS","forEach","k","l","bestCandidate","minDistance","distance","filter","isSubmatch","matchesLength","o","otherMatch","integers","over12","over31","under1","len1","int","DATE_MIN_YEAR","DATE_MAX_YEAR","getDayMonth","possibleYearSplits","possibleYearSplitsLength","y","rest","dm","mapIntegersToDayMonth","twoToFourDigitYear","temp","reverse","data"],"mappings":"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"}