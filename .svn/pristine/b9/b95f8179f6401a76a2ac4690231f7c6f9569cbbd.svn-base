{
  "version": 3,
  "sources": ["../../../src/components/Form/src/helper.ts", "../../@jeecg/online/OnlineSuperQueryValComponent.vue_vue_type_script_lang.js"],
  "sourcesContent": ["import type { ValidationRule } from 'ant-design-vue/lib/form/Form';\nimport type { ComponentType } from './types/index';\nimport { useI18n } from '/@/hooks/web/useI18n';\nimport { dateUtil } from '/@/utils/dateUtil';\nimport { isNumber, isObject } from '/@/utils/is';\n\nconst { t } = useI18n();\n\n/**\n * @description: \u751F\u6210placeholder\n */\nexport function createPlaceholderMessage(component: ComponentType) {\n  if (component.includes('Input') || component.includes('Complete')) {\n    return t('common.inputText');\n  }\n  if (component.includes('Picker')) {\n    return t('common.chooseText');\n  }\n  if (\n    component.includes('Select') ||\n    component.includes('Cascader') ||\n    component.includes('Checkbox') ||\n    component.includes('Radio') ||\n    component.includes('Switch')\n  ) {\n    // return `\u8BF7\u9009\u62E9${label}`;\n    return t('common.chooseText');\n  }\n  return '';\n}\n\nconst DATE_TYPE = ['DatePicker', 'MonthPicker', 'WeekPicker', 'TimePicker'];\n\nfunction genType() {\n  return [...DATE_TYPE, 'RangePicker'];\n}\n\nexport function setComponentRuleType(rule: ValidationRule, component: ComponentType, valueFormat: string) {\n  if (['DatePicker', 'MonthPicker', 'WeekPicker', 'TimePicker'].includes(component)) {\n    rule.type = valueFormat ? 'string' : 'object';\n  } else if (['RangePicker', 'Upload', 'CheckboxGroup', 'TimePicker'].includes(component)) {\n    rule.type = 'array';\n  } else if (['InputNumber'].includes(component)) {\n    rule.type = 'number';\n  }\n}\n\nexport function processDateValue(attr: Recordable, component: string) {\n  const { valueFormat, value } = attr;\n  if (valueFormat) {\n    attr.value = isObject(value) ? dateUtil(value).format(valueFormat) : value;\n  } else if (DATE_TYPE.includes(component) && value) {\n    attr.value = dateUtil(attr.value);\n  }\n}\n\nexport function handleInputNumberValue(component?: ComponentType, val?: any) {\n  if (!component) return val;\n  if (['Input', 'InputPassword', 'InputSearch', 'InputTextArea'].includes(component)) {\n    return val && isNumber(val) ? `${val}` : val;\n  }\n  return val;\n}\n\n/**\n * \u65F6\u95F4\u5B57\u6BB5\n */\nexport const dateItemType = genType();\n", "var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, computed, createVNode, unref } from \"vue\";\nimport { componentMap } from \"/@/components/Form/src/componentMap\";\nimport { createPlaceholderMessage } from \"/@/components/Form/src/helper\";\nimport { isFunction } from \"/@/utils/is\";\nimport { t as toString } from \"./toString.js\";\nfunction baseSlice(array, start, end) {\n  var index = -1, length = array.length;\n  if (start < 0) {\n    start = -start > length ? 0 : length + start;\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : end - start >>> 0;\n  start >>>= 0;\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === void 0 ? length : end;\n  return !start && end >= length ? array : baseSlice(array, start, end);\n}\nvar rsAstralRange$1 = \"\\\\ud800-\\\\udfff\", rsComboMarksRange$1 = \"\\\\u0300-\\\\u036f\", reComboHalfMarksRange$1 = \"\\\\ufe20-\\\\ufe2f\", rsComboSymbolsRange$1 = \"\\\\u20d0-\\\\u20ff\", rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1, rsVarRange$1 = \"\\\\ufe0e\\\\ufe0f\";\nvar rsZWJ$1 = \"\\\\u200d\";\nvar reHasUnicode = RegExp(\"[\" + rsZWJ$1 + rsAstralRange$1 + rsComboRange$1 + rsVarRange$1 + \"]\");\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\nfunction asciiToArray(string) {\n  return string.split(\"\");\n}\nvar rsAstralRange = \"\\\\ud800-\\\\udfff\", rsComboMarksRange = \"\\\\u0300-\\\\u036f\", reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\", rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsVarRange = \"\\\\ufe0e\\\\ufe0f\";\nvar rsAstral = \"[\" + rsAstralRange + \"]\", rsCombo = \"[\" + rsComboRange + \"]\", rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\", rsModifier = \"(?:\" + rsCombo + \"|\" + rsFitz + \")\", rsNonAstral = \"[^\" + rsAstralRange + \"]\", rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\", rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\", rsZWJ = \"\\\\u200d\";\nvar reOptMod = rsModifier + \"?\", rsOptVar = \"[\" + rsVarRange + \"]?\", rsOptJoin = \"(?:\" + rsZWJ + \"(?:\" + [rsNonAstral, rsRegional, rsSurrPair].join(\"|\") + \")\" + rsOptVar + reOptMod + \")*\", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsSymbol = \"(?:\" + [rsNonAstral + rsCombo + \"?\", rsCombo, rsRegional, rsSurrPair, rsAstral].join(\"|\") + \")\";\nvar reUnicode = RegExp(rsFitz + \"(?=\" + rsFitz + \")|\" + rsSymbol + rsSeq, \"g\");\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\nfunction stringToArray(string) {\n  return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n}\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n    var strSymbols = hasUnicode(string) ? stringToArray(string) : void 0;\n    var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n    var trailing = strSymbols ? castSlice(strSymbols, 1).join(\"\") : string.slice(1);\n    return chr[methodName]() + trailing;\n  };\n}\nvar upperFirst = createCaseFirst(\"toUpperCase\");\nvar upperFirst$1 = upperFirst;\nvar _sfc_main = defineComponent({\n  name: \"OnlineSuperQueryValComponent\",\n  inheritAttrs: false,\n  props: {\n    schema: {\n      type: Object,\n      default: () => ({})\n    },\n    formModel: {\n      type: Object,\n      default: () => ({})\n    },\n    setFormModel: {\n      type: Function,\n      default: null\n    }\n  },\n  setup(props) {\n    const getComponentsProps = computed(() => {\n      var _a;\n      const {\n        schema,\n        formModel\n      } = props;\n      let {\n        componentProps = {}\n      } = schema;\n      if (isFunction(componentProps)) {\n        componentProps = (_a = componentProps({\n          schema,\n          formModel\n        })) != null ? _a : {};\n      }\n      return componentProps;\n    });\n    const getValues = computed(() => {\n      const {\n        formModel,\n        schema\n      } = props;\n      let obj = {\n        field: schema.field,\n        model: formModel,\n        values: __spreadValues({}, formModel),\n        schema\n      };\n      return obj;\n    });\n    function renderComponent() {\n      var _a;\n      const {\n        component,\n        changeEvent = \"change\",\n        valueField\n      } = props.schema;\n      const field = \"val\";\n      const isCheck = component && [\"Switch\", \"Checkbox\"].includes(component);\n      const eventKey = `on${upperFirst$1(changeEvent)}`;\n      const on = {\n        [eventKey]: (...args) => {\n          const [e] = args;\n          if (propsData[eventKey]) {\n            propsData[eventKey](...args);\n          }\n          const target = e ? e.target : null;\n          const value = target ? isCheck ? target.checked : target.value : e;\n          props.setFormModel(field, value);\n        }\n      };\n      const Comp = componentMap.get(component);\n      const propsData = __spreadValues({\n        allowClear: true,\n        getPopupContainer: (trigger) => trigger.parentNode\n      }, unref(getComponentsProps));\n      const isCreatePlaceholder = !propsData.disabled;\n      if (isCreatePlaceholder && component !== \"RangePicker\" && component) {\n        propsData.placeholder = ((_a = unref(getComponentsProps)) == null ? void 0 : _a.placeholder) || createPlaceholderMessage(component) + props.schema.label;\n      }\n      propsData.codeField = field;\n      propsData.formValues = unref(getValues);\n      const bindValue = {\n        [valueField || (isCheck ? \"checked\" : \"value\")]: props.formModel[field]\n      };\n      const compAttr = __spreadProps(__spreadValues(__spreadValues(__spreadValues({}, propsData), on), bindValue), {\n        allowClear: true\n      });\n      return createVNode(Comp, compAttr, null);\n    }\n    return () => {\n      return createVNode(\"div\", {\n        \"style\": \"width:100%\"\n      }, [renderComponent()]);\n    };\n  }\n});\nexport { _sfc_main as _ };\n"],
  "mappings": "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",
  "names": []
}
