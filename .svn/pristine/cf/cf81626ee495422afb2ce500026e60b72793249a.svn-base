{
  "version": 3,
  "sources": ["../../tinymce/plugins/image/plugin.js", "../../tinymce/plugins/image/index.js", "dep:tinymce_plugins_image"],
  "sourcesContent": ["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.5 (2022-05-25)\n */\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isNull = eq(null);\n    var isBoolean = isSimpleType('boolean');\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var nativePush = Array.prototype.push;\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var get = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get(xs, 0);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var remove = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.XHR');\n\n    var hasDimensions = function (editor) {\n      return editor.getParam('image_dimensions', true, 'boolean');\n    };\n    var hasAdvTab = function (editor) {\n      return editor.getParam('image_advtab', false, 'boolean');\n    };\n    var hasUploadTab = function (editor) {\n      return editor.getParam('image_uploadtab', true, 'boolean');\n    };\n    var getPrependUrl = function (editor) {\n      return editor.getParam('image_prepend_url', '', 'string');\n    };\n    var getClassList = function (editor) {\n      return editor.getParam('image_class_list');\n    };\n    var hasDescription = function (editor) {\n      return editor.getParam('image_description', true, 'boolean');\n    };\n    var hasImageTitle = function (editor) {\n      return editor.getParam('image_title', false, 'boolean');\n    };\n    var hasImageCaption = function (editor) {\n      return editor.getParam('image_caption', false, 'boolean');\n    };\n    var getImageList = function (editor) {\n      return editor.getParam('image_list', false);\n    };\n    var hasUploadUrl = function (editor) {\n      return isNonNullable(editor.getParam('images_upload_url'));\n    };\n    var hasUploadHandler = function (editor) {\n      return isNonNullable(editor.getParam('images_upload_handler'));\n    };\n    var showAccessibilityOptions = function (editor) {\n      return editor.getParam('a11y_advanced_options', false, 'boolean');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n\n    var parseIntAndGetMax = function (val1, val2) {\n      return Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    };\n    var getImageSize = function (url) {\n      return new global$4(function (callback) {\n        var img = document.createElement('img');\n        var done = function (dimensions) {\n          img.onload = img.onerror = null;\n          if (img.parentNode) {\n            img.parentNode.removeChild(img);\n          }\n          callback(dimensions);\n        };\n        img.onload = function () {\n          var width = parseIntAndGetMax(img.width, img.clientWidth);\n          var height = parseIntAndGetMax(img.height, img.clientHeight);\n          var dimensions = {\n            width: width,\n            height: height\n          };\n          done(global$4.resolve(dimensions));\n        };\n        img.onerror = function () {\n          done(global$4.reject('Failed to get image dimensions for: ' + url));\n        };\n        var style = img.style;\n        style.visibility = 'hidden';\n        style.position = 'fixed';\n        style.bottom = style.left = '0px';\n        style.width = style.height = 'auto';\n        document.body.appendChild(img);\n        img.src = url;\n      });\n    };\n    var removePixelSuffix = function (value) {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    var addPixelSuffix = function (value) {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    var mergeMargins = function (css) {\n      if (css.margin) {\n        var splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    var createImageList = function (editor, callback) {\n      var imageList = getImageList(editor);\n      if (isString(imageList)) {\n        global$2.send({\n          url: imageList,\n          success: function (text) {\n            callback(JSON.parse(text));\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    var waitLoadImage = function (editor, data, imgElm) {\n      var selectImage = function () {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = function () {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    var blobToDataUri = function (blob) {\n      return new global$4(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onload = function () {\n          resolve(reader.result);\n        };\n        reader.onerror = function () {\n          reject(reader.error.message);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var isPlaceholderImage = function (imgElm) {\n      return imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    };\n    var isSafeImageUrl = function (editor, src) {\n      return global$3.isDomSafe(src, 'img', editor.settings);\n    };\n\n    var DOM = global$5.DOM;\n    var getHspace = function (image) {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    var getVspace = function (image) {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    var getBorder = function (image) {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    var getAttrib = function (image, name) {\n      if (image.hasAttribute(name)) {\n        return image.getAttribute(name);\n      } else {\n        return '';\n      }\n    };\n    var getStyle = function (image, name) {\n      return image.style[name] ? image.style[name] : '';\n    };\n    var hasCaption = function (image) {\n      return image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    };\n    var updateAttrib = function (image, name, value) {\n      if (value === '') {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    var wrapInFigure = function (image) {\n      var figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    var removeFigure = function (image) {\n      var figureElm = image.parentNode;\n      DOM.insertAfter(image, figureElm);\n      DOM.remove(figureElm);\n    };\n    var toggleCaption = function (image) {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    var normalizeStyle = function (image, normalizeCss) {\n      var attrValue = image.getAttribute('style');\n      var value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    var setSize = function (name, normalizeCss) {\n      return function (image, name, value) {\n        if (image.style[name]) {\n          image.style[name] = addPixelSuffix(value);\n          normalizeStyle(image, normalizeCss);\n        } else {\n          updateAttrib(image, name, value);\n        }\n      };\n    };\n    var getSize = function (image, name) {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    var setHspace = function (image, value) {\n      var pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    var setVspace = function (image, value) {\n      var pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    var setBorder = function (image, value) {\n      var pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    var setBorderStyle = function (image, value) {\n      image.style.borderStyle = value;\n    };\n    var getBorderStyle = function (image) {\n      return getStyle(image, 'borderStyle');\n    };\n    var isFigure = function (elm) {\n      return elm.nodeName === 'FIGURE';\n    };\n    var isImage = function (elm) {\n      return elm.nodeName === 'IMG';\n    };\n    var getIsDecorative = function (image) {\n      return DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    };\n    var getAlt = function (image) {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    var defaultData = function () {\n      return {\n        src: '',\n        alt: '',\n        title: '',\n        width: '',\n        height: '',\n        class: '',\n        style: '',\n        caption: false,\n        hspace: '',\n        vspace: '',\n        border: '',\n        borderStyle: '',\n        isDecorative: false\n      };\n    };\n    var getStyleValue = function (normalizeCss, data) {\n      var image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss(image.getAttribute('style'));\n    };\n    var create = function (normalizeCss, data) {\n      var image = document.createElement('img');\n      write(normalizeCss, __assign(__assign({}, data), { caption: false }), image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        var figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    var read = function (normalizeCss, image) {\n      return {\n        src: getAttrib(image, 'src'),\n        alt: getAlt(image),\n        title: getAttrib(image, 'title'),\n        width: getSize(image, 'width'),\n        height: getSize(image, 'height'),\n        class: getAttrib(image, 'class'),\n        style: normalizeCss(getAttrib(image, 'style')),\n        caption: hasCaption(image),\n        hspace: getHspace(image),\n        vspace: getVspace(image),\n        border: getBorder(image),\n        borderStyle: getStyle(image, 'borderStyle'),\n        isDecorative: getIsDecorative(image)\n      };\n    };\n    var updateProp = function (image, oldData, newData, name, set) {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, newData[name]);\n      }\n    };\n    var setAlt = function (image, alt, isDecorative) {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        var sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          var sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          var sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    var updateAlt = function (image, oldData, newData) {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    var normalized = function (set, normalizeCss) {\n      return function (image, name, value) {\n        set(image, value);\n        normalizeStyle(image, normalizeCss);\n      };\n    };\n    var write = function (normalizeCss, newData, image) {\n      var oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', function (image, _name, _value) {\n        return toggleCaption(image);\n      });\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized(function (image, value) {\n        return updateAttrib(image, 'style', value);\n      }, normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    var normalizeCss$1 = function (editor, cssText) {\n      var css = editor.dom.styles.parse(cssText);\n      var mergedCss = mergeMargins(css);\n      var compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    var getSelectedImage = function (editor) {\n      var imgElm = editor.selection.getNode();\n      var figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    var splitTextBlock = function (editor, figure) {\n      var dom = editor.dom;\n      var textBlockElements = filter(editor.schema.getTextBlockElements(), function (_, parentElm) {\n        return !editor.schema.isValidChild(parentElm, 'figure');\n      });\n      var textBlock = dom.getParent(figure.parentNode, function (node) {\n        return hasNonNullableKey(textBlockElements, node.nodeName);\n      }, editor.getBody());\n      if (textBlock) {\n        return dom.split(textBlock, figure);\n      } else {\n        return figure;\n      }\n    };\n    var readImageDataFromSelection = function (editor) {\n      var image = getSelectedImage(editor);\n      return image ? read(function (css) {\n        return normalizeCss$1(editor, css);\n      }, image) : defaultData();\n    };\n    var insertImageAtCaret = function (editor, data) {\n      var elm = create(function (css) {\n        return normalizeCss$1(editor, css);\n      }, data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      var insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        var figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    var syncSrcAttr = function (editor, image) {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    var deleteImage = function (editor, image) {\n      if (image) {\n        var elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    var writeImageDataToSelection = function (editor, data) {\n      var image = getSelectedImage(editor);\n      write(function (css) {\n        return normalizeCss$1(editor, css);\n      }, data, image);\n      syncSrcAttr(editor, image);\n      if (isFigure(image.parentNode)) {\n        var figure = image.parentNode;\n        splitTextBlock(editor, figure);\n        editor.selection.select(image.parentNode);\n      } else {\n        editor.selection.select(image);\n        waitLoadImage(editor, data, image);\n      }\n    };\n    var sanitizeImageData = function (editor, data) {\n      var src = data.src;\n      return __assign(__assign({}, data), { src: isSafeImageUrl(editor, src) ? src : '' });\n    };\n    var insertOrUpdateImage = function (editor, partialData) {\n      var image = getSelectedImage(editor);\n      if (image) {\n        var selectedImageData = read(function (css) {\n          return normalizeCss$1(editor, css);\n        }, image);\n        var data = __assign(__assign({}, selectedImageData), partialData);\n        var sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, __assign(__assign({}, defaultData()), partialData));\n      }\n    };\n\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getValue = function (item) {\n      return isString(item.value) ? item.value : '';\n    };\n    var getText = function (item) {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    var sanitizeList = function (list, extractValue) {\n      var out = [];\n      global.each(list, function (item) {\n        var text = getText(item);\n        if (item.menu !== undefined) {\n          var items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text: text,\n            items: items\n          });\n        } else {\n          var value = extractValue(item);\n          out.push({\n            text: text,\n            value: value\n          });\n        }\n      });\n      return out;\n    };\n    var sanitizer = function (extractor) {\n      if (extractor === void 0) {\n        extractor = getValue;\n      }\n      return function (list) {\n        if (list) {\n          return Optional.from(list).map(function (list) {\n            return sanitizeList(list, extractor);\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n    };\n    var sanitize = function (list) {\n      return sanitizer(getValue)(list);\n    };\n    var isGroup = function (item) {\n      return has(item, 'items');\n    };\n    var findEntryDelegate = function (list, value) {\n      return findMap(list, function (item) {\n        if (isGroup(item)) {\n          return findEntryDelegate(item.items, value);\n        } else if (item.value === value) {\n          return Optional.some(item);\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var findEntry = function (optList, value) {\n      return optList.bind(function (list) {\n        return findEntryDelegate(list, value);\n      });\n    };\n    var ListUtils = {\n      sanitizer: sanitizer,\n      sanitize: sanitize,\n      findEntry: findEntry\n    };\n\n    var makeTab$2 = function (_info) {\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items: [\n          {\n            type: 'input',\n            label: 'Style',\n            name: 'style'\n          },\n          {\n            type: 'grid',\n            columns: 2,\n            items: [\n              {\n                type: 'input',\n                label: 'Vertical space',\n                name: 'vspace',\n                inputMode: 'numeric'\n              },\n              {\n                type: 'input',\n                label: 'Horizontal space',\n                name: 'hspace',\n                inputMode: 'numeric'\n              },\n              {\n                type: 'input',\n                label: 'Border width',\n                name: 'border',\n                inputMode: 'numeric'\n              },\n              {\n                type: 'listbox',\n                name: 'borderstyle',\n                label: 'Border style',\n                items: [\n                  {\n                    text: 'Select...',\n                    value: ''\n                  },\n                  {\n                    text: 'Solid',\n                    value: 'solid'\n                  },\n                  {\n                    text: 'Dotted',\n                    value: 'dotted'\n                  },\n                  {\n                    text: 'Dashed',\n                    value: 'dashed'\n                  },\n                  {\n                    text: 'Double',\n                    value: 'double'\n                  },\n                  {\n                    text: 'Groove',\n                    value: 'groove'\n                  },\n                  {\n                    text: 'Ridge',\n                    value: 'ridge'\n                  },\n                  {\n                    text: 'Inset',\n                    value: 'inset'\n                  },\n                  {\n                    text: 'Outset',\n                    value: 'outset'\n                  },\n                  {\n                    text: 'None',\n                    value: 'none'\n                  },\n                  {\n                    text: 'Hidden',\n                    value: 'hidden'\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      };\n    };\n    var AdvTab = { makeTab: makeTab$2 };\n\n    var collect = function (editor) {\n      var urlListSanitizer = ListUtils.sanitizer(function (item) {\n        return editor.convertURL(item.value || item.url, 'src');\n      });\n      var futureImageList = new global$4(function (completer) {\n        createImageList(editor, function (imageList) {\n          completer(urlListSanitizer(imageList).map(function (items) {\n            return flatten([\n              [{\n                  text: 'None',\n                  value: ''\n                }],\n              items\n            ]);\n          }));\n        });\n      });\n      var classList = ListUtils.sanitize(getClassList(editor));\n      var hasAdvTab$1 = hasAdvTab(editor);\n      var hasUploadTab$1 = hasUploadTab(editor);\n      var hasUploadUrl$1 = hasUploadUrl(editor);\n      var hasUploadHandler$1 = hasUploadHandler(editor);\n      var image = readImageDataFromSelection(editor);\n      var hasDescription$1 = hasDescription(editor);\n      var hasImageTitle$1 = hasImageTitle(editor);\n      var hasDimensions$1 = hasDimensions(editor);\n      var hasImageCaption$1 = hasImageCaption(editor);\n      var hasAccessibilityOptions = showAccessibilityOptions(editor);\n      var automaticUploads = isAutomaticUploadsEnabled(editor);\n      var prependURL = Optional.some(getPrependUrl(editor)).filter(function (preUrl) {\n        return isString(preUrl) && preUrl.length > 0;\n      });\n      return futureImageList.then(function (imageList) {\n        return {\n          image: image,\n          imageList: imageList,\n          classList: classList,\n          hasAdvTab: hasAdvTab$1,\n          hasUploadTab: hasUploadTab$1,\n          hasUploadUrl: hasUploadUrl$1,\n          hasUploadHandler: hasUploadHandler$1,\n          hasDescription: hasDescription$1,\n          hasImageTitle: hasImageTitle$1,\n          hasDimensions: hasDimensions$1,\n          hasImageCaption: hasImageCaption$1,\n          prependURL: prependURL,\n          hasAccessibilityOptions: hasAccessibilityOptions,\n          automaticUploads: automaticUploads\n        };\n      });\n    };\n\n    var makeItems = function (info) {\n      var imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source'\n      };\n      var imageList = info.imageList.map(function (items) {\n        return {\n          name: 'images',\n          type: 'listbox',\n          label: 'Image list',\n          items: items\n        };\n      });\n      var imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        disabled: info.hasAccessibilityOptions && info.image.isDecorative\n      };\n      var imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      var imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      var isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      var classList = info.classList.map(function (items) {\n        return {\n          name: 'classes',\n          type: 'listbox',\n          label: 'Class',\n          items: items\n        };\n      });\n      var caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      var getDialogContainerType = function (useColumns) {\n        return useColumns ? {\n          type: 'grid',\n          columns: 2\n        } : { type: 'panel' };\n      };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [__assign(__assign({}, getDialogContainerType(info.classList.isSome() && info.hasImageCaption)), {\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          })]\n      ]);\n    };\n    var makeTab$1 = function (info) {\n      return {\n        title: 'General',\n        name: 'general',\n        items: makeItems(info)\n      };\n    };\n    var MainTab = {\n      makeTab: makeTab$1,\n      makeItems: makeItems\n    };\n\n    var makeTab = function (_info) {\n      var items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items: items\n      };\n    };\n    var UploadTab = { makeTab: makeTab };\n\n    var createState = function (info) {\n      return {\n        prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n        prevAlt: info.image.alt,\n        open: true\n      };\n    };\n    var fromImageData = function (image) {\n      return {\n        src: {\n          value: image.src,\n          meta: {}\n        },\n        images: image.src,\n        alt: image.alt,\n        title: image.title,\n        dimensions: {\n          width: image.width,\n          height: image.height\n        },\n        classes: image.class,\n        caption: image.caption,\n        style: image.style,\n        vspace: image.vspace,\n        border: image.border,\n        hspace: image.hspace,\n        borderstyle: image.borderStyle,\n        fileinput: [],\n        isDecorative: image.isDecorative\n      };\n    };\n    var toImageData = function (data, removeEmptyAlt) {\n      return {\n        src: data.src.value,\n        alt: data.alt.length === 0 && removeEmptyAlt ? null : data.alt,\n        title: data.title,\n        width: data.dimensions.width,\n        height: data.dimensions.height,\n        class: data.classes,\n        style: data.style,\n        caption: data.caption,\n        hspace: data.hspace,\n        vspace: data.vspace,\n        border: data.border,\n        borderStyle: data.borderstyle,\n        isDecorative: data.isDecorative\n      };\n    };\n    var addPrependUrl2 = function (info, srcURL) {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(function (prependUrl) {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    var addPrependUrl = function (info, api) {\n      var data = api.getData();\n      addPrependUrl2(info, data.src.value).each(function (srcURL) {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    var formFillFromMeta2 = function (info, data, meta) {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(function (entry) {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    var formFillFromMeta = function (info, api) {\n      var data = api.getData();\n      var meta = data.src.meta;\n      if (meta !== undefined) {\n        var newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    var calculateImageSize = function (helpers, info, state, api) {\n      var data = api.getData();\n      var url = data.src.value;\n      var meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(function (size) {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(function (e) {\n            return console.error(e);\n          });\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    var updateImagesDropdown = function (info, state, api) {\n      var data = api.getData();\n      var image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({\n        images: image.map(function (entry) {\n          return entry.value;\n        }).getOr('')\n      });\n    };\n    var changeSrc = function (helpers, info, state, api) {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    var changeImages = function (helpers, info, state, api) {\n      var data = api.getData();\n      var image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(function (img) {\n        var updateAlt = data.alt === '' || state.prevImage.map(function (image) {\n          return image.text === data.alt;\n        }).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    var calcVSpace = function (css) {\n      var matchingTopBottom = css['margin-top'] && css['margin-bottom'] && css['margin-top'] === css['margin-bottom'];\n      return matchingTopBottom ? removePixelSuffix(String(css['margin-top'])) : '';\n    };\n    var calcHSpace = function (css) {\n      var matchingLeftRight = css['margin-right'] && css['margin-left'] && css['margin-right'] === css['margin-left'];\n      return matchingLeftRight ? removePixelSuffix(String(css['margin-right'])) : '';\n    };\n    var calcBorderWidth = function (css) {\n      return css['border-width'] ? removePixelSuffix(String(css['border-width'])) : '';\n    };\n    var calcBorderStyle = function (css) {\n      return css['border-style'] ? String(css['border-style']) : '';\n    };\n    var calcStyle = function (parseStyle, serializeStyle, css) {\n      return serializeStyle(parseStyle(serializeStyle(css)));\n    };\n    var changeStyle2 = function (parseStyle, serializeStyle, data) {\n      var css = mergeMargins(parseStyle(data.style));\n      var dataCopy = deepMerge({}, data);\n      dataCopy.vspace = calcVSpace(css);\n      dataCopy.hspace = calcHSpace(css);\n      dataCopy.border = calcBorderWidth(css);\n      dataCopy.borderstyle = calcBorderStyle(css);\n      dataCopy.style = calcStyle(parseStyle, serializeStyle, css);\n      return dataCopy;\n    };\n    var changeStyle = function (helpers, api) {\n      var data = api.getData();\n      var newData = changeStyle2(helpers.parseStyle, helpers.serializeStyle, data);\n      api.setData(newData);\n    };\n    var changeAStyle = function (helpers, info, api) {\n      var data = deepMerge(fromImageData(info.image), api.getData());\n      var style = getStyleValue(helpers.normalizeCss, toImageData(data, false));\n      api.setData({ style: style });\n    };\n    var changeFileInput = function (helpers, info, state, api) {\n      var data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(function () {\n        api.unblock();\n      }, function (file) {\n        var blobUri = URL.createObjectURL(file);\n        var finalize = function () {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        var updateSrcAndSwitchTab = function (url) {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(function (dataUrl) {\n          var blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(function (result) {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(function (err) {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    var changeHandler = function (helpers, info, state) {\n      return function (api, evt) {\n        if (evt.name === 'src') {\n          changeSrc(helpers, info, state, api);\n        } else if (evt.name === 'images') {\n          changeImages(helpers, info, state, api);\n        } else if (evt.name === 'alt') {\n          state.prevAlt = api.getData().alt;\n        } else if (evt.name === 'style') {\n          changeStyle(helpers, api);\n        } else if (evt.name === 'vspace' || evt.name === 'hspace' || evt.name === 'border' || evt.name === 'borderstyle') {\n          changeAStyle(helpers, info, api);\n        } else if (evt.name === 'fileinput') {\n          changeFileInput(helpers, info, state, api);\n        } else if (evt.name === 'isDecorative') {\n          if (api.getData().isDecorative) {\n            api.disable('alt');\n          } else {\n            api.enable('alt');\n          }\n        }\n      };\n    };\n    var closeHandler = function (state) {\n      return function () {\n        state.open = false;\n      };\n    };\n    var makeDialogBody = function (info) {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        var tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        var panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    var makeDialog = function (helpers) {\n      return function (info) {\n        var state = createState(info);\n        return {\n          title: 'Insert/Edit Image',\n          size: 'normal',\n          body: makeDialogBody(info),\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: fromImageData(info.image),\n          onSubmit: helpers.onSubmit(info),\n          onChange: changeHandler(helpers, info, state),\n          onClose: closeHandler(state)\n        };\n      };\n    };\n    var submitHandler = function (editor) {\n      return function (info) {\n        return function (api) {\n          var data = deepMerge(fromImageData(info.image), api.getData());\n          editor.execCommand('mceUpdateImage', false, toImageData(data, info.hasAccessibilityOptions));\n          editor.editorUpload.uploadImagesAuto();\n          api.close();\n        };\n      };\n    };\n    var imageSize = function (editor) {\n      return function (url) {\n        if (!isSafeImageUrl(editor, url)) {\n          return global$4.resolve({\n            width: '',\n            height: ''\n          });\n        } else {\n          return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(function (dimensions) {\n            return {\n              width: String(dimensions.width),\n              height: String(dimensions.height)\n            };\n          });\n        }\n      };\n    };\n    var createBlobCache = function (editor) {\n      return function (file, blobUri, dataUrl) {\n        return editor.editorUpload.blobCache.create({\n          blob: file,\n          blobUri: blobUri,\n          name: file.name ? file.name.replace(/\\.[^\\.]+$/, '') : null,\n          filename: file.name,\n          base64: dataUrl.split(',')[1]\n        });\n      };\n    };\n    var addToBlobCache = function (editor) {\n      return function (blobInfo) {\n        editor.editorUpload.blobCache.add(blobInfo);\n      };\n    };\n    var alertErr = function (editor) {\n      return function (message) {\n        editor.windowManager.alert(message);\n      };\n    };\n    var normalizeCss = function (editor) {\n      return function (cssText) {\n        return normalizeCss$1(editor, cssText);\n      };\n    };\n    var parseStyle = function (editor) {\n      return function (cssText) {\n        return editor.dom.parseStyle(cssText);\n      };\n    };\n    var serializeStyle = function (editor) {\n      return function (stylesArg, name) {\n        return editor.dom.serializeStyle(stylesArg, name);\n      };\n    };\n    var uploadImage = function (editor) {\n      return function (blobInfo) {\n        return global$1(editor).upload([blobInfo], false).then(function (results) {\n          if (results.length === 0) {\n            return global$4.reject('Failed to upload image');\n          } else if (results[0].status === false) {\n            return global$4.reject(results[0].error.message);\n          } else {\n            return results[0];\n          }\n        });\n      };\n    };\n    var Dialog = function (editor) {\n      var helpers = {\n        onSubmit: submitHandler(editor),\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      var open = function () {\n        collect(editor).then(makeDialog(helpers)).then(editor.windowManager.open);\n      };\n      return { open: open };\n    };\n\n    var register$1 = function (editor) {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', function (_ui, data) {\n        editor.undoManager.transact(function () {\n          return insertOrUpdateImage(editor, data);\n        });\n      });\n    };\n\n    var hasImageClass = function (node) {\n      var className = node.attr('class');\n      return className && /\\bimage\\b/.test(className);\n    };\n    var toggleContentEditableState = function (state) {\n      return function (nodes) {\n        var i = nodes.length;\n        var toggleContentEditable = function (node) {\n          node.attr('contenteditable', state ? 'true' : null);\n        };\n        while (i--) {\n          var node = nodes[i];\n          if (hasImageClass(node)) {\n            node.attr('contenteditable', state ? 'false' : null);\n            global.each(node.getAll('figcaption'), toggleContentEditable);\n          }\n        }\n      };\n    };\n    var setup = function (editor) {\n      editor.on('PreInit', function () {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    var register = function (editor) {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: function (buttonApi) {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          return editor.selection.selectorChangedWithUnbind('img:not([data-mce-object],[data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open\n      });\n      editor.ui.registry.addContextMenu('image', {\n        update: function (element) {\n          return isFigure(element) || isImage(element) && !isPlaceholderImage(element) ? ['image'] : [];\n        }\n      });\n    };\n\n    function Plugin () {\n      global$6.add('image', function (editor) {\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n", "// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');", "export default require(\"./node_modules/tinymce/plugins/image/index.js\");"],
  "mappings": "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",
  "names": ["__assign", "normalizeCss", "name", "set", "image", "list", "updateAlt", "parseStyle", "serializeStyle", "node"]
}
