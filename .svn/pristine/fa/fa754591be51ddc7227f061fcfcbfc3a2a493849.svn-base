{
  "version": 3,
  "sources": ["../../@jeecg/online/ExtendConfigModal.js"],
  "sourcesContent": ["var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nimport { defineComponent, resolveComponent, openBlock, createBlock, withCtx, createVNode, nextTick } from \"vue\";\nimport { BasicModal, useModalInner } from \"/@/components/Modal\";\nimport { BasicForm, useForm } from \"/@/components/Form\";\nimport { useMessage } from \"/@/hooks/web/useMessage\";\nimport { a as useExtendConfigFormSchemas } from \"./useSchemas.js\";\nimport { _ as _export_sfc } from \"./index.js\";\nimport \"ant-design-vue\";\nimport \"@ant-design/icons-vue\";\nimport \"/@/utils/common/compUtils\";\nimport \"/@/components/jeecg/OnLine/JPopupOnlReport.vue\";\nimport \"vue-router\";\nvar ExtendConfigModal_vue_vue_type_style_index_0_scoped_true_lang = \"\";\nconst _sfc_main = defineComponent({\n  name: \"CgformExtConfigModel\",\n  components: { BasicModal, BasicForm },\n  props: {\n    parentForm: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: [\"register\", \"ok\"],\n  setup(props, { emit }) {\n    const { createMessage: $message } = useMessage();\n    const { formSchemas } = useExtendConfigFormSchemas(props, {\n      onIsDesformChange,\n      onJoinQueryChange,\n      onReportPrintShowChange\n    });\n    const [registerForm, { resetFields, setFieldsValue, clearValidate, validate }] = useForm({\n      schemas: formSchemas,\n      showActionButtonGroup: false,\n      labelAlign: \"right\"\n    });\n    const [registerModal, { closeModal }] = useModalInner((data) => __async(this, null, function* () {\n      yield resetFields();\n      yield setFieldsValue(data.extConfigJson);\n    }));\n    function handleOk() {\n      return __async(this, null, function* () {\n        yield clearValidate();\n        yield nextTick();\n        try {\n          const values = yield validate();\n          emit(\"ok\", values);\n          closeModal();\n        } catch (e) {\n        }\n      });\n    }\n    function handleCancel() {\n      closeModal();\n    }\n    function onIsDesformChange(value) {\n      if (value === \"Y\") {\n        let { themeTemplate } = props.parentForm.getFieldsValue([\"themeTemplate\"]);\n        if (themeTemplate === \"erp\") {\n          props.parentForm.setFieldsValue({ themeTemplate: \"normal\" });\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1Aerp\\u98CE\\u683C\\u4E0D\\u652F\\u6301\\u5BF9\\u63A5\\u8868\\u5355\\u8BBE\\u8BA1\\uFF0C\\u5DF2\\u81EA\\u52A8\\u6539\\u4E3A\\u9ED8\\u8BA4\\u98CE\\u683C\\uFF01\");\n        }\n      } else {\n        clearValidate(\"desFormCode\");\n      }\n    }\n    function onReportPrintShowChange(value) {\n      if (value === 0) {\n        clearValidate(\"reportPrintUrl\");\n      }\n    }\n    function onJoinQueryChange(value) {\n      if (value === 1) {\n        let {\n          themeTemplate,\n          isTree,\n          tableType\n        } = props.parentForm.getFieldsValue([\"themeTemplate\", \"isTree\", \"tableType\"]);\n        if (themeTemplate === \"erp\") {\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1Aerp\\u98CE\\u683C\\u4E0D\\u652F\\u6301\\u8054\\u5408\\u67E5\\u8BE2\\uFF0C\\u914D\\u7F6E\\u65E0\\u6548!\");\n          setFieldsValue({ joinQuery: 0 });\n        }\n        if (themeTemplate === \"innerTable\") {\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1A\\u5185\\u5D4C\\u98CE\\u683C\\u4E0D\\u652F\\u6301\\u8054\\u5408\\u67E5\\u8BE2\\uFF0C\\u914D\\u7F6E\\u65E0\\u6548!\");\n          setFieldsValue({ joinQuery: 0 });\n        }\n        if (tableType === 1) {\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1A\\u5355\\u8868\\u4E0D\\u652F\\u6301\\u8054\\u5408\\u67E5\\u8BE2\\uFF0C\\u914D\\u7F6E\\u65E0\\u6548!\");\n          setFieldsValue({ joinQuery: 0 });\n        } else if (tableType === 3) {\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1A\\u5F53\\u524D\\u8868\\u4E3A\\u9644\\u8868\\uFF0C\\u8BF7\\u5728\\u5BF9\\u5E94\\u4E3B\\u8868\\u914D\\u7F6E!\");\n          setFieldsValue({ joinQuery: 0 });\n        } else if (isTree === \"Y\") {\n          $message.warning(\"\\u8BF7\\u6CE8\\u610F\\uFF1A\\u6811\\u5F62\\u5217\\u8868\\u4E0D\\u652F\\u6301\\u8054\\u5408\\u67E5\\u8BE2\\uFF0C\\u914D\\u7F6E\\u65E0\\u6548!\");\n          setFieldsValue({ joinQuery: 0 });\n        }\n      }\n    }\n    return {\n      handleOk,\n      handleCancel,\n      registerModal,\n      registerForm\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_BasicForm = resolveComponent(\"BasicForm\");\n  const _component_BasicModal = resolveComponent(\"BasicModal\");\n  return openBlock(), createBlock(_component_BasicModal, {\n    onRegister: _ctx.registerModal,\n    title: \"\\u6269\\u5C55\\u914D\\u7F6E\",\n    width: 1e3,\n    onOk: _ctx.handleOk,\n    onCancel: _ctx.handleCancel\n  }, {\n    default: withCtx(() => [\n      createVNode(_component_BasicForm, { onRegister: _ctx.registerForm }, null, 8, [\"onRegister\"])\n    ]),\n    _: 1\n  }, 8, [\"onRegister\", \"onOk\", \"onCancel\"]);\n}\nvar ExtendConfigModal = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__scopeId\", \"data-v-5fbb254e\"]]);\nexport { ExtendConfigModal as default };\n"],
  "mappings": "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",
  "names": []
}
