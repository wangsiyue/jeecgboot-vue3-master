{
  "version": 3,
  "sources": ["../../@jeecg/online/GraphreportList.js"],
  "sourcesContent": ["var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nimport { defineComponent, resolveComponent, openBlock, createElementBlock, Fragment, createElementVNode, normalizeClass, createVNode, withCtx, createBlock, createCommentVNode, createTextVNode, ref, h } from \"vue\";\nimport { router } from \"/@/router\";\nimport { useListPage } from \"/@/hooks/system/useListPage\";\nimport { l as list, A as Api, d as doBatchDelete, q as queryParamsList } from \"./graphreport.api.js\";\nimport { BasicTable, TableAction } from \"/@/components/Table\";\nimport ExcelButton from \"/@/components/jeecg/ExcelButton.vue\";\nimport { useModal } from \"/@/components/Modal\";\nimport { useCopyModal } from \"/@/hooks/web/useCopyModal\";\nimport GraphreportModal from \"./GraphreportModal.js\";\nimport { _ as _export_sfc } from \"./index.js\";\nimport \"/@/utils/http/axios\";\nimport \"/@/components/Form/index\";\nimport \"/@/hooks/web/useMessage\";\nimport \"/@/views/system/user/user.api\";\nimport \"/@/utils/common/compUtils\";\nimport \"/@/store/modules/permission\";\nimport \"./FieldTable.js\";\nimport \"/@/components/jeecg/JVxeTable/types\";\nimport \"./useMessageOnline.js\";\nimport \"ant-design-vue\";\nimport \"@ant-design/icons-vue\";\nimport \"/@/utils/is\";\nimport \"./ParamsTable.js\";\nimport \"/@/components/jeecg/OnLine/JPopupOnlReport.vue\";\nimport \"vue-router\";\nconst _sfc_main = defineComponent({\n  name: \"GraphreportList\",\n  components: { ExcelButton, BasicTable, TableAction, GraphreportModal },\n  setup() {\n    const { prefixCls, doRequest, doDeleteRecord, tableContext } = useListPage({\n      designScope: \"online-graphreport-list\",\n      tableProps: {\n        api: list,\n        columns: [\n          { title: \"\\u56FE\\u8868\\u540D\\u79F0\", dataIndex: \"name\" },\n          { title: \"\\u7F16\\u7801\", dataIndex: \"code\" },\n          { title: \"\\u6570\\u636E\", dataIndex: \"cgrSql\" },\n          { title: \"Y\\u8F74\\u6587\\u5B57\", dataIndex: \"yaxisText\" },\n          { title: \"X\\u8F74\\u5B57\\u6BB5\", dataIndex: \"xaxisField\" }\n        ],\n        formConfig: {\n          labelWidth: 200,\n          schemas: [\n            { label: \"\\u56FE\\u8868\\u540D\\u79F0\", field: \"name\", component: \"JInput\" },\n            { label: \"\\u7F16\\u7801\", field: \"code\", component: \"JInput\" }\n          ]\n        }\n      }\n    });\n    const [registerTable, { reload }, { rowSelection, selectedRowKeys }] = tableContext;\n    const excelConfig = {\n      export: {\n        name: \"Online\\u56FE\\u8868\",\n        url: Api.exportXls\n      },\n      import: {\n        url: Api.importXls,\n        success: reload\n      }\n    };\n    const [registerFormModal, formModal] = useModal();\n    function onAdd() {\n      formModal.openModal(true, { isUpdate: false });\n    }\n    function onEdit(record) {\n      formModal.openModal(true, { isUpdate: true, record });\n    }\n    function onBatchDelete() {\n      return __async(this, null, function* () {\n        doRequest(() => doBatchDelete(selectedRowKeys.value));\n      });\n    }\n    function onGoToTest(record) {\n      router.push(\"/online/graphreport/chart/\" + record.id);\n    }\n    const { createCopyModal } = useCopyModal();\n    function onShowOnlineUrl(record) {\n      return __async(this, null, function* () {\n        let baseUrl = `/online/graphreport/chart/${record.id}`;\n        let copyText = ref(baseUrl);\n        createCopyModal({\n          title: `\\u914D\\u7F6E\\u5730\\u5740\\u3010${record.name}\\u3011`,\n          content: () => h(\"div\", {}, copyText.value),\n          copyText\n        });\n        let result = yield queryParamsList(record.id);\n        if (result && result.length > 0) {\n          let str = \"?\";\n          result.forEach((item) => {\n            str += item.paramName + \"=${\" + item.paramName + \"}&\";\n          });\n          str = str.substring(0, str.length - 1);\n          copyText.value = `${baseUrl}${str}`;\n        }\n      });\n    }\n    function getTableAction(record) {\n      return [\n        {\n          label: \"\\u7F16\\u8F91\",\n          onClick: () => onEdit(record)\n        }\n      ];\n    }\n    function getDropDownAction(record) {\n      return [\n        {\n          label: \"\\u529F\\u80FD\\u6D4B\\u8BD5\",\n          onClick: () => onGoToTest(record)\n        },\n        {\n          label: \"\\u914D\\u7F6E\\u5730\\u5740\",\n          onClick: () => onShowOnlineUrl(record)\n        },\n        {\n          label: \"\\u5220\\u9664\",\n          popConfirm: {\n            title: \"\\u786E\\u5B9A\\u5220\\u9664\\u5417\\uFF1F\",\n            placement: \"left\",\n            confirm: () => doDeleteRecord(() => doBatchDelete([record.id]))\n          }\n        }\n      ];\n    }\n    return {\n      reload,\n      prefixCls,\n      rowSelection,\n      selectedRowKeys,\n      onAdd,\n      getTableAction,\n      getDropDownAction,\n      onBatchDelete,\n      registerTable,\n      registerFormModal,\n      excelConfig\n    };\n  }\n});\nconst _hoisted_1 = /* @__PURE__ */ createTextVNode(\"\\u65B0\\u589E\");\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"span\", null, \"\\u5220\\u9664\", -1);\nconst _hoisted_3 = /* @__PURE__ */ createElementVNode(\"span\", null, \"\\u6279\\u91CF\\u64CD\\u4F5C\", -1);\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = resolveComponent(\"a-button\");\n  const _component_ExcelButton = resolveComponent(\"ExcelButton\");\n  const _component_a_icon = resolveComponent(\"a-icon\");\n  const _component_a_menu_item = resolveComponent(\"a-menu-item\");\n  const _component_a_menu = resolveComponent(\"a-menu\");\n  const _component_a_dropdown = resolveComponent(\"a-dropdown\");\n  const _component_TableAction = resolveComponent(\"TableAction\");\n  const _component_BasicTable = resolveComponent(\"BasicTable\");\n  const _component_GraphreportModal = resolveComponent(\"GraphreportModal\");\n  return openBlock(), createElementBlock(Fragment, null, [\n    createElementVNode(\"div\", {\n      class: normalizeClass(_ctx.prefixCls)\n    }, [\n      createVNode(_component_BasicTable, {\n        onRegister: _ctx.registerTable,\n        rowSelection: _ctx.rowSelection\n      }, {\n        tableTitle: withCtx(() => [\n          createVNode(_component_a_button, {\n            onClick: _ctx.onAdd,\n            type: \"primary\",\n            preIcon: \"ant-design:plus\"\n          }, {\n            default: withCtx(() => [\n              _hoisted_1\n            ]),\n            _: 1\n          }, 8, [\"onClick\"]),\n          createVNode(_component_ExcelButton, { config: _ctx.excelConfig }, null, 8, [\"config\"]),\n          _ctx.selectedRowKeys.length > 0 ? (openBlock(), createBlock(_component_a_dropdown, { key: 0 }, {\n            overlay: withCtx(() => [\n              createVNode(_component_a_menu, null, {\n                default: withCtx(() => [\n                  createVNode(_component_a_menu_item, {\n                    key: \"1\",\n                    onClick: _ctx.onBatchDelete\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_a_icon, { type: \"delete\" }),\n                      _hoisted_2\n                    ]),\n                    _: 1\n                  }, 8, [\"onClick\"])\n                ]),\n                _: 1\n              })\n            ]),\n            default: withCtx(() => [\n              createVNode(_component_a_button, null, {\n                default: withCtx(() => [\n                  _hoisted_3,\n                  createVNode(_component_a_icon, { type: \"down\" })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })) : createCommentVNode(\"\", true)\n        ]),\n        action: withCtx(({ record }) => [\n          createVNode(_component_TableAction, {\n            actions: _ctx.getTableAction(record),\n            dropDownActions: _ctx.getDropDownAction(record)\n          }, null, 8, [\"actions\", \"dropDownActions\"])\n        ]),\n        _: 1\n      }, 8, [\"onRegister\", \"rowSelection\"])\n    ], 2),\n    createVNode(_component_GraphreportModal, {\n      onRegister: _ctx.registerFormModal,\n      onSuccess: _ctx.reload\n    }, null, 8, [\"onRegister\", \"onSuccess\"])\n  ], 64);\n}\nvar GraphreportList = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\nexport { GraphreportList as default };\n"],
  "mappings": "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",
  "names": ["default"]
}
