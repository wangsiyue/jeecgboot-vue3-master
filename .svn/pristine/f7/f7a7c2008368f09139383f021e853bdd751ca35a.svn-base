{
  "version": 3,
  "sources": ["../../tinymce/plugins/table/plugin.js", "../../tinymce/plugins/table/index.js", "dep:tinymce_plugins_table"],
  "sourcesContent": ["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.5 (2022-05-25)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$2 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$2(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$2(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none$2 = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none$2,\n        each: noop,\n        bind: none$2,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none$2();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none$2,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$1 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var map$1 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$2 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$2(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$1 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten$1 = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$2 = function (xs, f) {\n      return flatten$1(map$1(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure = function (x) {\n      return [x];\n    };\n    var sort$1 = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$d = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$d(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$d(xs, xs.length - 1);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    var detect$6 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$2(0, 0);\n    };\n    var nu$2 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$2,\n      detect: detect$6,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$5 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$1(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$5(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$5(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$1 = function (s) {\n      return !isNotEmpty(s);\n    };\n    var toFloat = function (value) {\n      var num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$4 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$4 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$3 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var COMMENT = 8;\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    var fromDom$1 = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint$1 = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$1 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq$1 = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$3().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n    var is$1 = is$2;\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$1(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity);\n    };\n    var size = function (obj) {\n      return keys(obj).length;\n    };\n    var get$c = function (obj, key) {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$1 = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n    var isEmpty = function (r) {\n      for (var x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    var validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    var isValidSection = function (parentName) {\n      return contains$2(validSectionList, parentName);\n    };\n    var grid = function (rows, columns) {\n      return {\n        rows: rows,\n        columns: columns\n      };\n    };\n    var address = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n    var detail = function (element, rowspan, colspan) {\n      return {\n        element: element,\n        rowspan: rowspan,\n        colspan: colspan\n      };\n    };\n    var detailnew = function (element, rowspan, colspan, isNew) {\n      return {\n        element: element,\n        rowspan: rowspan,\n        colspan: colspan,\n        isNew: isNew\n      };\n    };\n    var extended = function (element, rowspan, colspan, row, column, isLocked) {\n      return {\n        element: element,\n        rowspan: rowspan,\n        colspan: colspan,\n        row: row,\n        column: column,\n        isLocked: isLocked\n      };\n    };\n    var rowdetail = function (element, cells, section) {\n      return {\n        element: element,\n        cells: cells,\n        section: section\n      };\n    };\n    var rowdetailnew = function (element, cells, section, isNew) {\n      return {\n        element: element,\n        cells: cells,\n        section: section,\n        isNew: isNew\n      };\n    };\n    var elementnew = function (element, isNew, isLocked) {\n      return {\n        element: element,\n        isNew: isNew,\n        isLocked: isLocked\n      };\n    };\n    var rowcells = function (element, cells, section, isNew) {\n      return {\n        element: element,\n        cells: cells,\n        section: section,\n        isNew: isNew\n      };\n    };\n    var bounds = function (startRow, startCol, finishRow, finishCol) {\n      return {\n        startRow: startRow,\n        startCol: startCol,\n        finishRow: finishRow,\n        finishCol: finishCol\n      };\n    };\n    var columnext = function (element, colspan, column) {\n      return {\n        element: element,\n        colspan: colspan,\n        column: column\n      };\n    };\n    var colgroup = function (element, columns) {\n      return {\n        element: element,\n        columns: columns\n      };\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type$1 = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type$1(element) === t;\n      };\n    };\n    var isComment = function (element) {\n      return type$1(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement = isType(ELEMENT);\n    var isText = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement(e) && name(e) === tag;\n      };\n    };\n\n    var owner = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner(dos);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentElement = function (element) {\n      return Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    };\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var prevSibling = function (element) {\n      return Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children$3 = function (element) {\n      return map$1(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$3 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$3(element, 0);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported$1 = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body$1 = function () {\n      return getBody$1(SugarElement.fromDom(document));\n    };\n    var getBody$1 = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var ancestors$4 = function (scope, predicate, isRoot) {\n      return filter$2(parents(scope, isRoot), predicate);\n    };\n    var children$2 = function (scope, predicate) {\n      return filter$2(children$3(scope), predicate);\n    };\n    var descendants$1 = function (scope, predicate) {\n      var result = [];\n      each$2(children$3(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    var ancestors$3 = function (scope, selector, isRoot) {\n      return ancestors$4(scope, function (e) {\n        return is$2(e, selector);\n      }, isRoot);\n    };\n    var children$1 = function (scope, selector) {\n      return children$2(scope, function (e) {\n        return is$2(e, selector);\n      });\n    };\n    var descendants = function (scope, selector) {\n      return all$1(selector, scope);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$2 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$2 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    var child$2 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor$2(scope, function (e) {\n        return is$2(e, selector);\n      }, isRoot);\n    };\n    var child$1 = function (scope, selector) {\n      return child$2(scope, function (e) {\n        return is$2(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is = function (element, selector) {\n        return is$2(element, selector);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$2 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, attrs) {\n      each$1(attrs, function (v, k) {\n        v.fold(function () {\n          remove$7(element, k);\n        }, function (value) {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    var get$b = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$b(element, key));\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n    var clone$2 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var is = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var bindFrom = function (a, f) {\n      return a !== undefined && a !== null ? f(a) : Optional.none();\n    };\n    var flatten = function (oot) {\n      return oot.bind(identity);\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$1 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each$1(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$a = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw$2 = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var copy$2 = function (source, target) {\n      var sourceDom = source.dom;\n      var targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    var getAttrValue = function (cell, name, fallback) {\n      if (fallback === void 0) {\n        fallback = 0;\n      }\n      return getOpt(cell, name).map(function (value) {\n        return parseInt(value, 10);\n      }).getOr(fallback);\n    };\n    var getSpan = function (cell, type) {\n      return getAttrValue(cell, type, 1);\n    };\n    var hasColspan = function (cellOrCol) {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    var hasRowspan = function (cell) {\n      return getSpan(cell, 'rowspan') > 1;\n    };\n    var getCssValue = function (element, property) {\n      return parseInt(get$a(element, property), 10);\n    };\n    var minWidth = constant(10);\n    var minHeight = constant(10);\n\n    var firstLayer = function (scope, selector) {\n      return filterFirstLayer(scope, selector, always);\n    };\n    var filterFirstLayer = function (scope, selector, predicate) {\n      return bind$2(children$3(scope), function (x) {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    var lookup = function (tags, element, isRoot) {\n      if (isRoot === void 0) {\n        isRoot = never;\n      }\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      var isRootOrUpperTable = function (elm) {\n        return is$2(elm, 'table') || isRoot(elm);\n      };\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    var cell = function (element, isRoot) {\n      return lookup([\n        'td',\n        'th'\n      ], element, isRoot);\n    };\n    var cells$1 = function (ancestor) {\n      return firstLayer(ancestor, 'th,td');\n    };\n    var columns$1 = function (ancestor) {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), function (columnGroup) {\n          return children$1(columnGroup, 'col');\n        });\n      }\n    };\n    var table = function (element, isRoot) {\n      return closest$1(element, 'table', isRoot);\n    };\n    var rows$1 = function (ancestor) {\n      return firstLayer(ancestor, 'tr');\n    };\n    var columnGroups = function (ancestor) {\n      return table(ancestor).fold(constant([]), function (table) {\n        return children$1(table, 'colgroup');\n      });\n    };\n\n    var fromRowsOrColGroups = function (elems, getSection) {\n      return map$1(elems, function (row) {\n        if (name(row) === 'colgroup') {\n          var cells = map$1(columns$1(row), function (column) {\n            var colspan = getAttrValue(column, 'span', 1);\n            return detail(column, 1, colspan);\n          });\n          return rowdetail(row, cells, 'colgroup');\n        } else {\n          var cells = map$1(cells$1(row), function (cell) {\n            var rowspan = getAttrValue(cell, 'rowspan', 1);\n            var colspan = getAttrValue(cell, 'colspan', 1);\n            return detail(cell, rowspan, colspan);\n          });\n          return rowdetail(row, cells, getSection(row));\n        }\n      });\n    };\n    var getParentSection = function (group) {\n      return parent(group).map(function (parent) {\n        var parentName = name(parent);\n        return isValidSection(parentName) ? parentName : 'tbody';\n      }).getOr('tbody');\n    };\n    var fromTable$1 = function (table) {\n      var rows = rows$1(table);\n      var columnGroups$1 = columnGroups(table);\n      var elems = __spreadArray(__spreadArray([], columnGroups$1, true), rows, true);\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    var fromPastedRows = function (elems, section) {\n      return fromRowsOrColGroups(elems, function () {\n        return section;\n      });\n    };\n\n    var addCells = function (gridRow, index, cells) {\n      var existingCells = gridRow.cells;\n      var before = existingCells.slice(0, index);\n      var after = existingCells.slice(index);\n      var newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    var addCell = function (gridRow, index, cell) {\n      return addCells(gridRow, index, [cell]);\n    };\n    var mutateCell = function (gridRow, index, cell) {\n      var cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    var setCells = function (gridRow, cells) {\n      return rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    };\n    var mapCells = function (gridRow, f) {\n      var cells = gridRow.cells;\n      var r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    var getCell = function (gridRow, index) {\n      return gridRow.cells[index];\n    };\n    var getCellElement = function (gridRow, index) {\n      return getCell(gridRow, index).element;\n    };\n    var cellLength = function (gridRow) {\n      return gridRow.cells.length;\n    };\n    var extractGridDetails = function (grid) {\n      var result = partition(grid, function (row) {\n        return row.section === 'colgroup';\n      });\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    var clone$1 = function (gridRow, cloneRow, cloneCell) {\n      var newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    var LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    var getLockedColumnsFromTable = function (table) {\n      return getOpt(table, LOCKED_COL_ATTR).bind(function (lockedColStr) {\n        return Optional.from(lockedColStr.match(/\\d+/g));\n      }).map(function (lockedCols) {\n        return mapToObject(lockedCols, always);\n      });\n    };\n    var getLockedColumnsFromGrid = function (grid) {\n      var locked = foldl(extractGridDetails(grid).rows, function (acc, row) {\n        each$2(row.cells, function (cell, idx) {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      var lockedArr = mapToArray(locked, function (_val, key) {\n        return parseInt(key, 10);\n      });\n      return sort$1(lockedArr);\n    };\n\n    var key = function (row, column) {\n      return row + ',' + column;\n    };\n    var getAt = function (warehouse, row, column) {\n      return Optional.from(warehouse.access[key(row, column)]);\n    };\n    var findItem = function (warehouse, item, comparator) {\n      var filtered = filterItems(warehouse, function (detail) {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    var filterItems = function (warehouse, predicate) {\n      var all = bind$2(warehouse.all, function (r) {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    var generateColumns = function (rowData) {\n      var columnsGroup = {};\n      var index = 0;\n      each$2(rowData.cells, function (column) {\n        var colspan = column.colspan;\n        range$1(colspan, function (columnIndex) {\n          var colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    var generate$1 = function (list) {\n      var access = {};\n      var cells = [];\n      var tableOpt = head(list).map(function (rowData) {\n        return rowData.element;\n      }).bind(table);\n      var lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      var maxRows = 0;\n      var maxColumns = 0;\n      var rowCount = 0;\n      var _a = partition(list, function (rowData) {\n          return rowData.section === 'colgroup';\n        }), colgroupRows = _a.pass, rows = _a.fail;\n      each$2(rows, function (rowData) {\n        var currentRow = [];\n        each$2(rowData.cells, function (rowCell) {\n          var start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          var isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          var current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (var occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (var occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              var rowPosition = rowCount + occupiedRowPosition;\n              var columnPosition = start + occupiedColumnPosition;\n              var newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      var _b = last$2(colgroupRows).map(function (rowData) {\n          var columns = generateColumns(rowData);\n          var colgroup$1 = colgroup(rowData.element, values(columns));\n          return {\n            colgroups: [colgroup$1],\n            columns: columns\n          };\n        }).getOrThunk(function () {\n          return {\n            colgroups: [],\n            columns: {}\n          };\n        }), columns = _b.columns, colgroups = _b.colgroups;\n      var grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access: access,\n        all: cells,\n        columns: columns,\n        colgroups: colgroups\n      };\n    };\n    var fromTable = function (table) {\n      var list = fromTable$1(table);\n      return generate$1(list);\n    };\n    var justCells = function (warehouse) {\n      return bind$2(warehouse.all, function (w) {\n        return w.cells;\n      });\n    };\n    var justColumns = function (warehouse) {\n      return values(warehouse.columns);\n    };\n    var hasColumns = function (warehouse) {\n      return keys(warehouse.columns).length > 0;\n    };\n    var getColumnAt = function (warehouse, columnIndex) {\n      return Optional.from(warehouse.columns[columnIndex]);\n    };\n    var Warehouse = {\n      fromTable: fromTable,\n      generate: generate$1,\n      getAt: getAt,\n      findItem: findItem,\n      filterItems: filterItems,\n      justCells: justCells,\n      justColumns: justColumns,\n      hasColumns: hasColumns,\n      getColumnAt: getColumnAt\n    };\n\n    var inSelection = function (bounds, detail) {\n      var leftEdge = detail.column;\n      var rightEdge = detail.column + detail.colspan - 1;\n      var topEdge = detail.row;\n      var bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    var isWithin = function (bounds, detail) {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    var isRectangular = function (warehouse, bounds) {\n      var isRect = true;\n      var detailIsWithin = curry(isWithin, bounds);\n      for (var i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (var j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    var getBounds = function (detailA, detailB) {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    var getAnyBox = function (warehouse, startCell, finishCell) {\n      var startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      var finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(function (sc) {\n        return finishCoords.map(function (fc) {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    var getBox$1 = function (warehouse, startCell, finishCell) {\n      return getAnyBox(warehouse, startCell, finishCell).bind(function (bounds) {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    var moveBy$1 = function (warehouse, cell, row, column) {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(function (detail) {\n        var startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        var startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        var dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(function (d) {\n          return d.element;\n        });\n      });\n    };\n    var intercepts$1 = function (warehouse, start, finish) {\n      return getAnyBox(warehouse, start, finish).map(function (bounds) {\n        var inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, function (detail) {\n          return detail.element;\n        });\n      });\n    };\n    var parentCell = function (warehouse, innerCell) {\n      var isContainedBy = function (c1, c2) {\n        return contains(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(function (detail) {\n        return detail.element;\n      });\n    };\n\n    var moveBy = function (cell, deltaRow, deltaColumn) {\n      return table(cell).bind(function (table) {\n        var warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    var intercepts = function (table, first, last) {\n      var warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    var nestedIntercepts = function (table, first, firstTable, last, lastTable) {\n      var warehouse = getWarehouse(table);\n      var optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      var optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(function (startCell) {\n        return optLastCell.bind(function (lastCell) {\n          return intercepts$1(warehouse, startCell, lastCell);\n        });\n      });\n    };\n    var getBox = function (table, first, last) {\n      var warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    var getWarehouse = Warehouse.fromTable;\n\n    var before$4 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$5 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$1(v, element);\n        });\n      }, function (v) {\n        before$4(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$1(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$3(parent, index).fold(function () {\n        append$1(parent, element);\n      }, function (v) {\n        before$4(v, element);\n      });\n    };\n    var wrap = function (element, wrapper) {\n      before$4(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    var before$3 = function (marker, elements) {\n      each$2(elements, function (x) {\n        before$4(marker, x);\n      });\n    };\n    var after$4 = function (marker, elements) {\n      each$2(elements, function (x, i) {\n        var e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$2(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$2(children$3(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children = children$3(wrapper);\n      if (children.length > 0) {\n        before$3(wrapper, children);\n      }\n      remove$5(wrapper);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api$2 = NodeValue(isText, 'text');\n    var get$9 = function (element) {\n      return api$2.get(element);\n    };\n    var getOption = function (element) {\n      return api$2.getOption(element);\n    };\n    var set = function (element, value) {\n      return api$2.set(element, value);\n    };\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    function DomUniverse () {\n      var clone = function (element) {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      var document = function (element) {\n        return documentOrOwner(element).dom;\n      };\n      var isBoundary = function (element) {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      var isEmptyTag = function (element) {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      var isNonEditable = function (element) {\n        return isElement(element) && get$b(element, 'contenteditable') === 'false';\n      };\n      var comparePosition = function (element, other) {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      var copyAttributesTo = function (source, destination) {\n        var as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      var isSpecial = function (element) {\n        var tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      var getLanguage = function (element) {\n        return isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      };\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$6\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$4,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$5\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition: comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document: document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial: isSpecial,\n          getLanguage: getLanguage,\n          getText: get$9,\n          setText: set,\n          isBoundary: isBoundary,\n          isEmptyTag: isEmptyTag,\n          isNonEditable: isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    }\n\n    var all = function (universe, look, elements, f) {\n      var head = elements[0];\n      var tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    var oneAll = function (universe, look, elements) {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    var unsafeOne = function (universe, look, head, tail) {\n      var start = look(universe, head);\n      return foldr(tail, function (b, a) {\n        var current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    var commonElement = function (universe, start, end) {\n      return start.bind(function (s) {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    var eq = function (universe, item) {\n      return curry(universe.eq, item);\n    };\n    var ancestors$2 = function (universe, start, end, isRoot) {\n      if (isRoot === void 0) {\n        isRoot = never;\n      }\n      var ps1 = [start].concat(universe.up().all(start));\n      var ps2 = [end].concat(universe.up().all(end));\n      var prune = function (path) {\n        var index = findIndex(path, isRoot);\n        return index.fold(function () {\n          return path;\n        }, function (ind) {\n          return path.slice(0, ind + 1);\n        });\n      };\n      var pruned1 = prune(ps1);\n      var pruned2 = prune(ps2);\n      var shared = find$1(pruned1, function (x) {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared: shared\n      };\n    };\n\n    var sharedOne$1 = oneAll;\n    var ancestors$1 = ancestors$2;\n\n    var universe$3 = DomUniverse();\n    var sharedOne = function (look, elements) {\n      return sharedOne$1(universe$3, function (_universe, element) {\n        return look(element);\n      }, elements);\n    };\n    var ancestors = function (start, finish, isRoot) {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    var lookupTable = function (container) {\n      return ancestor$1(container, 'table');\n    };\n    var identify = function (start, finish, isRoot) {\n      var getIsRoot = function (rootTable) {\n        return function (element) {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start: start,\n          finish: finish\n        });\n      } else {\n        return lookupTable(start).bind(function (startTable) {\n          return lookupTable(finish).bind(function (finishTable) {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start: start,\n                finish: finish\n              });\n            } else if (contains(startTable, finishTable)) {\n              var ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              var finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start: start,\n                finish: finishCell\n              });\n            } else if (contains(finishTable, startTable)) {\n              var ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              var startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start: start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(function (lca) {\n                return closest$1(lca, 'table', isRoot).bind(function (lcaTable) {\n                  var finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  var finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  var startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  var startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    var retrieve$1 = function (container, selector) {\n      var sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    var getLast = function (boxes, lastSelectedSelector) {\n      return find$1(boxes, function (box) {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    var getEdges = function (container, firstSelectedSelector, lastSelectedSelector) {\n      return descendant(container, firstSelectedSelector).bind(function (first) {\n        return descendant(container, lastSelectedSelector).bind(function (last) {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(function (table) {\n            return {\n              first: first,\n              last: last,\n              table: table\n            };\n          });\n        });\n      });\n    };\n    var expandTo = function (finish, firstSelectedSelector) {\n      return ancestor$1(finish, 'table').bind(function (table) {\n        return descendant(table, firstSelectedSelector).bind(function (start) {\n          return identify(start, finish).bind(function (identified) {\n            return identified.boxes.map(function (boxes) {\n              return {\n                boxes: boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    var shiftSelection = function (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) {\n      return getLast(boxes, lastSelectedSelector).bind(function (last) {\n        return moveBy(last, deltaRow, deltaColumn).bind(function (finish) {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    var retrieve = function (container, selector) {\n      return retrieve$1(container, selector);\n    };\n    var retrieveBox = function (container, firstSelectedSelector, lastSelectedSelector) {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(function (edges) {\n        var isRoot = function (ancestor) {\n          return eq$1(container, ancestor);\n        };\n        var sectionSelector = 'thead,tfoot,tbody,table';\n        var firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        var lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(function (fA) {\n          return lastAncestor.bind(function (lA) {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    var generate = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$2(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate };\n\n    var type = Adt.generate([\n      { none: [] },\n      { multiple: ['elements'] },\n      { single: ['element'] }\n    ]);\n    var cata$2 = function (subject, onNone, onMultiple, onSingle) {\n      return subject.fold(onNone, onMultiple, onSingle);\n    };\n    var none$1 = type.none;\n    var multiple = type.multiple;\n    var single = type.single;\n\n    var Selections = function (lazyRoot, getStart, selectedSelector) {\n      var get = function () {\n        return retrieve(lazyRoot(), selectedSelector).fold(function () {\n          return getStart().fold(none$1, single);\n        }, function (cells) {\n          return multiple(cells);\n        });\n      };\n      return { get: get };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var clone = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone(original, false);\n    };\n    var deep = function (original) {\n      return clone(original, true);\n    };\n    var shallowAs = function (original, tag) {\n      var nu = SugarElement.fromTag(tag);\n      var attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    var copy$1 = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      var cloneChildren = children$3(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    var mutate$1 = function (original, tag) {\n      var nu = shallowAs(original, tag);\n      before$4(original, nu);\n      var children = children$3(original);\n      append(nu, children);\n      remove$5(original);\n      return nu;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$a(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var needManualCalc = function () {\n      var browser = detect$3().browser;\n      return browser.isIE() || browser.isEdge();\n    };\n    var toNumber = function (px, fallback) {\n      return toFloat(px).getOr(fallback);\n    };\n    var getProp = function (element, name, fallback) {\n      return toNumber(get$a(element, name), fallback);\n    };\n    var getBoxSizing = function (element) {\n      return get$a(element, 'box-sizing');\n    };\n    var calcContentBoxSize = function (element, size, upper, lower) {\n      var paddingUpper = getProp(element, 'padding-' + upper, 0);\n      var paddingLower = getProp(element, 'padding-' + lower, 0);\n      var borderUpper = getProp(element, 'border-' + upper + '-width', 0);\n      var borderLower = getProp(element, 'border-' + lower + '-width', 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    var getCalculatedHeight = function (element, boxSizing) {\n      var dom = element.dom;\n      var height = dom.getBoundingClientRect().height || dom.offsetHeight;\n      return boxSizing === 'border-box' ? height : calcContentBoxSize(element, height, 'top', 'bottom');\n    };\n    var getCalculatedWidth = function (element, boxSizing) {\n      var dom = element.dom;\n      var width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    var getHeight$1 = function (element) {\n      return needManualCalc() ? getCalculatedHeight(element, getBoxSizing(element)) : getProp(element, 'height', element.dom.offsetHeight);\n    };\n    var getWidth = function (element) {\n      return needManualCalc() ? getCalculatedWidth(element, getBoxSizing(element)) : getProp(element, 'width', element.dom.offsetWidth);\n    };\n    var getInnerWidth = function (element) {\n      return getCalculatedWidth(element, 'content-box');\n    };\n\n    var api$1 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var get$8 = function (element) {\n      return api$1.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$1.getOuter(element);\n    };\n    var getInner = getInnerWidth;\n    var getRuntime$1 = getWidth;\n\n    var columns = function (warehouse, isValidCell) {\n      if (isValidCell === void 0) {\n        isValidCell = always;\n      }\n      var grid = warehouse.grid;\n      var cols = range$1(grid.columns, identity);\n      var rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, function (col) {\n        var getBlock = function () {\n          return bind$2(rowsArr, function (r) {\n            return Warehouse.getAt(warehouse, r, col).filter(function (detail) {\n              return detail.column === col;\n            }).toArray();\n          });\n        };\n        var isValid = function (detail) {\n          return detail.colspan === 1 && isValidCell(detail.element);\n        };\n        var getFallback = function () {\n          return Warehouse.getAt(warehouse, 0, col);\n        };\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    var decide = function (getBlock, isValid, getFallback) {\n      var inBlock = getBlock();\n      var validInBlock = find$1(inBlock, isValid);\n      var detailOption = validInBlock.orThunk(function () {\n        return Optional.from(inBlock[0]).orThunk(getFallback);\n      });\n      return detailOption.map(function (detail) {\n        return detail.element;\n      });\n    };\n    var rows = function (warehouse) {\n      var grid = warehouse.grid;\n      var rowsArr = range$1(grid.rows, identity);\n      var cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, function (row) {\n        var getBlock = function () {\n          return bind$2(cols, function (c) {\n            return Warehouse.getAt(warehouse, row, c).filter(function (detail) {\n              return detail.row === row;\n            }).fold(constant([]), function (detail) {\n              return [detail];\n            });\n          });\n        };\n        var isSingle = function (detail) {\n          return detail.rowspan === 1;\n        };\n        var getFallback = function () {\n          return Warehouse.getAt(warehouse, row, 0);\n        };\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    var deduce = function (xs, index) {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      var current = xs[index].fold(function () {\n        var rest = reverse(xs.slice(0, index));\n        return findMap(rest, function (a, i) {\n          return a.map(function (aa) {\n            return {\n              value: aa,\n              delta: i + 1\n            };\n          });\n        });\n      }, function (c) {\n        return Optional.some({\n          value: c,\n          delta: 0\n        });\n      });\n      var next = xs[index + 1].fold(function () {\n        var rest = xs.slice(index + 1);\n        return findMap(rest, function (a, i) {\n          return a.map(function (aa) {\n            return {\n              value: aa,\n              delta: i + 1\n            };\n          });\n        });\n      }, function (n) {\n        return Optional.some({\n          value: n,\n          delta: 1\n        });\n      });\n      return current.bind(function (c) {\n        return next.map(function (n) {\n          var extras = n.delta + c.delta;\n          return Math.abs(n.value - c.value) / extras;\n        });\n      });\n    };\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var api = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$7 = function (element) {\n      return api.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api.getOuter(element);\n    };\n    var getRuntime = getHeight$1;\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var rowInfo = function (row, y) {\n      return {\n        row: row,\n        y: y\n      };\n    };\n    var colInfo = function (col, x) {\n      return {\n        col: col,\n        x: x\n      };\n    };\n    var rtlEdge = function (cell) {\n      var pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    var ltrEdge = function (cell) {\n      return absolute(cell).left;\n    };\n    var getLeftEdge = function (index, cell) {\n      return colInfo(index, ltrEdge(cell));\n    };\n    var getRightEdge = function (index, cell) {\n      return colInfo(index, rtlEdge(cell));\n    };\n    var getTop$1 = function (cell) {\n      return absolute(cell).top;\n    };\n    var getTopEdge = function (index, cell) {\n      return rowInfo(index, getTop$1(cell));\n    };\n    var getBottomEdge = function (index, cell) {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    var findPositions = function (getInnerEdge, getOuterEdge, array) {\n      if (array.length === 0) {\n        return [];\n      }\n      var lines = map$1(array.slice(1), function (cellOption, index) {\n        return cellOption.map(function (cell) {\n          return getInnerEdge(index, cell);\n        });\n      });\n      var lastLine = array[array.length - 1].map(function (cell) {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    var negate = function (step) {\n      return -step;\n    };\n    var height = {\n      delta: identity,\n      positions: function (optElements) {\n        return findPositions(getTopEdge, getBottomEdge, optElements);\n      },\n      edge: getTop$1\n    };\n    var ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: function (optElements) {\n        return findPositions(getLeftEdge, getRightEdge, optElements);\n      }\n    };\n    var rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: function (optElements) {\n        return findPositions(getRightEdge, getLeftEdge, optElements);\n      }\n    };\n    var detect$2 = onDirection(ltr$1, rtl$1);\n    var width = {\n      delta: function (amount, table) {\n        return detect$2(table).delta(amount, table);\n      },\n      positions: function (cols, table) {\n        return detect$2(table).positions(cols, table);\n      },\n      edge: function (cell) {\n        return detect$2(cell).edge(cell);\n      }\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    var rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    var rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    var isCol$2 = isTag('col');\n    var getPercentSize = function (elm, outerGetter, innerGetter) {\n      var relativeParent = parentElement(elm).getOrThunk(function () {\n        return getBody$1(owner(elm));\n      });\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    var setPixelWidth = function (cell, amount) {\n      set$1(cell, 'width', amount + 'px');\n    };\n    var setPercentageWidth = function (cell, amount) {\n      set$1(cell, 'width', amount + '%');\n    };\n    var setHeight = function (cell, amount) {\n      set$1(cell, 'height', amount + 'px');\n    };\n    var getHeightValue = function (cell) {\n      return getRuntime(cell) + 'px';\n    };\n    var convert = function (cell, number, getter, setter) {\n      var newSize = table(cell).map(function (table) {\n        var total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    var normalizePixelSize = function (value, cell, getter, setter) {\n      var number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    var getTotalHeight = function (cell) {\n      var value = getHeightValue(cell);\n      if (!value) {\n        return get$7(cell);\n      }\n      return normalizePixelSize(value, cell, get$7, setHeight);\n    };\n    var get$6 = function (cell, type, f) {\n      var v = f(cell);\n      var span = getSpan(cell, type);\n      return v / span;\n    };\n    var getRaw$1 = function (element, prop) {\n      return getRaw$2(element, prop).orThunk(function () {\n        return getOpt(element, prop).map(function (val) {\n          return val + 'px';\n        });\n      });\n    };\n    var getRawWidth$1 = function (element) {\n      return getRaw$1(element, 'width');\n    };\n    var getRawHeight = function (element) {\n      return getRaw$1(element, 'height');\n    };\n    var getPercentageWidth = function (cell) {\n      return getPercentSize(cell, get$8, getInner);\n    };\n    var getPixelWidth$1 = function (cell) {\n      return isCol$2(cell) ? get$8(cell) : getRuntime$1(cell);\n    };\n    var getHeight = function (cell) {\n      return get$6(cell, 'rowspan', getTotalHeight);\n    };\n    var getGenericWidth = function (cell) {\n      var width = getRawWidth$1(cell);\n      return width.bind(function (w) {\n        return parse(w, [\n          'fixed',\n          'relative',\n          'empty'\n        ]);\n      });\n    };\n    var setGenericWidth = function (cell, amount, unit) {\n      set$1(cell, 'width', amount + unit);\n    };\n    var getPixelTableWidth = function (table) {\n      return get$8(table) + 'px';\n    };\n    var getPercentTableWidth = function (table) {\n      return getPercentSize(table, get$8, getInner) + '%';\n    };\n    var isPercentSizing$1 = function (table) {\n      return getRawWidth$1(table).exists(function (size) {\n        return rPercentageBasedSizeRegex.test(size);\n      });\n    };\n    var isPixelSizing$1 = function (table) {\n      return getRawWidth$1(table).exists(function (size) {\n        return rPixelBasedSizeRegex.test(size);\n      });\n    };\n    var isNoneSizing$1 = function (table) {\n      return getRawWidth$1(table).isNone();\n    };\n    var percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    var isCol$1 = isTag('col');\n    var getRawW = function (cell) {\n      return getRawWidth$1(cell).getOrThunk(function () {\n        return getPixelWidth$1(cell) + 'px';\n      });\n    };\n    var getRawH = function (cell) {\n      return getRawHeight(cell).getOrThunk(function () {\n        return getHeight(cell) + 'px';\n      });\n    };\n    var justCols = function (warehouse) {\n      return map$1(Warehouse.justColumns(warehouse), function (column) {\n        return Optional.from(column.element);\n      });\n    };\n    var isValidColumn = function (cell) {\n      var browser = detect$3().browser;\n      var supportsColWidths = browser.isChrome() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    var getDimension = function (cellOpt, index, backups, filter, getter, fallback) {\n      return cellOpt.filter(filter).fold(function () {\n        return fallback(deduce(backups, index));\n      }, function (cell) {\n        return getter(cell);\n      });\n    };\n    var getWidthFrom = function (warehouse, table, getWidth, fallback) {\n      var columnCells = columns(warehouse);\n      var columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      var backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), function (pos) {\n        return pos.map(function (p) {\n          return p.x;\n        });\n      }));\n      var colFilter = not(hasColspan);\n      return map$1(columns$1, function (cellOption, c) {\n        return getDimension(cellOption, c, backups, colFilter, function (column) {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            var cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, function (cell) {\n              return fallback(Optional.some(get$8(cell)));\n            }, fallback);\n          }\n        }, fallback);\n      });\n    };\n    var getDeduced = function (deduced) {\n      return deduced.map(function (d) {\n        return d + 'px';\n      }).getOr('');\n    };\n    var getRawWidths = function (warehouse, table) {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    var getPercentageWidths = function (warehouse, table, tableSize) {\n      return getWidthFrom(warehouse, table, getPercentageWidth, function (deduced) {\n        return deduced.fold(function () {\n          return tableSize.minCellWidth();\n        }, function (cellWidth) {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    var getPixelWidths = function (warehouse, table, tableSize) {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, function (deduced) {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    var getHeightFrom = function (warehouse, table, direction, getHeight, fallback) {\n      var rows$1 = rows(warehouse);\n      var backups = [Optional.some(direction.edge(table))].concat(map$1(direction.positions(rows$1, table), function (pos) {\n        return pos.map(function (p) {\n          return p.y;\n        });\n      }));\n      return map$1(rows$1, function (cellOption, c) {\n        return getDimension(cellOption, c, backups, not(hasRowspan), getHeight, fallback);\n      });\n    };\n    var getPixelHeights = function (warehouse, table, direction) {\n      return getHeightFrom(warehouse, table, direction, getHeight, function (deduced) {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    var getRawHeights = function (warehouse, table, direction) {\n      return getHeightFrom(warehouse, table, direction, getRawH, getDeduced);\n    };\n\n    var widthLookup = function (table, getter) {\n      return function () {\n        if (inBody(table)) {\n          return getter(table);\n        } else {\n          return parseFloat(getRaw$2(table, 'width').getOr('0'));\n        }\n      };\n    };\n    var noneSize = function (table) {\n      var getWidth = widthLookup(table, get$8);\n      var zero = constant(0);\n      var getWidths = function (warehouse, tableSize) {\n        return getPixelWidths(warehouse, table, tableSize);\n      };\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths: getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    var percentageSize = function (table) {\n      var getFloatWidth = widthLookup(table, function (elem) {\n        return parseFloat(getPercentTableWidth(elem));\n      });\n      var getWidth = widthLookup(table, get$8);\n      var getCellDelta = function (delta) {\n        return delta / getWidth() * 100;\n      };\n      var singleColumnWidth = function (w, _delta) {\n        return [100 - w];\n      };\n      var minCellWidth = function () {\n        return minWidth() / getWidth() * 100;\n      };\n      var adjustTableWidth = function (delta) {\n        var currentWidth = getFloatWidth();\n        var change = delta / 100 * currentWidth;\n        var newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      var getWidths = function (warehouse, tableSize) {\n        return getPercentageWidths(warehouse, table, tableSize);\n      };\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths: getWidths,\n        getCellDelta: getCellDelta,\n        singleColumnWidth: singleColumnWidth,\n        minCellWidth: minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth: adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    var pixelSize = function (table) {\n      var getWidth = widthLookup(table, get$8);\n      var getCellDelta = identity;\n      var singleColumnWidth = function (w, delta) {\n        var newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      var adjustTableWidth = function (delta) {\n        var newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      var getWidths = function (warehouse, tableSize) {\n        return getPixelWidths(warehouse, table, tableSize);\n      };\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths: getWidths,\n        getCellDelta: getCellDelta,\n        singleColumnWidth: singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth: adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    var chooseSize = function (element, width) {\n      var percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    var getTableSize = function (table) {\n      var width = getRawWidth$1(table);\n      return width.fold(function () {\n        return noneSize(table);\n      }, function (w) {\n        return chooseSize(table, w);\n      });\n    };\n    var TableSize = {\n      getTableSize: getTableSize,\n      pixelSize: pixelSize,\n      percentageSize: percentageSize,\n      noneSize: noneSize\n    };\n\n    var statsStruct = function (minRow, minCol, maxRow, maxCol, allCells, selectedCells) {\n      return {\n        minRow: minRow,\n        minCol: minCol,\n        maxRow: maxRow,\n        maxCol: maxCol,\n        allCells: allCells,\n        selectedCells: selectedCells\n      };\n    };\n    var findSelectedStats = function (house, isSelected) {\n      var totalColumns = house.grid.columns;\n      var totalRows = house.grid.rows;\n      var minRow = totalRows;\n      var minCol = totalColumns;\n      var maxRow = 0;\n      var maxCol = 0;\n      var allCells = [];\n      var selectedCells = [];\n      each$1(house.access, function (detail) {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          var startRow = detail.row;\n          var endRow = startRow + detail.rowspan - 1;\n          var startCol = detail.column;\n          var endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    var makeCell = function (list, seenSelected, rowIndex) {\n      var row = list[rowIndex].element;\n      var td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      var f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    var fillInGaps = function (list, house, stats, isSelected) {\n      var totalColumns = house.grid.columns;\n      var totalRows = house.grid.rows;\n      for (var i = 0; i < totalRows; i++) {\n        var seenSelected = false;\n        for (var j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            var needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(list, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    var clean = function (replica, stats, house, widthDelta) {\n      each$1(house.columns, function (col) {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$5(col.element);\n        }\n      });\n      var emptyRows = filter$2(firstLayer(replica, 'tr'), function (row) {\n        return row.dom.childElementCount === 0;\n      });\n      each$2(emptyRows, remove$5);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), function (cell) {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      var tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    var getTableWidthDelta = function (table, warehouse, tableSize, stats) {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      var colWidths = getPixelWidths(warehouse, table, tableSize);\n      var allColsWidth = foldl(colWidths, function (acc, width) {\n        return acc + width;\n      }, 0);\n      var selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), function (acc, width) {\n        return acc + width;\n      }, 0);\n      var newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      var delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    var extract$1 = function (table, selectedSelector) {\n      var isSelected = function (detail) {\n        return is$2(detail.element, selectedSelector);\n      };\n      var replica = deep(table);\n      var list = fromTable$1(replica);\n      var tableSize = TableSize.getTableSize(table);\n      var replicaHouse = Warehouse.generate(list);\n      var replicaStats = findSelectedStats(replicaHouse, isSelected);\n      var selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      var unselectedCells = filterFirstLayer(replica, 'th,td', function (cell) {\n        return is$2(cell, selector);\n      });\n      each$2(unselectedCells, remove$5);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      var house = Warehouse.fromTable(table);\n      var widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    var nbsp = '\\xA0';\n\n    var getEnd = function (element) {\n      return name(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children$3(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem));\n    };\n\n    var first = function (element) {\n      return descendant$1(element, isCursorPosition);\n    };\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children = children$3(element);\n        for (var i = children.length - 1; i >= 0; i--) {\n          var child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    var createCell = function (doc) {\n      return function () {\n        var td = SugarElement.fromTag('td', doc.dom);\n        append$1(td, SugarElement.fromTag('br', doc.dom));\n        return td;\n      };\n    };\n    var createCol = function (doc) {\n      return function () {\n        return SugarElement.fromTag('col', doc.dom);\n      };\n    };\n    var createColgroup = function (doc) {\n      return function () {\n        return SugarElement.fromTag('colgroup', doc.dom);\n      };\n    };\n    var createRow$1 = function (doc) {\n      return function () {\n        return SugarElement.fromTag('tr', doc.dom);\n      };\n    };\n    var replace$1 = function (cell, tag, attrs) {\n      var replica = copy$1(cell, tag);\n      each$1(attrs, function (v, k) {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    var pasteReplace = function (cell) {\n      return cell;\n    };\n    var cloneFormats = function (oldCell, newCell, formats) {\n      var first$1 = first(oldCell);\n      return first$1.map(function (firstText) {\n        var formatSelector = formats.join(',');\n        var parents = ancestors$3(firstText, formatSelector, function (element) {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, function (last, parent) {\n          var clonedFormat = shallow(parent);\n          remove$7(clonedFormat, 'contenteditable');\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    var cloneAppropriateAttributes = function (original, clone) {\n      each$1(transferableAttributes, function (validAttributes, attributeName) {\n        return getOpt(original, attributeName).filter(function (attribute) {\n          return contains$2(validAttributes, attribute);\n        }).each(function (attribute) {\n          return set$2(clone, attributeName, attribute);\n        });\n      });\n    };\n    var cellOperations = function (mutate, doc, formatsToClone) {\n      var cloneCss = function (prev, clone) {\n        copy$2(prev.element, clone);\n        remove$6(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$6(clone, 'width');\n        }\n      };\n      var newCell = function (prev) {\n        var td = SugarElement.fromTag(name(prev.element), doc.dom);\n        var formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        var lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      var newCol = function (prev) {\n        var col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    var paste$1 = function (doc) {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$3(SugarElement.fromDom(div));\n    };\n    var fromDom = function (nodes) {\n      return map$1(nodes, SugarElement.fromDom);\n    };\n\n    var getNodeName = function (elm) {\n      return elm.nodeName.toLowerCase();\n    };\n    var getBody = function (editor) {\n      return SugarElement.fromDom(editor.getBody());\n    };\n    var getPixelWidth = function (elm) {\n      return elm.getBoundingClientRect().width;\n    };\n    var getPixelHeight = function (elm) {\n      return elm.getBoundingClientRect().height;\n    };\n    var getIsRoot = function (editor) {\n      return function (element) {\n        return eq$1(element, getBody(editor));\n      };\n    };\n    var removePxSuffix = function (size) {\n      return size ? size.replace(/px$/, '') : '';\n    };\n    var addPxSuffix = function (size) {\n      return /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    };\n    var removeDataStyle = function (table) {\n      remove$7(table, 'data-mce-style');\n      var removeStyleAttribute = function (element) {\n        return remove$7(element, 'data-mce-style');\n      };\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    var getRawWidth = function (editor, elm) {\n      var raw = editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    var isPercentage$1 = function (value) {\n      return /^(\\d+(\\.\\d+)?)%$/.test(value);\n    };\n    var isPixel = function (value) {\n      return /^(\\d+(\\.\\d+)?)px$/.test(value);\n    };\n    var getSelectionStart = function (editor) {\n      return SugarElement.fromDom(editor.selection.getStart());\n    };\n    var getSelectionEnd = function (editor) {\n      return SugarElement.fromDom(editor.selection.getEnd());\n    };\n\n    var selection = function (selections) {\n      return cata$2(selections.get(), constant([]), identity, pure);\n    };\n    var unmergable = function (selections) {\n      var hasSpan = function (elem, type) {\n        return getOpt(elem, type).exists(function (span) {\n          return parseInt(span, 10) > 1;\n        });\n      };\n      var hasRowOrColSpan = function (elem) {\n        return hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      };\n      var candidates = selection(selections);\n      return candidates.length > 0 && forall(candidates, hasRowOrColSpan) ? Optional.some(candidates) : Optional.none();\n    };\n    var mergable = function (table, selections, ephemera) {\n      return cata$2(selections.get(), Optional.none, function (cells) {\n        if (cells.length <= 1) {\n          return Optional.none();\n        } else {\n          return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(function (bounds) {\n            return {\n              bounds: bounds,\n              cells: cells\n            };\n          });\n        }\n      }, Optional.none);\n    };\n\n    var strSelected = 'data-mce-selected';\n    var strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    var strAttributeSelector = '[' + strSelected + ']';\n    var strFirstSelected = 'data-mce-first-selected';\n    var strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    var strLastSelected = 'data-mce-last-selected';\n    var strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    var attributeSelector = strAttributeSelector;\n    var ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    var noMenu = function (cell) {\n      return {\n        element: cell,\n        mergable: Optional.none(),\n        unmergable: Optional.none(),\n        selection: [cell]\n      };\n    };\n    var forMenu = function (selections, table, cell) {\n      return {\n        element: cell,\n        mergable: mergable(table, selections, ephemera),\n        unmergable: unmergable(selections),\n        selection: selection(selections)\n      };\n    };\n    var paste = function (element, clipboard, generators) {\n      return {\n        element: element,\n        clipboard: clipboard,\n        generators: generators\n      };\n    };\n    var pasteRows = function (selections, cell, clipboard, generators) {\n      return {\n        selection: selection(selections),\n        clipboard: clipboard,\n        generators: generators\n      };\n    };\n\n    var getSelectionCellFallback = function (element) {\n      return table(element).bind(function (table) {\n        return retrieve(table, ephemera.firstSelectedSelector);\n      }).fold(constant(element), function (cells) {\n        return cells[0];\n      });\n    };\n    var getSelectionFromSelector = function (selector) {\n      return function (initCell, isRoot) {\n        var cellName = name(initCell);\n        var cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n        return closest$1(cell, selector, isRoot);\n      };\n    };\n    var getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    var getSelectionCell = getSelectionFromSelector('th,td');\n    var getCellsFromSelection = function (selections) {\n      return selection(selections);\n    };\n    var getRowsFromSelection = function (selected, selector) {\n      var cellOpt = getSelectionCell(selected);\n      var rowsOpt = cellOpt.bind(function (cell) {\n        return table(cell);\n      }).map(function (table) {\n        return rows$1(table);\n      });\n      return lift2(cellOpt, rowsOpt, function (cell, rows) {\n        return filter$2(rows, function (row) {\n          return exists(fromDom(row.dom.cells), function (rowCell) {\n            return get$b(rowCell, selector) === '1' || eq$1(rowCell, cell);\n          });\n        });\n      }).getOr([]);\n    };\n\n    var extractSelected = function (cells) {\n      return table(cells[0]).map(function (table) {\n        var replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    var serializeElements = function (editor, elements) {\n      return map$1(elements, function (elm) {\n        return editor.selection.serializer.serialize(elm.dom, {});\n      }).join('');\n    };\n    var getTextContent = function (elements) {\n      return map$1(elements, function (element) {\n        return element.dom.innerText;\n      }).join('');\n    };\n    var registerEvents = function (editor, selections, actions) {\n      editor.on('BeforeGetContent', function (e) {\n        var multiCellContext = function (cells) {\n          e.preventDefault();\n          extractSelected(cells).each(function (elements) {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          cata$2(selections.get(), noop, multiCellContext, noop);\n        }\n      });\n      editor.on('BeforeSetContent', function (e) {\n        if (e.selection === true && e.paste === true) {\n          var selectedCells = getCellsFromSelection(selections);\n          head(selectedCells).each(function (cell) {\n            table(cell).each(function (table) {\n              var elements = filter$2(fromHtml(e.content), function (content) {\n                return name(content) !== 'meta';\n              });\n              var isTable = isTag('table');\n              if (elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                var doc = SugarElement.fromDom(editor.getDoc());\n                var generators = paste$1(doc);\n                var targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(function () {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    var adt$7 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    var ColumnContext = __assign({}, adt$7);\n\n    var neighbours = function (input, index) {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    var determine = function (input, column, step, tableSize, resize) {\n      var result = input.slice(0);\n      var context = neighbours(input, column);\n      var onNone = constant(map$1(result, constant(0)));\n      var onOnly = function (index) {\n        return tableSize.singleColumnWidth(result[index], step);\n      };\n      var onLeft = function (index, next) {\n        return resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      };\n      var onMiddle = function (prev, index, next) {\n        return resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      };\n      var onRight = function (prev, index) {\n        return resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      };\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    var total = function (start, end, measures) {\n      var r = 0;\n      for (var i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    var recalculateWidthForCells = function (warehouse, widths) {\n      var all = Warehouse.justCells(warehouse);\n      return map$1(all, function (cell) {\n        var width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width: width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    var recalculateWidthForColumns = function (warehouse, widths) {\n      var groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, function (column, index) {\n        return {\n          element: column.element,\n          width: widths[index],\n          colspan: column.colspan\n        };\n      });\n    };\n    var recalculateHeightForCells = function (warehouse, heights) {\n      var all = Warehouse.justCells(warehouse);\n      return map$1(all, function (cell) {\n        var height = total(cell.row, cell.row + cell.rowspan, heights);\n        return {\n          element: cell.element,\n          height: height,\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    var matchRowHeight = function (warehouse, heights) {\n      return map$1(warehouse.all, function (row, i) {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    var sumUp = function (newSize) {\n      return foldr(newSize, function (b, a) {\n        return b + a;\n      }, 0);\n    };\n    var recalculate = function (warehouse, widths) {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    var recalculateAndApply = function (warehouse, widths, tableSize) {\n      var newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, function (cell) {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    var adjustWidth = function (table, delta, index, resizing, tableSize) {\n      var warehouse = Warehouse.fromTable(table);\n      var step = tableSize.getCellDelta(delta);\n      var widths = tableSize.getWidths(warehouse, tableSize);\n      var isLastColumn = index === warehouse.grid.columns - 1;\n      var clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      var deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      var newWidths = map$1(deltas, function (dx, i) {\n        return dx + widths[i];\n      });\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    var adjustHeight = function (table, delta, index, direction) {\n      var warehouse = Warehouse.fromTable(table);\n      var heights = getPixelHeights(warehouse, table, direction);\n      var newHeights = map$1(heights, function (dy, i) {\n        return index === i ? Math.max(delta + dy, minHeight()) : dy;\n      });\n      var newCellSizes = recalculateHeightForCells(warehouse, newHeights);\n      var newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, function (row) {\n        setHeight(row.element, row.height);\n      });\n      each$2(newCellSizes, function (cell) {\n        setHeight(cell.element, cell.height);\n      });\n      var total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    var adjustAndRedistributeWidths$1 = function (_table, list, details, tableSize, resizeBehaviour) {\n      var warehouse = Warehouse.generate(list);\n      var sizes = tableSize.getWidths(warehouse, tableSize);\n      var tablePixelWidth = tableSize.pixelWidth();\n      var _a = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative), newSizes = _a.newSizes, delta = _a.delta;\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    var adjustWidthTo = function (_table, list, _info, tableSize) {\n      var warehouse = Warehouse.generate(list);\n      var widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    var zero = function (array) {\n      return map$1(array, constant(0));\n    };\n    var surround = function (sizes, startIndex, endIndex, results, f) {\n      return f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    };\n    var clampDeltaHelper = function (predicate) {\n      return function (sizes, index, delta, minCellSize) {\n        if (!predicate(delta)) {\n          return delta;\n        } else {\n          var newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n          var diff = Math.abs(newSize - sizes[index]);\n          return delta >= 0 ? diff : -diff;\n        }\n      };\n    };\n    var clampNegativeDelta = clampDeltaHelper(function (delta) {\n      return delta < 0;\n    });\n    var clampDelta = clampDeltaHelper(always);\n    var resizeTable = function () {\n      var calcFixedDeltas = function (sizes, index, next, delta, minCellSize) {\n        var clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      var calcRelativeDeltas = function (sizes, index, delta, minCellSize) {\n        var ratio = (100 + delta) / 100;\n        var newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, function (size, idx) {\n          var newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      var calcLeftEdgeDeltas = function (sizes, index, next, delta, minCellSize, isRelative) {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      var calcMiddleDeltas = function (sizes, _prev, index, next, delta, minCellSize, isRelative) {\n        return calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      };\n      var resizeTable = function (resizer, delta) {\n        return resizer(delta);\n      };\n      var calcRightEdgeDeltas = function (sizes, _prev, index, delta, minCellSize, isRelative) {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          var clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      var calcRedestributedWidths = function (sizes, totalWidth, pixelDelta, isRelative) {\n        if (isRelative) {\n          var tableWidth = totalWidth + pixelDelta;\n          var ratio_1 = tableWidth / totalWidth;\n          var newSizes = map$1(sizes, function (size) {\n            return size / ratio_1;\n          });\n          return {\n            delta: ratio_1 * 100 - 100,\n            newSizes: newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable: resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas: calcLeftEdgeDeltas,\n        calcMiddleDeltas: calcMiddleDeltas,\n        calcRightEdgeDeltas: calcRightEdgeDeltas,\n        calcRedestributedWidths: calcRedestributedWidths\n      };\n    };\n    var preserveTable = function () {\n      var calcLeftEdgeDeltas = function (sizes, index, next, delta, minCellSize) {\n        var idx = delta >= 0 ? next : index;\n        var clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      var calcMiddleDeltas = function (sizes, _prev, index, next, delta, minCellSize) {\n        return calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      };\n      var resizeTable = function (resizer, delta, isLastColumn) {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      var calcRightEdgeDeltas = function (sizes, _prev, _index, delta, _minCellSize, isRelative) {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          var diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      var clampTableDelta = function (sizes, index, delta, minCellSize, isLastColumn) {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            var maxDelta = foldl(sizes, function (a, b) {\n              return a + b - minCellSize;\n            }, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      var calcRedestributedWidths = function (sizes, _totalWidth, _pixelDelta, _isRelative) {\n        return {\n          delta: 0,\n          newSizes: sizes\n        };\n      };\n      return {\n        resizeTable: resizeTable,\n        clampTableDelta: clampTableDelta,\n        calcLeftEdgeDeltas: calcLeftEdgeDeltas,\n        calcMiddleDeltas: calcMiddleDeltas,\n        calcRightEdgeDeltas: calcRightEdgeDeltas,\n        calcRedestributedWidths: calcRedestributedWidths\n      };\n    };\n\n    var only = function (element, isResizable) {\n      var parent = Optional.from(element.dom.documentElement).map(SugarElement.fromDom).getOr(element);\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable: isResizable\n      };\n    };\n    var detached = function (editable, chrome, isResizable) {\n      var origin = function () {\n        return absolute(chrome);\n      };\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: origin,\n        isResizable: isResizable\n      };\n    };\n    var body = function (editable, chrome, isResizable) {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable: isResizable\n      };\n    };\n    var ResizeWire = {\n      only: only,\n      detached: detached,\n      body: body\n    };\n\n    var adt$6 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    var validateFor = function (suffix, type, value) {\n      var rawAmount = value.substring(0, value.length - suffix.length);\n      var amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$6.invalid(value);\n    };\n    var from = function (value) {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$6.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$6.pixels, value);\n      }\n      return adt$6.invalid(value);\n    };\n    var Size = __assign(__assign({}, adt$6), { from: from });\n\n    var redistributeToPercent = function (widths, totalWidth) {\n      return map$1(widths, function (w) {\n        var colType = Size.from(w);\n        return colType.fold(function () {\n          return w;\n        }, function (px) {\n          var ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, function (pc) {\n          return pc + '%';\n        });\n      });\n    };\n    var redistributeToPx = function (widths, totalWidth, newTotalWidth) {\n      var scale = newTotalWidth / totalWidth;\n      return map$1(widths, function (w) {\n        var colType = Size.from(w);\n        return colType.fold(function () {\n          return w;\n        }, function (px) {\n          return px * scale + 'px';\n        }, function (pc) {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    var redistributeEmpty = function (newWidthType, columns) {\n      var f = newWidthType.fold(function () {\n        return constant('');\n      }, function (pixels) {\n        var num = pixels / columns;\n        return constant(num + 'px');\n      }, function () {\n        var num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    var redistributeValues = function (newWidthType, widths, totalWidth) {\n      return newWidthType.fold(function () {\n        return widths;\n      }, function (px) {\n        return redistributeToPx(widths, totalWidth, px);\n      }, function (_pc) {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    var redistribute$1 = function (widths, totalWidth, newWidth) {\n      var newType = Size.from(newWidth);\n      var floats = forall(widths, function (s) {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    var sum = function (values, fallback) {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, function (rest, v) {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    var roundDown = function (num, unit) {\n      var floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    var add$3 = function (value, amount) {\n      return Size.from(value).fold(constant(value), function (px) {\n        return px + amount + 'px';\n      }, function (pc) {\n        return pc + amount + '%';\n      });\n    };\n    var normalize = function (values) {\n      if (values.length === 0) {\n        return values;\n      }\n      var scan = foldr(values, function (rest, value) {\n        var info = Size.from(value).fold(function () {\n          return {\n            value: value,\n            remainder: 0\n          };\n        }, function (num) {\n          return roundDown(num, 'px');\n        }, function (num) {\n          return {\n            value: num + '%',\n            remainder: 0\n          };\n        });\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      var r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    var validate = Size.from;\n\n    var redistributeToW = function (newWidths, cells, unit) {\n      each$2(cells, function (cell) {\n        var widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        var w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    var redistributeToColumns = function (newWidths, columns, unit) {\n      each$2(columns, function (column, index) {\n        var width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    var redistributeToH = function (newHeights, rows, cells, unit) {\n      each$2(cells, function (cell) {\n        var heights = newHeights.slice(cell.row, cell.rowspan + cell.row);\n        var h = sum(heights, minHeight());\n        set$1(cell.element, 'height', h + unit);\n      });\n      each$2(rows, function (row, i) {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    var getUnit = function (newSize) {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    var redistribute = function (table, optWidth, optHeight) {\n      var warehouse = Warehouse.fromTable(table);\n      var rows = warehouse.all;\n      var cells = Warehouse.justCells(warehouse);\n      var columns = Warehouse.justColumns(warehouse);\n      optWidth.each(function (newWidth) {\n        var widthUnit = getUnit(newWidth);\n        var totalWidth = get$8(table);\n        var oldWidths = getRawWidths(warehouse, table);\n        var nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(function (newHeight) {\n        var hUnit = getUnit(newHeight);\n        var totalHeight = get$7(table);\n        var oldHeights = getRawHeights(warehouse, table, height);\n        var nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells, hUnit);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    var isPercentSizing = isPercentSizing$1;\n    var isPixelSizing = isPixelSizing$1;\n    var isNoneSizing = isNoneSizing$1;\n\n    var getGridSize = function (table) {\n      var warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    var Event = function (fields) {\n      var handlers = [];\n      var bind = function (handler) {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      var unbind = function (handler) {\n        handlers = filter$2(handlers, function (h) {\n          return h !== handler;\n        });\n      };\n      var trigger = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        var event = {};\n        each$2(fields, function (name, i) {\n          event[name] = args[i];\n        });\n        each$2(handlers, function (handler) {\n          handler(event);\n        });\n      };\n      return {\n        bind: bind,\n        unbind: unbind,\n        trigger: trigger\n      };\n    };\n\n    var create$4 = function (typeDefs) {\n      var registry = map(typeDefs, function (event) {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      var trigger = map(typeDefs, function (event) {\n        return event.trigger;\n      });\n      return {\n        registry: registry,\n        trigger: trigger\n      };\n    };\n\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var sort = function (arr) {\n      return arr.slice(0).sort();\n    };\n    var reqMessage = function (required, keys) {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    var unsuppMessage = function (unsupported) {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    var validateStrArr = function (label, array) {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, function (a) {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    var invalidTypeMessage = function (incorrect, type) {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    var checkDupes = function (everything) {\n      var sorted = sort(everything);\n      var dupe = find$1(sorted, function (s, i) {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(function (d) {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    var base = function (handleUnsupported, required) {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    var baseWith = function (handleUnsupported, required, pred) {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return function (obj) {\n        var keys$1 = keys(obj);\n        var allReqd = forall(required, function (req) {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        var invalidKeys = filter$2(required, function (key) {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    var handleExact = function (required, keys) {\n      var unsupported = filter$2(keys, function (key) {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    var exactly = function (required) {\n      return base(handleExact, required);\n    };\n\n    var DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    var DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    var DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    var InDrag = function () {\n      var previous = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n      };\n      var update = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var onEvent = function (event, mode) {\n        var dataOption = mode.extract(event);\n        dataOption.each(function (data) {\n          var offset = update(mode, data);\n          offset.each(function (d) {\n            events.trigger.move(d);\n          });\n        });\n      };\n      var events = create$4({ move: Event(['info']) });\n      return {\n        onEvent: onEvent,\n        reset: reset,\n        events: events.registry\n      };\n    };\n\n    var NoDrag = function () {\n      var events = create$4({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    var Movement = function () {\n      var noDragState = NoDrag();\n      var inDragState = InDrag();\n      var dragState = noDragState;\n      var on = function () {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      var off = function () {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      var onEvent = function (event, mode) {\n        dragState.onEvent(event, mode);\n      };\n      var isOn = function () {\n        return dragState === inDragState;\n      };\n      return {\n        on: on,\n        off: off,\n        isOn: isOn,\n        onEvent: onEvent,\n        events: inDragState.events\n      };\n    };\n\n    var setup = function (mutation, mode, settings) {\n      var active = false;\n      var events = create$4({\n        start: Event([]),\n        stop: Event([])\n      });\n      var movement = Movement();\n      var drop = function () {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      var throttledDrop = last(drop, 200);\n      var go = function (parent) {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      var mousemove = function (event) {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(function (event) {\n        mode.mutate(mutation, event.info);\n      });\n      var on = function () {\n        active = true;\n      };\n      var off = function () {\n        active = false;\n      };\n      var runIfActive = function (f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      var sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      var destroy = function () {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go: go,\n        on: on,\n        off: off,\n        destroy: destroy,\n        events: events.registry\n      };\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle$2 = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle$2(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var read = function (element, attr) {\n      var value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$2 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$5 = function (element) {\n      return read(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add$2(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$5(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var css = function (namespace) {\n      var dashNamespace = namespace.replace(/\\./g, '-');\n      var resolve = function (str) {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve: resolve };\n    };\n\n    var styles$1 = css('ephox-dragster');\n    var resolve$1 = styles$1.resolve;\n\n    var Blocker = function (options) {\n      var settings = __assign({ layerClass: resolve$1('blocker') }, options);\n      var div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      var element = constant(div);\n      var destroy = function () {\n        remove$5(div);\n      };\n      return {\n        element: element,\n        destroy: destroy\n      };\n    };\n\n    var compare = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    var extract = function (event) {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    var mutate = function (mutation, info) {\n      mutation.mutate(info.left, info.top);\n    };\n    var sink = function (dragApi, settings) {\n      var blocker = Blocker(settings);\n      var mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      var mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      var mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      var mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      var destroy = function () {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      var start = function (parent) {\n        append$1(parent, blocker.element());\n      };\n      var stop = function () {\n        remove$5(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start: start,\n        stop: stop,\n        destroy: destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare: compare,\n      extract: extract,\n      sink: sink,\n      mutate: mutate\n    });\n\n    var transform$1 = function (mutation, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var mode = settings.mode !== undefined ? settings.mode : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    var closest = function (target) {\n      return closest$1(target, '[contenteditable]');\n    };\n    var isEditable$1 = function (element, assumeEditable) {\n      if (assumeEditable === void 0) {\n        assumeEditable = false;\n      }\n      if (!detect$3().browser.isIE() && inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), function (editable) {\n          return getRaw(editable) === 'true';\n        });\n      }\n    };\n    var getRaw = function (element) {\n      return element.dom.contentEditable;\n    };\n\n    var styles = css('ephox-snooker');\n    var resolve = styles.resolve;\n\n    var Mutation = function () {\n      var events = create$4({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      var mutate = function (x, y) {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate: mutate,\n        events: events.registry\n      };\n    };\n\n    var BarMutation = function () {\n      var events = create$4({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      var target = Optional.none();\n      var delegate = Mutation();\n      delegate.events.drag.bind(function (event) {\n        target.each(function (t) {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      var assign = function (t) {\n        target = Optional.some(t);\n      };\n      var get = function () {\n        return target;\n      };\n      return {\n        assign: assign,\n        get: get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    var col = function (column, x, y, w, h) {\n      var bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    var row = function (r, x, y, w, h) {\n      var bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    var resizeBar = resolve('resizer-bar');\n    var resizeRowBar = resolve('resizer-rows');\n    var resizeColBar = resolve('resizer-cols');\n    var BAR_THICKNESS = 7;\n    var resizableRows = function (warehouse, isResizable) {\n      return bind$2(warehouse.all, function (row, i) {\n        return isResizable(row.element) ? [i] : [];\n      });\n    };\n    var resizableColumns = function (warehouse, isResizable) {\n      var resizableCols = [];\n      range$1(warehouse.grid.columns, function (index) {\n        var colElmOpt = Warehouse.getColumnAt(warehouse, index).map(function (col) {\n          return col.element;\n        });\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, function (colIndex) {\n        var columnCells = Warehouse.filterItems(warehouse, function (cell) {\n          return cell.column === colIndex;\n        });\n        return forall(columnCells, function (cell) {\n          return isResizable(cell.element);\n        });\n      });\n    };\n    var destroy = function (wire) {\n      var previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$5);\n    };\n    var drawBar = function (wire, positions, create) {\n      var origin = wire.origin();\n      each$2(positions, function (cpOption) {\n        cpOption.each(function (cp) {\n          var bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    var refreshCol = function (wire, colPositions, position, tableHeight) {\n      drawBar(wire, colPositions, function (origin, cp) {\n        var colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    var refreshRow = function (wire, rowPositions, position, tableWidth) {\n      drawBar(wire, rowPositions, function (origin, cp) {\n        var rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    var refreshGrid = function (warhouse, wire, table, rows, cols) {\n      var position = absolute(table);\n      var isResizable = wire.isResizable;\n      var rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      var resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      var resizableRowPositions = filter$2(rowPositions, function (_pos, i) {\n        return exists(resizableRowBars, function (barIndex) {\n          return i === barIndex;\n        });\n      });\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      var colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      var resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      var resizableColPositions = filter$2(colPositions, function (_pos, i) {\n        return exists(resizableColBars, function (barIndex) {\n          return i === barIndex;\n        });\n      });\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    var refresh = function (wire, table) {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        var warehouse = Warehouse.fromTable(table);\n        var rows$1 = rows(warehouse);\n        var cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    var each = function (wire, f) {\n      var bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    var hide = function (wire) {\n      each(wire, function (bar) {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    var show = function (wire) {\n      each(wire, function (bar) {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    var isRowBar = function (element) {\n      return has(element, resizeRowBar);\n    };\n    var isColBar = function (element) {\n      return has(element, resizeColBar);\n    };\n\n    var resizeBarDragging = resolve('resizer-bar-dragging');\n    var BarManager = function (wire) {\n      var mutation = BarMutation();\n      var resizing = transform$1(mutation, {});\n      var hoverTable = Optional.none();\n      var getResizer = function (element, type) {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(function (event) {\n        getResizer(event.target, 'data-row').each(function (_dataRow) {\n          var currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(function (_dataCol) {\n          var currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      var getDelta = function (target, dir) {\n        var newX = getCssValue(target, dir);\n        var oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(function () {\n        mutation.get().each(function (target) {\n          hoverTable.each(function (table) {\n            getResizer(target, 'data-row').each(function (row) {\n              var delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(function (column) {\n              var delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      var handler = function (target, dir) {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      var mousedown = bind(wire.parent(), 'mousedown', function (event) {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      var isRoot = function (e) {\n        return eq$1(e, wire.view());\n      };\n      var findClosestEditableTable = function (target) {\n        return closest$1(target, 'table', isRoot).filter(isEditable$1);\n      };\n      var mouseover = bind(wire.view(), 'mouseover', function (event) {\n        findClosestEditableTable(event.target).fold(function () {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, function (table) {\n          hoverTable = Optional.some(table);\n          refresh(wire, table);\n        });\n      });\n      var destroy$1 = function () {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      var refresh$1 = function (tbl) {\n        refresh(wire, tbl);\n      };\n      var events = create$4({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    var create$3 = function (wire, resizing, lazySizing) {\n      var hdirection = height;\n      var vdirection = width;\n      var manager = BarManager(wire);\n      var events = create$4({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(function (event) {\n        var table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        var delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row, hdirection);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(function (_event) {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(function (event) {\n        var table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        var delta = vdirection.delta(event.delta, table);\n        var tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    var TableResize = { create: create$3 };\n\n    var fireNewRow = function (editor, row) {\n      return editor.fire('newrow', { node: row });\n    };\n    var fireNewCell = function (editor, cell) {\n      return editor.fire('newcell', { node: cell });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireTableSelectionChange = function (editor, cells, start, finish, otherCells) {\n      editor.fire('TableSelectionChange', {\n        cells: cells,\n        start: start,\n        finish: finish,\n        otherCells: otherCells\n      });\n    };\n    var fireTableSelectionClear = function (editor) {\n      editor.fire('TableSelectionClear');\n    };\n    var fireTableModified = function (editor, table, data) {\n      editor.fire('TableModified', __assign(__assign({}, data), { table: table }));\n    };\n    var styleModified = {\n      structure: false,\n      style: true\n    };\n    var structureModified = {\n      structure: true,\n      style: false\n    };\n    var styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    var defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    var defaultStyles = {\n      'border-collapse': 'collapse',\n      'width': '100%'\n    };\n    var defaultCellBorderWidths = range$1(5, function (i) {\n      var size = i + 1 + 'px';\n      return {\n        title: size,\n        value: size\n      };\n    });\n    var defaultCellBorderStyles = map$1([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], function (type) {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    var determineDefaultStyles = function (editor) {\n      var _a;\n      if (isPixelsForced(editor)) {\n        var dom = editor.dom;\n        var parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n        var contentWidth = getInner(SugarElement.fromDom(parentBlock));\n        return __assign(__assign({}, defaultStyles), { width: contentWidth + 'px' });\n      } else if (isResponsiveForced(editor)) {\n        return filter$1(defaultStyles, function (_value, key) {\n          return key !== 'width';\n        });\n      } else {\n        return defaultStyles;\n      }\n    };\n    var defaultAttributes = { border: '1' };\n    var defaultColumnResizingBehaviour = 'preservetable';\n    var getTableSizingMode = function (editor) {\n      return editor.getParam('table_sizing_mode', 'auto');\n    };\n    var getTableResponseWidth = function (editor) {\n      return editor.getParam('table_responsive_width');\n    };\n    var getTableBorderWidths = function (editor) {\n      return editor.getParam('table_border_widths', defaultCellBorderWidths, 'array');\n    };\n    var getTableBorderStyles = function (editor) {\n      return editor.getParam('table_border_styles', defaultCellBorderStyles, 'array');\n    };\n    var getDefaultAttributes = function (editor) {\n      return editor.getParam('table_default_attributes', defaultAttributes, 'object');\n    };\n    var getDefaultStyles = function (editor) {\n      return editor.getParam('table_default_styles', determineDefaultStyles(editor), 'object');\n    };\n    var hasTableResizeBars = function (editor) {\n      return editor.getParam('table_resize_bars', true, 'boolean');\n    };\n    var hasTabNavigation = function (editor) {\n      return editor.getParam('table_tab_navigation', true, 'boolean');\n    };\n    var hasAdvancedCellTab = function (editor) {\n      return editor.getParam('table_cell_advtab', true, 'boolean');\n    };\n    var hasAdvancedRowTab = function (editor) {\n      return editor.getParam('table_row_advtab', true, 'boolean');\n    };\n    var hasAdvancedTableTab = function (editor) {\n      return editor.getParam('table_advtab', true, 'boolean');\n    };\n    var hasAppearanceOptions = function (editor) {\n      return editor.getParam('table_appearance_options', true, 'boolean');\n    };\n    var hasTableGrid = function (editor) {\n      return editor.getParam('table_grid', true, 'boolean');\n    };\n    var shouldStyleWithCss = function (editor) {\n      return editor.getParam('table_style_by_css', false, 'boolean');\n    };\n    var getCellClassList = function (editor) {\n      return editor.getParam('table_cell_class_list', [], 'array');\n    };\n    var getRowClassList = function (editor) {\n      return editor.getParam('table_row_class_list', [], 'array');\n    };\n    var getTableClassList = function (editor) {\n      return editor.getParam('table_class_list', [], 'array');\n    };\n    var isPercentagesForced = function (editor) {\n      return getTableSizingMode(editor) === 'relative' || getTableResponseWidth(editor) === true;\n    };\n    var isPixelsForced = function (editor) {\n      return getTableSizingMode(editor) === 'fixed' || getTableResponseWidth(editor) === false;\n    };\n    var isResponsiveForced = function (editor) {\n      return getTableSizingMode(editor) === 'responsive';\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('table_toolbar', defaultTableToolbar);\n    };\n    var useColumnGroup = function (editor) {\n      return editor.getParam('table_use_colgroups', false, 'boolean');\n    };\n    var getTableHeaderType = function (editor) {\n      var defaultValue = 'section';\n      var value = editor.getParam('table_header_type', defaultValue, 'string');\n      var validValues = [\n        'section',\n        'cells',\n        'sectionCells',\n        'auto'\n      ];\n      if (!contains$2(validValues, value)) {\n        return defaultValue;\n      } else {\n        return value;\n      }\n    };\n    var getColumnResizingBehaviour = function (editor) {\n      var validModes = [\n        'preservetable',\n        'resizetable'\n      ];\n      var givenMode = editor.getParam('table_column_resizing', defaultColumnResizingBehaviour, 'string');\n      return find$1(validModes, function (mode) {\n        return mode === givenMode;\n      }).getOr(defaultColumnResizingBehaviour);\n    };\n    var isPreserveTableColumnResizing = function (editor) {\n      return getColumnResizingBehaviour(editor) === 'preservetable';\n    };\n    var isResizeTableColumnResizing = function (editor) {\n      return getColumnResizingBehaviour(editor) === 'resizetable';\n    };\n    var getCloneElements = function (editor) {\n      var cloneElements = editor.getParam('table_clone_elements');\n      if (isString(cloneElements)) {\n        return Optional.some(cloneElements.split(/[ ,]/));\n      } else if (Array.isArray(cloneElements)) {\n        return Optional.some(cloneElements);\n      } else {\n        return Optional.none();\n      }\n    };\n    var hasObjectResizing = function (editor) {\n      var objectResizing = editor.getParam('object_resizing', true);\n      return isString(objectResizing) ? objectResizing === 'table' : objectResizing;\n    };\n    var getTableBackgroundColorMap = function (editor) {\n      return editor.getParam('table_background_color_map', [], 'array');\n    };\n    var getTableBorderColorMap = function (editor) {\n      return editor.getParam('table_border_color_map', [], 'array');\n    };\n\n    var get$4 = function (editor, table) {\n      if (isPercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isPixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    var cleanupLegacyAttributes = function (element) {\n      remove$7(element, 'width');\n    };\n    var convertToPercentSize = function (table) {\n      var newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    var convertToPixelSize = function (table) {\n      var newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    var convertToNoneSize = function (table) {\n      remove$6(table, 'width');\n      var columns = columns$1(table);\n      var rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, function (cell) {\n        remove$6(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    var enforcePercentage = convertToPercentSize;\n    var enforcePixels = convertToPixelSize;\n    var enforceNone = convertToNoneSize;\n    var syncPixels = function (table) {\n      var warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), function (cell) {\n          var computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n\n    var createContainer = function () {\n      var container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    var get$3 = function (editor, isResizable) {\n      return editor.inline ? ResizeWire.body(getBody(editor), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    var remove$1 = function (editor, wire) {\n      if (editor.inline) {\n        remove$5(wire.parent());\n      }\n    };\n\n    var barResizerPrefix = 'bar-';\n    var isResizable = function (elm) {\n      return get$b(elm, 'data-mce-resize') !== 'false';\n    };\n    var getResizeHandler = function (editor) {\n      var selectionRng = Optional.none();\n      var resize = Optional.none();\n      var wire = Optional.none();\n      var startW;\n      var startRawW;\n      var isTable = function (elm) {\n        return elm.nodeName === 'TABLE';\n      };\n      var lazyResize = function () {\n        return resize;\n      };\n      var lazyWire = function () {\n        return wire.getOr(ResizeWire.only(SugarElement.fromDom(editor.getBody()), isResizable));\n      };\n      var lazySizing = function (table) {\n        return get$4(editor, table);\n      };\n      var lazyResizingBehaviour = function () {\n        return isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      };\n      var getNumColumns = function (table) {\n        return getGridSize(table).columns;\n      };\n      var afterCornerResize = function (table, origin, width) {\n        var isRightEdgeResize = endsWith(origin, 'e');\n        if (startRawW === '') {\n          enforcePercentage(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          var resizing = lazyResizingBehaviour();\n          var tableSize = lazySizing(table);\n          var col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          var percentW = parseFloat(startRawW.replace('%', ''));\n          var targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncPixels(table);\n        }\n      };\n      var destroy = function () {\n        resize.each(function (sz) {\n          sz.destroy();\n        });\n        wire.each(function (w) {\n          remove$1(editor, w);\n        });\n      };\n      editor.on('init', function () {\n        var rawWire = get$3(editor, isResizable);\n        wire = Optional.some(rawWire);\n        if (hasObjectResizing(editor) && hasTableResizeBars(editor)) {\n          var resizing = lazyResizingBehaviour();\n          var sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(function (_event) {\n            selectionRng = Optional.some(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(function (event) {\n            var rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(function (event) {\n            var table = event.table;\n            var rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.each(function (rng) {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          resize = Optional.some(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', function (e) {\n        var targetElm = e.target;\n        if (isTable(targetElm)) {\n          var table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), function (clone) {\n            editor.dom.addClass(clone, 'mce-' + getColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isPixelsForced(editor)) {\n            enforcePixels(table);\n          } else if (!isPercentSizing(table) && isPercentagesForced(editor)) {\n            enforcePercentage(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            enforcePercentage(table);\n          }\n          startW = e.width;\n          startRawW = isResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', function (e) {\n        var targetElm = e.target;\n        if (isTable(targetElm)) {\n          var table = SugarElement.fromDom(targetElm);\n          var origin_1 = e.origin;\n          if (startsWith(origin_1, 'corner-')) {\n            afterCornerResize(table, origin_1, e.width);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        lazyResize().each(function (resize) {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      return {\n        lazyResize: lazyResize,\n        lazyWire: lazyWire,\n        destroy: destroy\n      };\n    };\n\n    var point = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n\n    var scan$1 = function (universe, element, direction) {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(function (elem) {\n          return scan$1(universe, elem, direction).orThunk(function () {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var toEnd = function (universe, element) {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      var children = universe.property().children(element);\n      return children.length;\n    };\n    var freefallRtl$2 = function (universe, element) {\n      var candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      var children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    var freefallRtl$1 = freefallRtl$2;\n\n    var universe$2 = DomUniverse();\n    var freefallRtl = function (element) {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    var halve = function (main, other) {\n      var colspan = getSpan(main, 'colspan');\n      if (colspan === 1) {\n        var width = getGenericWidth(main);\n        width.each(function (w) {\n          var newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    var isHeaderCell = isTag('th');\n    var isHeaderCells = function (cells) {\n      return forall(cells, function (cell) {\n        return isHeaderCell(cell.element);\n      });\n    };\n    var getRowHeaderType = function (isHeaderRow, isHeaderCells) {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    var getRowType$1 = function (row) {\n      var isHeaderRow = row.section === 'thead';\n      var isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    var findCommonCellType = function (cells) {\n      var headerCells = filter$2(cells, function (cell) {\n        return isHeaderCell(cell.element);\n      });\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    var findCommonRowType = function (rows) {\n      var rowTypes = map$1(rows, function (row) {\n        return getRowType$1(row).type;\n      });\n      var hasHeader = contains$2(rowTypes, 'header');\n      var hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        var hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var findTableRowHeaderType = function (warehouse) {\n      return findMap(warehouse.all, function (row) {\n        var rowType = getRowType$1(row);\n        return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n      });\n    };\n\n    var transformCell = function (cell, comparator, substitution) {\n      return elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    };\n    var transformRow = function (row, section) {\n      return row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    };\n    var section = function () {\n      return {\n        transformRow: transformRow,\n        transformCell: function (cell, comparator, substitution) {\n          var newCell = substitution(cell.element, comparator);\n          var fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n          return elementnew(fixedCell, cell.isNew, cell.isLocked);\n        }\n      };\n    };\n    var sectionCells = function () {\n      return {\n        transformRow: transformRow,\n        transformCell: transformCell\n      };\n    };\n    var cells = function () {\n      return {\n        transformRow: function (row, section) {\n          var newSection = section === 'thead' ? 'tbody' : section;\n          return transformRow(row, newSection);\n        },\n        transformCell: transformCell\n      };\n    };\n    var fallback = function () {\n      return {\n        transformRow: identity,\n        transformCell: transformCell\n      };\n    };\n    var getTableSectionType = function (table, fallback) {\n      var warehouse = Warehouse.fromTable(table);\n      var type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    var TableSection = {\n      getTableSectionType: getTableSectionType,\n      section: section,\n      sectionCells: sectionCells,\n      cells: cells,\n      fallback: fallback\n    };\n\n    var setIfNot = function (element, property, value, ignore) {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    var insert$1 = function (table, selector, element) {\n      last$2(children$1(table, selector)).fold(function () {\n        return prepend(table, element);\n      }, function (child) {\n        return after$5(child, element);\n      });\n    };\n    var generateSection = function (table, sectionName) {\n      var section = child$1(table, sectionName).getOrThunk(function () {\n        var newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    var render$1 = function (table, grid) {\n      var newRows = [];\n      var newCells = [];\n      var syncRows = function (gridSection) {\n        return map$1(gridSection, function (row) {\n          if (row.isNew) {\n            newRows.push(row.element);\n          }\n          var tr = row.element;\n          empty(tr);\n          each$2(row.cells, function (cell) {\n            if (cell.isNew) {\n              newCells.push(cell.element);\n            }\n            setIfNot(cell.element, 'colspan', cell.colspan, 1);\n            setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n            append$1(tr, cell.element);\n          });\n          return tr;\n        });\n      };\n      var syncColGroup = function (gridSection) {\n        return bind$2(gridSection, function (colGroup) {\n          return map$1(colGroup.cells, function (col) {\n            setIfNot(col.element, 'span', col.colspan, 1);\n            return col.element;\n          });\n        });\n      };\n      var renderSection = function (gridSection, sectionName) {\n        var section = generateSection(table, sectionName);\n        var sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        var sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      var removeSection = function (sectionName) {\n        child$1(table, sectionName).each(remove$5);\n      };\n      var renderOrRemoveSection = function (gridSection, sectionName) {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      var headSection = [];\n      var bodySection = [];\n      var footSection = [];\n      var columnGroupsSection = [];\n      each$2(grid, function (row) {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows: newRows,\n        newCells: newCells\n      };\n    };\n    var copy = function (grid) {\n      return map$1(grid, function (row) {\n        var tr = shallow(row.element);\n        each$2(row.cells, function (cell) {\n          var clonedCell = deep(cell.element);\n          setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n          setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n          append$1(tr, clonedCell);\n        });\n        return tr;\n      });\n    };\n\n    var getColumn = function (grid, index) {\n      return map$1(grid, function (row) {\n        return getCell(row, index);\n      });\n    };\n    var getRow = function (grid, index) {\n      return grid[index];\n    };\n    var findDiff = function (xs, comp) {\n      if (xs.length === 0) {\n        return 0;\n      }\n      var first = xs[0];\n      var index = findIndex(xs, function (x) {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    var subgrid = function (grid, row, column, comparator) {\n      var gridRow = getRow(grid, row);\n      var isColRow = gridRow.section === 'colgroup';\n      var colspan = findDiff(gridRow.cells.slice(column), comparator);\n      var rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan: colspan,\n        rowspan: rowspan\n      };\n    };\n\n    var toDetails = function (grid, comparator) {\n      var seen = map$1(grid, function (row) {\n        return map$1(row.cells, never);\n      });\n      var updateSeen = function (rowIndex, columnIndex, rowspan, colspan) {\n        for (var row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (var column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, function (row, rowIndex) {\n        var details = bind$2(row.cells, function (cell, columnIndex) {\n          if (seen[rowIndex][columnIndex] === false) {\n            var result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    var toGrid = function (warehouse, generators, isNew) {\n      var grid = [];\n      each$2(warehouse.colgroups, function (colgroup) {\n        var colgroupCols = [];\n        for (var columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          var element = Warehouse.getColumnAt(warehouse, columnIndex).map(function (column) {\n            return elementnew(column.element, isNew, false);\n          }).getOrThunk(function () {\n            return elementnew(generators.colGap(), true, false);\n          });\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (var rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        var rowCells = [];\n        for (var columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          var element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(function (item) {\n            return elementnew(item.element, isNew, item.isLocked);\n          }).getOrThunk(function () {\n            return elementnew(generators.gap(), true, false);\n          });\n          rowCells.push(element);\n        }\n        var rowDetail = warehouse.all[rowIndex];\n        var row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    var fromWarehouse = function (warehouse, generators) {\n      return toGrid(warehouse, generators, false);\n    };\n    var toDetailList = function (grid) {\n      return toDetails(grid, eq$1);\n    };\n    var findInWarehouse = function (warehouse, element) {\n      return findMap(warehouse.all, function (r) {\n        return find$1(r.cells, function (e) {\n          return eq$1(element, e.element);\n        });\n      });\n    };\n    var extractCells = function (warehouse, target, predicate) {\n      var details = map$1(target.selection, function (cell$1) {\n        return cell(cell$1).bind(function (lc) {\n          return findInWarehouse(warehouse, lc);\n        }).filter(predicate);\n      });\n      var cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    var run = function (operation, extract, adjustment, postAction, genWrappers) {\n      return function (wire, table, target, generators, behaviours) {\n        var warehouse = Warehouse.fromTable(table);\n        var tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n        var output = extract(warehouse, target).map(function (info) {\n          var model = fromWarehouse(warehouse, generators);\n          var result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n          var lockedColumns = getLockedColumnsFromGrid(result.grid);\n          var grid = toDetailList(result.grid);\n          return {\n            info: info,\n            grid: grid,\n            cursor: result.cursor,\n            lockedColumns: lockedColumns\n          };\n        });\n        return output.bind(function (out) {\n          var newElements = render$1(table, out.grid);\n          var tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(function () {\n            return TableSize.getTableSize(table);\n          });\n          var resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n          adjustment(table, out.grid, out.info, {\n            sizing: tableSizing,\n            resize: resizing,\n            section: tableSection\n          });\n          postAction(table);\n          refresh(wire, table);\n          remove$7(table, LOCKED_COL_ATTR);\n          if (out.lockedColumns.length > 0) {\n            set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n          }\n          return Optional.some({\n            cursor: out.cursor,\n            newRows: newElements.newRows,\n            newCells: newElements.newCells\n          });\n        });\n      };\n    };\n    var onPaste = function (warehouse, target) {\n      return cell(target.element).bind(function (cell) {\n        return findInWarehouse(warehouse, cell).map(function (details) {\n          var value = __assign(__assign({}, details), {\n            generators: target.generators,\n            clipboard: target.clipboard\n          });\n          return value;\n        });\n      });\n    };\n    var onPasteByEditor = function (warehouse, target) {\n      return extractCells(warehouse, target, always).map(function (cells) {\n        return {\n          cells: cells,\n          generators: target.generators,\n          clipboard: target.clipboard\n        };\n      });\n    };\n    var onMergable = function (_warehouse, target) {\n      return target.mergable;\n    };\n    var onUnmergable = function (_warehouse, target) {\n      return target.unmergable;\n    };\n    var onCells = function (warehouse, target) {\n      return extractCells(warehouse, target, always);\n    };\n    var onUnlockedCells = function (warehouse, target) {\n      return extractCells(warehouse, target, function (detail) {\n        return !detail.isLocked;\n      });\n    };\n    var isUnlockedTableCell = function (warehouse, cell) {\n      return findInWarehouse(warehouse, cell).exists(function (detail) {\n        return !detail.isLocked;\n      });\n    };\n    var allUnlocked = function (warehouse, cells) {\n      return forall(cells, function (cell) {\n        return isUnlockedTableCell(warehouse, cell);\n      });\n    };\n    var onUnlockedMergable = function (warehouse, target) {\n      return onMergable(warehouse, target).filter(function (mergeable) {\n        return allUnlocked(warehouse, mergeable.cells);\n      });\n    };\n    var onUnlockedUnmergable = function (warehouse, target) {\n      return onUnmergable(warehouse, target).filter(function (cells) {\n        return allUnlocked(warehouse, cells);\n      });\n    };\n\n    var merge$2 = function (grid, bounds, comparator, substitution) {\n      var rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (var i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (var j = bounds.startCol; j <= bounds.finishCol; j++) {\n          var row = rows[i];\n          var isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    var unmerge = function (grid, target, comparator, substitution) {\n      var rows = extractGridDetails(grid).rows;\n      var first = true;\n      for (var i = 0; i < rows.length; i++) {\n        for (var j = 0; j < cellLength(rows[0]); j++) {\n          var row = rows[i];\n          var currentCell = getCell(row, j);\n          var currentCellElm = currentCell.element;\n          var isToReplace = comparator(currentCellElm, target);\n          if (isToReplace === true && first === false) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace === true) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    var uniqueCells = function (row, comparator) {\n      return foldl(row, function (rest, cell) {\n        return exists(rest, function (currentCell) {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    var splitCols = function (grid, index, comparator, substitution) {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, function (row) {\n          var prevCell = row.cells[index - 1];\n          var current = row.cells[index];\n          var isToReplace = comparator(current.element, prevCell.element);\n          if (isToReplace) {\n            mutateCell(row, index, elementnew(substitution(), true, current.isLocked));\n          }\n        });\n      }\n      return grid;\n    };\n    var splitRows = function (grid, index, comparator, substitution) {\n      var rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        var rowPrevCells = rows[index - 1].cells;\n        var cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, function (cell) {\n          var replacement = Optional.none();\n          for (var i = index; i < rows.length; i++) {\n            var _loop_1 = function (j) {\n              var row = rows[i];\n              var current = getCell(row, j);\n              var isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(function (sub) {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            };\n            for (var j = 0; j < cellLength(rows[0]); j++) {\n              _loop_1(j);\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    var value$1 = function (o) {\n      var or = function (_opt) {\n        return value$1(o);\n      };\n      var orThunk = function (_f) {\n        return value$1(o);\n      };\n      var map = function (f) {\n        return value$1(f(o));\n      };\n      var mapError = function (_f) {\n        return value$1(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (_f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value$1);\n    };\n    var Result = {\n      value: value$1,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var measure = function (startAddress, gridA, gridB) {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      var rowRemainder = gridA.slice(startAddress.row);\n      var colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      var colRequired = cellLength(gridB[0]);\n      var rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    var measureWidth = function (gridA, gridB) {\n      var colLengthA = cellLength(gridA[0]);\n      var colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    var measureHeight = function (gridA, gridB) {\n      var rowLengthA = gridA.length;\n      var rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    var generateElements = function (amount, row, generators, isLocked) {\n      var generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, function (idx) {\n        return elementnew(generator(), true, isLocked(idx));\n      });\n    };\n    var rowFill = function (grid, amount, generators, lockedColumns) {\n      var exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, function () {\n        var generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        var row = clone$1(exampleRow, generator, identity);\n        var elements = generateElements(row.cells.length, row, generators, function (idx) {\n          return has$1(lockedColumns, idx.toString());\n        });\n        return setCells(row, elements);\n      }));\n    };\n    var colFill = function (grid, amount, generators, startIndex) {\n      return map$1(grid, function (row) {\n        var newChildren = generateElements(amount, row, generators, never);\n        return addCells(row, startIndex, newChildren);\n      });\n    };\n    var lockedColFill = function (grid, generators, lockedColumns) {\n      return map$1(grid, function (row) {\n        return foldl(lockedColumns, function (acc, colNum) {\n          var newChild = generateElements(1, row, generators, always)[0];\n          return addCell(acc, colNum, newChild);\n        }, row);\n      });\n    };\n    var tailor = function (gridA, delta, generators) {\n      var fillCols = delta.colDelta < 0 ? colFill : identity;\n      var fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      var lockedColumns = getLockedColumnsFromGrid(gridA);\n      var gridWidth = cellLength(gridA[0]);\n      var isLastColLocked = exists(lockedColumns, function (locked) {\n        return locked === gridWidth - 1;\n      });\n      var modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      var newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    var isSpanning = function (grid, row, col, comparator) {\n      var candidate = getCell(grid[row], col);\n      var matching = curry(comparator, candidate.element);\n      var currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    var mergeTables = function (startAddress, gridA, gridB, generator, comparator, lockedColumns) {\n      var startRow = startAddress.row;\n      var startCol = startAddress.column;\n      var mergeHeight = gridB.length;\n      var mergeWidth = cellLength(gridB[0]);\n      var endRow = startRow + mergeHeight;\n      var endCol = startCol + mergeWidth + lockedColumns.length;\n      var lockedColumnObj = mapToObject(lockedColumns, always);\n      for (var r = startRow; r < endRow; r++) {\n        var skippedCol = 0;\n        for (var c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          var gridBColIndex = c - startCol - skippedCol;\n          var newCell = getCell(gridB[r - startRow], gridBColIndex);\n          var newCellElm = newCell.element;\n          var replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    var getValidStartAddress = function (currentStartAddress, grid, lockedColumns) {\n      var gridColLength = cellLength(grid[0]);\n      var adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      var possibleColAddresses = range$1(gridColLength - currentStartAddress.column, function (num) {\n        return num + currentStartAddress.column;\n      });\n      var validColAddress = find$1(possibleColAddresses, function (num) {\n        return forall(lockedColumns, function (col) {\n          return col !== num;\n        });\n      }).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    var getLockedColumnsWithinBounds = function (startAddress, grid, lockedColumns) {\n      return filter$2(lockedColumns, function (colNum) {\n        return colNum >= startAddress.column && colNum <= cellLength(grid[0]) + startAddress.column;\n      });\n    };\n    var merge$1 = function (startAddress, gridA, gridB, generator, comparator) {\n      var lockedColumns = getLockedColumnsFromGrid(gridA);\n      var validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      var gridBRows = extractGridDetails(gridB).rows;\n      var lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      var result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(function (diff) {\n        var delta = __assign(__assign({}, diff), { colDelta: diff.colDelta - lockedColumnsWithinBounds.length });\n        var fittedGrid = tailor(gridA, delta, generator);\n        var newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        var newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    var insertCols = function (index, gridA, gridB, generator, comparator) {\n      splitCols(gridA, index, comparator, generator.cell);\n      var delta = measureHeight(gridB, gridA);\n      var fittedNewGrid = tailor(gridB, delta, generator);\n      var secondDelta = measureHeight(gridA, fittedNewGrid);\n      var fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, function (gridRow, i) {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    var insertRows = function (index, gridA, gridB, generator, comparator) {\n      splitRows(gridA, index, comparator, generator.cell);\n      var locked = getLockedColumnsFromGrid(gridA);\n      var diff = measureWidth(gridA, gridB);\n      var delta = __assign(__assign({}, diff), { colDelta: diff.colDelta - locked.length });\n      var fittedOldGrid = tailor(gridA, delta, generator);\n      var _a = extractGridDetails(fittedOldGrid), oldCols = _a.cols, oldRows = _a.rows;\n      var newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      var secondDiff = measureWidth(gridB, gridA);\n      var secondDelta = __assign(__assign({}, secondDiff), { colDelta: secondDiff.colDelta + newLocked.length });\n      var fittedGridB = lockedColFill(gridB, generator, newLocked);\n      var fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return oldCols.concat(oldRows.slice(0, index)).concat(fittedNewGrid).concat(oldRows.slice(index, oldRows.length));\n    };\n\n    var cloneRow = function (row, cloneCell, comparator, substitution) {\n      return clone$1(row, function (elem) {\n        return substitution(elem, comparator);\n      }, cloneCell);\n    };\n    var insertRowAt = function (grid, index, example, comparator, substitution) {\n      var _a = extractGridDetails(grid), rows = _a.rows, cols = _a.cols;\n      var before = rows.slice(0, index);\n      var after = rows.slice(index);\n      var newRow = cloneRow(rows[example], function (ex, c) {\n        var withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        var ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return cols.concat(before).concat([newRow]).concat(after);\n    };\n    var getElementFor = function (row, column, section, withinSpan, example, comparator, substitution) {\n      if (section === 'colgroup' || !withinSpan) {\n        var cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    var insertColumnAt = function (grid, index, example, comparator, substitution) {\n      return map$1(grid, function (row) {\n        var withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n        var sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n        return addCell(row, index, sub);\n      });\n    };\n    var deleteColumnsAt = function (grid, columns) {\n      return bind$2(grid, function (row) {\n        var existingCells = row.cells;\n        var cells = foldr(columns, function (acc, column) {\n          return column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc;\n        }, existingCells);\n        return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n      });\n    };\n    var deleteRowsAt = function (grid, start, finish) {\n      var _a = extractGridDetails(grid), rows = _a.rows, cols = _a.cols;\n      return cols.concat(rows.slice(0, start)).concat(rows.slice(finish + 1));\n    };\n\n    var notInStartRow = function (grid, rowIndex, colIndex, comparator) {\n      return getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    };\n    var notInStartColumn = function (row, index, comparator) {\n      return index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    };\n    var isDuplicatedCell = function (grid, rowIndex, colIndex, comparator) {\n      return notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    };\n    var rowReplacerPredicate = function (targetRow, columnHeaders) {\n      var entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : function (cell, _rowIndex, colIndex) {\n        var type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    var columnReplacePredicate = function (targetColumn, rowHeaders) {\n      var entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : function (cell, rowIndex, _colIndex) {\n        var type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    var determineScope = function (applyScope, element, newScope, isInHeader) {\n      var hasSpan = function (scope) {\n        return scope === 'row' ? hasRowspan(element) : hasColspan(element);\n      };\n      var getScope = function (scope) {\n        return hasSpan(scope) ? scope + 'group' : scope;\n      };\n      if (applyScope) {\n        return isHeaderCell(element) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(element)) {\n        var oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    var rowScopeGenerator = function (applyScope, columnHeaders) {\n      return function (cell, rowIndex, columnIndex) {\n        return Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n      };\n    };\n    var columnScopeGenerator = function (applyScope, rowHeaders) {\n      return function (cell, rowIndex) {\n        return Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n      };\n    };\n    var replace = function (cell, comparator, substitute) {\n      return elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    };\n    var replaceIn = function (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) {\n      var isTarget = function (cell) {\n        return exists(targets, function (target) {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, function (row, rowIndex) {\n        return mapCells(row, function (cell, colIndex) {\n          if (isTarget(cell)) {\n            var newCell_1 = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell_1, rowIndex, colIndex).each(function (scope) {\n              setOptions(newCell_1.element, { scope: Optional.from(scope) });\n            });\n            return newCell_1;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    var getColumnCells = function (rows, columnIndex, comparator) {\n      return bind$2(rows, function (row, i) {\n        return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n      });\n    };\n    var getRowCells = function (rows, rowIndex, comparator) {\n      var targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, function (item, i) {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    var replaceColumns = function (grid, indexes, applyScope, comparator, substitution) {\n      var rows = extractGridDetails(grid).rows;\n      var targets = bind$2(indexes, function (index) {\n        return getColumnCells(rows, index, comparator);\n      });\n      var rowHeaders = map$1(grid, function (row) {\n        return isHeaderCells(row.cells);\n      });\n      var shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      var scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    var replaceRows = function (grid, indexes, section, applyScope, comparator, substitution, tableSection) {\n      var _a = extractGridDetails(grid), cols = _a.cols, rows = _a.rows;\n      var targetRow = rows[indexes[0]];\n      var targets = bind$2(indexes, function (index) {\n        return getRowCells(rows, index, comparator);\n      });\n      var columnHeaders = map$1(targetRow.cells, function (_cell, index) {\n        return isHeaderCells(getColumnCells(rows, index, comparator));\n      });\n      var newRows = __spreadArray([], rows, true);\n      each$2(indexes, function (index) {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      var newGrid = cols.concat(newRows);\n      var shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      var scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    var replaceCells = function (grid, details, comparator, substitution) {\n      var rows = extractGridDetails(grid).rows;\n      var targetCells = map$1(details, function (detail) {\n        return getCell(rows[detail.row], detail.column);\n      });\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    var uniqueColumns = function (details) {\n      var uniqueCheck = function (rest, detail) {\n        var columnExists = exists(rest, function (currentDetail) {\n          return currentDetail.column === detail.column;\n        });\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort(function (detailA, detailB) {\n        return detailA.column - detailB.column;\n      });\n    };\n\n    var isCol = isTag('col');\n    var isColgroup = isTag('colgroup');\n    var isRow$1 = function (element) {\n      return name(element) === 'tr' || isColgroup(element);\n    };\n    var elementToData = function (element) {\n      var colspan = getAttrValue(element, 'colspan', 1);\n      var rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element: element,\n        colspan: colspan,\n        rowspan: rowspan\n      };\n    };\n    var modification = function (generators, toData) {\n      if (toData === void 0) {\n        toData = elementToData;\n      }\n      var nuCell = function (data) {\n        return isCol(data.element) ? generators.col(data) : generators.cell(data);\n      };\n      var nuRow = function (data) {\n        return isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      };\n      var add = function (element) {\n        if (isRow$1(element)) {\n          return nuRow({ element: element });\n        } else {\n          var replacement = nuCell(toData(element));\n          recent = Optional.some({\n            item: element,\n            replacement: replacement\n          });\n          return replacement;\n        }\n      };\n      var recent = Optional.none();\n      var getOrInit = function (element, comparator) {\n        return recent.fold(function () {\n          return add(element);\n        }, function (p) {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit: getOrInit };\n    };\n    var transform = function (tag) {\n      return function (generators) {\n        var list = [];\n        var find = function (element, comparator) {\n          return find$1(list, function (x) {\n            return comparator(x.item, element);\n          });\n        };\n        var makeNew = function (element) {\n          var attrs = tag === 'td' ? { scope: null } : {};\n          var cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        var replaceOrInit = function (element, comparator) {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            return find(element, comparator).fold(function () {\n              return makeNew(element);\n            }, function (p) {\n              return comparator(element, p.item) ? p.sub : makeNew(element);\n            });\n          }\n        };\n        return { replaceOrInit: replaceOrInit };\n      };\n    };\n    var getScopeAttribute = function (cell) {\n      return getOpt(cell, 'scope').map(function (attribute) {\n        return attribute.substr(0, 3);\n      });\n    };\n    var merging = function (generators) {\n      var unmerge = function (cell) {\n        var scope = getScopeAttribute(cell);\n        scope.each(function (attribute) {\n          return set$2(cell, 'scope', attribute);\n        });\n        return function () {\n          var raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$6(raw, 'width');\n          remove$6(cell, 'width');\n          scope.each(function (attribute) {\n            return set$2(raw, 'scope', attribute);\n          });\n          return raw;\n        };\n      };\n      var merge = function (cells) {\n        var getScopeProperty = function () {\n          var stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            var baseScope_1 = stringAttributes[0];\n            var scopes_1 = [\n              'row',\n              'col'\n            ];\n            var isMixed = exists(stringAttributes, function (attribute) {\n              return attribute !== baseScope_1 && contains$2(scopes_1, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope_1);\n          }\n        };\n        remove$6(cells[0], 'width');\n        getScopeProperty().fold(function () {\n          return remove$7(cells[0], 'scope');\n        }, function (attribute) {\n          return set$2(cells[0], 'scope', attribute + 'group');\n        });\n        return constant(cells[0]);\n      };\n      return {\n        unmerge: unmerge,\n        merge: merge\n      };\n    };\n    var Generators = {\n      modification: modification,\n      transform: transform,\n      merging: merging\n    };\n\n    var blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    var isList$1 = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    var isBlock$1 = function (universe, item) {\n      var tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    var isEmptyTag$1 = function (universe, item) {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    var universe$1 = DomUniverse();\n    var isBlock = function (element) {\n      return isBlock$1(universe$1, element);\n    };\n    var isList = function (element) {\n      return isList$1(universe$1, element);\n    };\n    var isEmptyTag = function (element) {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    var merge = function (cells) {\n      var isBr = function (el) {\n        return name(el) === 'br';\n      };\n      var advancedBr = function (children) {\n        return forall(children, function (c) {\n          return isBr(c) || isText(c) && get$9(c).trim().length === 0;\n        });\n      };\n      var isListItem = function (el) {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      var siblingIsBlock = function (el) {\n        return nextSibling(el).map(function (rightSibling) {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      var markCell = function (cell) {\n        return last$1(cell).bind(function (rightEdge) {\n          var rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(function (parent) {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      var markContent = function () {\n        var content = bind$2(cells, function (cell) {\n          var children = children$3(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      var contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    var isEditable = function (elem) {\n      return isEditable$1(elem, true);\n    };\n    var prune = function (table) {\n      var cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$5(table);\n      }\n    };\n    var outcome = function (grid, cursor) {\n      return {\n        grid: grid,\n        cursor: cursor\n      };\n    };\n    var findEditableCursorPosition = function (rows) {\n      return findMap(rows, function (row) {\n        return findMap(row.cells, function (cell) {\n          var elem = cell.element;\n          return someIf(isEditable(elem), elem);\n        });\n      });\n    };\n    var elementFromGrid = function (grid, row, column) {\n      var _a, _b;\n      var rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(function () {\n        return findEditableCursorPosition(rows);\n      });\n    };\n    var bundle = function (grid, row, column) {\n      var cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    var uniqueRows = function (details) {\n      var rowCompilation = function (rest, detail) {\n        var rowExists = exists(rest, function (currentDetail) {\n          return currentDetail.row === detail.row;\n        });\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort(function (detailA, detailB) {\n        return detailA.row - detailB.row;\n      });\n    };\n    var opInsertRowsBefore = function (grid, details, comparator, genWrappers) {\n      var targetIndex = details[0].row;\n      var rows = uniqueRows(details);\n      var newGrid = foldr(rows, function (acc, row) {\n        var newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid: grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    var opInsertRowsAfter = function (grid, details, comparator, genWrappers) {\n      var rows = uniqueRows(details);\n      var target = rows[rows.length - 1];\n      var targetIndex = target.row + target.rowspan;\n      var newGrid = foldr(rows, function (newG, row) {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    var opInsertColumnsBefore = function (grid, extractDetail, comparator, genWrappers) {\n      var details = extractDetail.details;\n      var columns = uniqueColumns(details);\n      var targetIndex = columns[0].column;\n      var newGrid = foldr(columns, function (acc, col) {\n        var newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid: grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    var opInsertColumnsAfter = function (grid, extractDetail, comparator, genWrappers) {\n      var details = extractDetail.details;\n      var target = details[details.length - 1];\n      var targetIndex = target.column + target.colspan;\n      var columns = uniqueColumns(details);\n      var newGrid = foldr(columns, function (newG, col) {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    var opMakeColumnsHeader = function (initialGrid, details, comparator, genWrappers) {\n      var columns = uniqueColumns(details);\n      var columnIndexes = map$1(columns, function (detail) {\n        return detail.column;\n      });\n      var newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    var opMakeCellsHeader = function (initialGrid, details, comparator, genWrappers) {\n      var newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    var opUnmakeColumnsHeader = function (initialGrid, details, comparator, genWrappers) {\n      var columns = uniqueColumns(details);\n      var columnIndexes = map$1(columns, function (detail) {\n        return detail.column;\n      });\n      var newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    var opUnmakeCellsHeader = function (initialGrid, details, comparator, genWrappers) {\n      var newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    var makeRowsSection = function (section, applyScope) {\n      return function (initialGrid, details, comparator, genWrappers, tableSection) {\n        var rows = uniqueRows(details);\n        var rowIndexes = map$1(rows, function (detail) {\n          return detail.row;\n        });\n        var newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n        return bundle(newGrid, details[0].row, details[0].column);\n      };\n    };\n    var opMakeRowsHeader = makeRowsSection('thead', true);\n    var opMakeRowsBody = makeRowsSection('tbody', false);\n    var opMakeRowsFooter = makeRowsSection('tfoot', false);\n    var opEraseColumns = function (grid, extractDetail, _comparator, _genWrappers) {\n      var columns = uniqueColumns(extractDetail.details);\n      var newGrid = deleteColumnsAt(grid, map$1(columns, function (column) {\n        return column.column;\n      }));\n      var maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    var opEraseRows = function (grid, details, _comparator, _genWrappers) {\n      var rows = uniqueRows(details);\n      var newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      var maxRowIndex = newGrid.length > 0 ? newGrid.length - 1 : 0;\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    var opMergeCells = function (grid, mergable, comparator, genWrappers) {\n      var cells = mergable.cells;\n      merge(cells);\n      var newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    var opUnmergeCells = function (grid, unmergable, comparator, genWrappers) {\n      var unmerge$1 = function (b, cell) {\n        return unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      };\n      var newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    var opPasteCells = function (grid, pasteDetails, comparator, _genWrappers) {\n      var gridify = function (table, generators) {\n        var wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      var gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      var startAddress = address(pasteDetails.row, pasteDetails.column);\n      var mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(function () {\n        return outcome(grid, Optional.some(pasteDetails.element));\n      }, function (newGrid) {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    var gridifyRows = function (rows, generators, context) {\n      var pasteDetails = fromPastedRows(rows, context.section);\n      var wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    var opPasteColsBefore = function (grid, pasteDetails, comparator, _genWrappers) {\n      var rows = extractGridDetails(grid).rows;\n      var index = pasteDetails.cells[0].column;\n      var context = rows[pasteDetails.cells[0].row];\n      var gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      var mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    var opPasteColsAfter = function (grid, pasteDetails, comparator, _genWrappers) {\n      var rows = extractGridDetails(grid).rows;\n      var index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      var context = rows[pasteDetails.cells[0].row];\n      var gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      var mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    var opPasteRowsBefore = function (grid, pasteDetails, comparator, _genWrappers) {\n      var rows = extractGridDetails(grid).rows;\n      var index = pasteDetails.cells[0].row;\n      var context = rows[index];\n      var gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      var mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    var opPasteRowsAfter = function (grid, pasteDetails, comparator, _genWrappers) {\n      var rows = extractGridDetails(grid).rows;\n      var index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      var context = rows[pasteDetails.cells[0].row];\n      var gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      var mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    var opGetColumnsType = function (table, target) {\n      var house = Warehouse.fromTable(table);\n      var details = onCells(house, target);\n      return details.bind(function (selectedCells) {\n        var lastSelectedCell = selectedCells[selectedCells.length - 1];\n        var minColRange = selectedCells[0].column;\n        var maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        var selectedColumnCells = flatten$1(map$1(house.all, function (row) {\n          return filter$2(row.cells, function (cell) {\n            return cell.column >= minColRange && cell.column < maxColRange;\n          });\n        }));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    var opGetCellsType = function (table, target) {\n      var house = Warehouse.fromTable(table);\n      var details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    var opGetRowsType = function (table, target) {\n      var house = Warehouse.fromTable(table);\n      var details = onCells(house, target);\n      return details.bind(function (selectedCells) {\n        var lastSelectedCell = selectedCells[selectedCells.length - 1];\n        var minRowRange = selectedCells[0].row;\n        var maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        var selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    var resize = function (table, list, details, behaviours) {\n      return adjustWidthTo(table, list, details, behaviours.sizing);\n    };\n    var adjustAndRedistributeWidths = function (table, list, details, behaviours) {\n      return adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    };\n    var firstColumnIsLocked = function (_warehouse, details) {\n      return exists(details, function (detail) {\n        return detail.column === 0 && detail.isLocked;\n      });\n    };\n    var lastColumnIsLocked = function (warehouse, details) {\n      return exists(details, function (detail) {\n        return detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked;\n      });\n    };\n    var getColumnsWidth = function (warehouse, details) {\n      var columns$1 = columns(warehouse);\n      var uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, function (acc, detail) {\n        var column = columns$1[detail.column];\n        var colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    var insertColumnsExtractor = function (before) {\n      return function (warehouse, target) {\n        return onCells(warehouse, target).filter(function (details) {\n          var checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n          return !checkLocked(warehouse, details);\n        }).map(function (details) {\n          return {\n            details: details,\n            pixelDelta: getColumnsWidth(warehouse, details)\n          };\n        });\n      };\n    };\n    var eraseColumnsExtractor = function (warehouse, target) {\n      return onUnlockedCells(warehouse, target).map(function (details) {\n        return {\n          details: details,\n          pixelDelta: -getColumnsWidth(warehouse, details)\n        };\n      });\n    };\n    var pasteColumnsExtractor = function (before) {\n      return function (warehouse, target) {\n        return onPasteByEditor(warehouse, target).filter(function (details) {\n          var checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n          return !checkLocked(warehouse, details.cells);\n        });\n      };\n    };\n    var headerCellGenerator = Generators.transform('th');\n    var bodyCellGenerator = Generators.transform('td');\n    var insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    var insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    var insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    var insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    var eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    var eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    var makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    var unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    var makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    var makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    var makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    var makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    var unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    var mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    var unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    var pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    var pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    var pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    var pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    var pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    var getColumnsType = opGetColumnsType;\n    var getCellsType = opGetCellsType;\n    var getRowsType = opGetRowsType;\n\n    var TableActions = function (editor, cellSelection, lazyWire) {\n      var isTableBody = function (editor) {\n        return name(getBody(editor)) === 'table';\n      };\n      var lastRowGuard = function (table) {\n        return isTableBody(editor) === false || getGridSize(table).rows > 1;\n      };\n      var lastColumnGuard = function (table) {\n        return isTableBody(editor) === false || getGridSize(table).columns > 1;\n      };\n      var cloneFormats = getCloneElements(editor);\n      var colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      var getTableSectionType = function (table) {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      var setSelectionFromAction = function (table, result) {\n        return result.cursor.fold(function () {\n          var cells = cells$1(table);\n          return head(cells).filter(inBody).map(function (firstCell) {\n            cellSelection.clear(table);\n            var rng = editor.dom.createRng();\n            rng.selectNode(firstCell.dom);\n            editor.selection.setRng(rng);\n            set$2(firstCell, 'data-mce-selected', '1');\n            return rng;\n          });\n        }, function (cell) {\n          var des = freefallRtl(cell);\n          var rng = editor.dom.createRng();\n          rng.setStart(des.element.dom, des.offset);\n          rng.setEnd(des.element.dom, des.offset);\n          editor.selection.setRng(rng);\n          cellSelection.clear(table);\n          return Optional.some(rng);\n        });\n      };\n      var execute = function (operation, guard, mutate, lazyWire, effect) {\n        return function (table, target, noEvents) {\n          if (noEvents === void 0) {\n            noEvents = false;\n          }\n          removeDataStyle(table);\n          var wire = lazyWire();\n          var doc = SugarElement.fromDom(editor.getDoc());\n          var generators = cellOperations(mutate, doc, cloneFormats);\n          var behaviours = {\n            sizing: get$4(editor, table),\n            resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n            section: getTableSectionType(table)\n          };\n          return guard(table) ? operation(wire, table, target, generators, behaviours).bind(function (result) {\n            each$2(result.newRows, function (row) {\n              fireNewRow(editor, row.dom);\n            });\n            each$2(result.newCells, function (cell) {\n              fireNewCell(editor, cell.dom);\n            });\n            var range = setSelectionFromAction(table, result);\n            if (inBody(table)) {\n              removeDataStyle(table);\n              if (!noEvents) {\n                fireTableModified(editor, table.dom, effect);\n              }\n            }\n            return range.map(function (rng) {\n              return {\n                rng: rng,\n                effect: effect\n              };\n            });\n          }) : Optional.none();\n        };\n      };\n      var deleteRow = execute(eraseRows, lastRowGuard, noop, lazyWire, structureModified);\n      var deleteColumn = execute(eraseColumns, lastColumnGuard, noop, lazyWire, structureModified);\n      var insertRowsBefore$1 = execute(insertRowsBefore, always, noop, lazyWire, structureModified);\n      var insertRowsAfter$1 = execute(insertRowsAfter, always, noop, lazyWire, structureModified);\n      var insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, lazyWire, structureModified);\n      var insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, lazyWire, structureModified);\n      var mergeCells$1 = execute(mergeCells, always, noop, lazyWire, structureModified);\n      var unmergeCells$1 = execute(unmergeCells, always, noop, lazyWire, structureModified);\n      var pasteColsBefore$1 = execute(pasteColsBefore, always, noop, lazyWire, structureModified);\n      var pasteColsAfter$1 = execute(pasteColsAfter, always, noop, lazyWire, structureModified);\n      var pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, lazyWire, structureModified);\n      var pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, lazyWire, structureModified);\n      var pasteCells$1 = execute(pasteCells, always, noop, lazyWire, styleAndStructureModified);\n      var makeCellsHeader$1 = execute(makeCellsHeader, always, noop, lazyWire, structureModified);\n      var unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, lazyWire, structureModified);\n      var makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, lazyWire, structureModified);\n      var unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, lazyWire, structureModified);\n      var makeRowsHeader$1 = execute(makeRowsHeader, always, noop, lazyWire, structureModified);\n      var makeRowsBody$1 = execute(makeRowsBody, always, noop, lazyWire, structureModified);\n      var makeRowsFooter$1 = execute(makeRowsFooter, always, noop, lazyWire, structureModified);\n      var getTableCellType = getCellsType;\n      var getTableColType = getColumnsType;\n      var getTableRowType = getRowsType;\n      return {\n        deleteRow: deleteRow,\n        deleteColumn: deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType: getTableRowType,\n        getTableCellType: getTableCellType,\n        getTableColType: getTableColType\n      };\n    };\n\n    var DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    var tableHeaderCell = function () {\n      return SugarElement.fromTag('th');\n    };\n    var tableCell = function () {\n      return SugarElement.fromTag('td');\n    };\n    var tableColumn = function () {\n      return SugarElement.fromTag('col');\n    };\n    var createRow = function (columns, rowHeaders, columnHeaders, rowIndex) {\n      var tr = SugarElement.fromTag('tr');\n      for (var j = 0; j < columns; j++) {\n        var td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    var createGroupRow = function (columns) {\n      var columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, function () {\n        return append$1(columnGroup, tableColumn());\n      });\n      return columnGroup;\n    };\n    var createRows = function (rows, columns, rowHeaders, columnHeaders) {\n      return range$1(rows, function (r) {\n        return createRow(columns, rowHeaders, columnHeaders, r);\n      });\n    };\n    var render = function (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts) {\n      if (renderOpts === void 0) {\n        renderOpts = DefaultRenderOptions;\n      }\n      var table = SugarElement.fromTag('table');\n      var rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      var actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        var thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        var theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        var theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      var tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      var numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      var numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      var tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    var get$2 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$2(container);\n    };\n\n    var placeCaretInCell = function (editor, cell) {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    var selectFirstCellInTable = function (editor, tableElm) {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    var fireEvents = function (editor, table) {\n      each$2(descendants(table, 'tr'), function (row) {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), function (cell) {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    var isPercentage = function (width) {\n      return isString(width) && width.indexOf('%') !== -1;\n    };\n    var insert = function (editor, columns, rows, colHeaders, rowHeaders) {\n      var defaultStyles = getDefaultStyles(editor);\n      var options = {\n        styles: defaultStyles,\n        attributes: getDefaultAttributes(editor),\n        colGroups: useColumnGroup(editor)\n      };\n      editor.undoManager.ignore(function () {\n        var table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        var html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(function (table) {\n        if (isPixelsForced(editor)) {\n          enforcePixels(table);\n        } else if (isResponsiveForced(editor)) {\n          enforceNone(table);\n        } else if (isPercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          enforcePercentage(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOr(null);\n    };\n    var insertTableWithDataValidation = function (editor, rows, columns, options, errorMsg) {\n      if (options === void 0) {\n        options = {};\n      }\n      var checkInput = function (val) {\n        return isNumber(val) && val > 0;\n      };\n      if (checkInput(rows) && checkInput(columns)) {\n        var headerRows = options.headerRows || 0;\n        var headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error(errorMsg);\n        return null;\n      }\n    };\n\n    var getClipboardElements = function (getClipboard) {\n      return function () {\n        return getClipboard().fold(function () {\n          return [];\n        }, function (elems) {\n          return map$1(elems, function (e) {\n            return e.dom;\n          });\n        });\n      };\n    };\n    var setClipboardElements = function (setClipboard) {\n      return function (elems) {\n        var elmsOpt = elems.length > 0 ? Optional.some(fromDom(elems)) : Optional.none();\n        setClipboard(elmsOpt);\n      };\n    };\n    var insertTable = function (editor) {\n      return function (columns, rows, options) {\n        if (options === void 0) {\n          options = {};\n        }\n        var table = insertTableWithDataValidation(editor, rows, columns, options, 'Invalid values for insertTable - rows and columns values are required to insert a table.');\n        editor.undoManager.add();\n        return table;\n      };\n    };\n    var getApi = function (editor, clipboard, resizeHandler, selectionTargets) {\n      return {\n        insertTable: insertTable(editor),\n        setClipboardRows: setClipboardElements(clipboard.setRows),\n        getClipboardRows: getClipboardElements(clipboard.getRows),\n        setClipboardCols: setClipboardElements(clipboard.setColumns),\n        getClipboardCols: getClipboardElements(clipboard.getColumns),\n        resizeHandler: resizeHandler,\n        selectionTargets: selectionTargets\n      };\n    };\n\n    var constrainSpan = function (element, property, value) {\n      var currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    var generateColGroup = function (house, minColRange, maxColRange) {\n      if (Warehouse.hasColumns(house)) {\n        var colsToCopy = filter$2(Warehouse.justColumns(house), function (col) {\n          return col.column >= minColRange && col.column < maxColRange;\n        });\n        var copiedCols = map$1(colsToCopy, function (c) {\n          var clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        var fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    var generateRows = function (house, minColRange, maxColRange) {\n      return map$1(house.all, function (row) {\n        var cellsToCopy = filter$2(row.cells, function (cell) {\n          return cell.column >= minColRange && cell.column < maxColRange;\n        });\n        var copiedCells = map$1(cellsToCopy, function (cell) {\n          var clonedCell = deep(cell.element);\n          constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n          return clonedCell;\n        });\n        var fakeTR = SugarElement.fromTag('tr');\n        append(fakeTR, copiedCells);\n        return fakeTR;\n      });\n    };\n    var copyCols = function (table, target) {\n      var house = Warehouse.fromTable(table);\n      var details = onUnlockedCells(house, target);\n      return details.map(function (selectedCells) {\n        var lastSelectedCell = selectedCells[selectedCells.length - 1];\n        var minColRange = selectedCells[0].column;\n        var maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        var fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        var fakeRows = generateRows(house, minColRange, maxColRange);\n        return __spreadArray(__spreadArray([], fakeColGroups, true), fakeRows, true);\n      });\n    };\n\n    var copyRows = function (table, target, generators) {\n      var warehouse = Warehouse.fromTable(table);\n      var details = onCells(warehouse, target);\n      return details.bind(function (selectedCells) {\n        var grid = toGrid(warehouse, generators, false);\n        var rows = extractGridDetails(grid).rows;\n        var slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        var filteredGrid = bind$2(slicedGrid, function (row) {\n          var newCells = filter$2(row.cells, function (cell) {\n            return !cell.isLocked;\n          });\n          return newCells.length > 0 ? [__assign(__assign({}, row), { cells: newCells })] : [];\n        });\n        var slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(function (slicedDetails) {\n        return copy(slicedDetails);\n      });\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getTDTHOverallStyle = function (dom, elm, name) {\n      var cells = dom.select('td,th', elm);\n      var firstChildStyle;\n      var checkChildren = function (firstChildStyle, elms) {\n        for (var i = 0; i < elms.length; i++) {\n          var currentStyle = dom.getStyle(elms[i], name);\n          if (typeof firstChildStyle === 'undefined') {\n            firstChildStyle = currentStyle;\n          }\n          if (firstChildStyle !== currentStyle) {\n            return '';\n          }\n        }\n        return firstChildStyle;\n      };\n      return checkChildren(firstChildStyle, cells);\n    };\n    var applyAlign = function (editor, elm, name) {\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    var applyVAlign = function (editor, elm, name) {\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n    var unApplyAlign = function (editor, elm) {\n      global$2.each('left center right'.split(' '), function (name) {\n        editor.formatter.remove('align' + name, {}, elm);\n      });\n    };\n    var unApplyVAlign = function (editor, elm) {\n      global$2.each('top middle bottom'.split(' '), function (name) {\n        editor.formatter.remove('valign' + name, {}, elm);\n      });\n    };\n\n    var verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var onSetupToggle = function (editor, selections, formatName, formatValue) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var isNone = isEmpty$1(formatValue);\n        var init = function () {\n          var selectedCells = getCellsFromSelection(selections);\n          var checkNode = function (cell) {\n            return editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          };\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, function (match) {\n              return api.setActive(!match);\n            }, true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    var isListGroup = function (item) {\n      return hasNonNullableKey(item, 'menu');\n    };\n    var buildListItems = function (items) {\n      return map$1(items, function (item) {\n        var text = item.text || item.title;\n        if (isListGroup(item)) {\n          return {\n            text: text,\n            items: buildListItems(item.menu)\n          };\n        } else {\n          return {\n            text: text,\n            value: item.value\n          };\n        }\n      });\n    };\n    var buildMenuItems = function (editor, selections, items, format, onAction) {\n      return map$1(items, function (item) {\n        var text = item.text || item.title;\n        if (isListGroup(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: text,\n            getSubmenuItems: function () {\n              return buildMenuItems(editor, selections, item.menu, format, onAction);\n            }\n          };\n        } else {\n          return {\n            text: text,\n            type: 'togglemenuitem',\n            onAction: function () {\n              return onAction(item.value);\n            },\n            onSetup: onSetupToggle(editor, selections, format, item.value)\n          };\n        }\n      });\n    };\n    var applyTableCellStyle = function (editor, style) {\n      return function (value) {\n        var _a;\n        editor.execCommand('mceTableApplyCellStyle', false, (_a = {}, _a[style] = value, _a));\n      };\n    };\n    var filterNoneItem = function (list) {\n      return bind$2(list, function (item) {\n        if (isListGroup(item)) {\n          return [__assign(__assign({}, item), { menu: filterNoneItem(item.menu) })];\n        } else {\n          return isNotEmpty(item.value) ? [item] : [];\n        }\n      });\n    };\n    var generateMenuItemsCallback = function (editor, selections, items, format, onAction) {\n      return function (callback) {\n        return callback(buildMenuItems(editor, selections, items, format, onAction));\n      };\n    };\n    var buildColorMenu = function (editor, colorList, style) {\n      var colorMap = map$1(colorList, function (entry) {\n        return {\n          text: entry.title,\n          value: '#' + anyToHex(entry.value).value,\n          type: 'choiceitem'\n        };\n      });\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: function (data) {\n            var _a;\n            var value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, (_a = {}, _a[style] = value, _a));\n          }\n        }];\n    };\n    var changeRowHeader = function (editor) {\n      return function () {\n        var currentType = editor.queryCommandValue('mceTableRowType');\n        var newType = currentType === 'header' ? 'body' : 'header';\n        editor.execCommand('mceTableRowType', false, { type: newType });\n      };\n    };\n    var changeColumnHeader = function (editor) {\n      return function () {\n        var currentType = editor.queryCommandValue('mceTableColType');\n        var newType = currentType === 'th' ? 'td' : 'th';\n        editor.execCommand('mceTableColType', false, { type: newType });\n      };\n    };\n\n    var getClassList$1 = function (editor) {\n      var classes = buildListItems(getCellClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    var children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'height',\n        type: 'input',\n        label: 'Height'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    var getItems$2 = function (editor) {\n      return children.concat(getClassList$1(editor).toArray());\n    };\n\n    var getAdvancedTab = function (editor, dialogName) {\n      var emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      var advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      var borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      var items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items: items\n      };\n    };\n\n    var modifiers = function (testTruthy) {\n      return function (editor, node) {\n        var dom = editor.dom;\n        var setAttrib = function (attr, value) {\n          if (!testTruthy || value) {\n            dom.setAttrib(node, attr, value);\n          }\n        };\n        var setStyle = function (prop, value) {\n          if (!testTruthy || value) {\n            dom.setStyle(node, prop, value);\n          }\n        };\n        var setFormat = function (formatName, value) {\n          if (!testTruthy || value) {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, node, true);\n            } else {\n              editor.formatter.apply(formatName, { value: value }, node);\n            }\n          }\n        };\n        return {\n          setAttrib: setAttrib,\n          setStyle: setStyle,\n          setFormat: setFormat\n        };\n      };\n    };\n    var DomModifier = {\n      normal: modifiers(false),\n      ifTruthy: modifiers(true)\n    };\n\n    var rgbToHex = function (dom) {\n      return function (value) {\n        return startsWith(value, 'rgb') ? dom.toHex(value) : value;\n      };\n    };\n    var extractAdvancedStyles = function (dom, elm) {\n      var element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw$2(element, 'border-width').getOr(''),\n        borderstyle: getRaw$2(element, 'border-style').getOr(''),\n        bordercolor: getRaw$2(element, 'border-color').map(rgbToHex(dom)).getOr(''),\n        backgroundcolor: getRaw$2(element, 'background-color').map(rgbToHex(dom)).getOr('')\n      };\n    };\n    var getSharedValues = function (data) {\n      var baseData = data[0];\n      var comparisonData = data.slice(1);\n      each$2(comparisonData, function (items) {\n        each$2(keys(baseData), function (key) {\n          each$1(items, function (itemValue, itemKey) {\n            var comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    var getAlignment = function (formats, formatName, editor, elm) {\n      return find$1(formats, function (name) {\n        return !isUndefined(editor.formatter.matchNode(elm, formatName + name));\n      }).getOr('');\n    };\n    var getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    var getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    var extractDataFromSettings = function (editor, hasAdvTableTab) {\n      var style = getDefaultStyles(editor);\n      var attrs = getDefaultAttributes(editor);\n      var extractAdvancedStyleData = function (dom) {\n        return {\n          borderstyle: get$c(style, 'border-style').getOr(''),\n          bordercolor: rgbToHex(dom)(get$c(style, 'border-color').getOr('')),\n          backgroundcolor: rgbToHex(dom)(get$c(style, 'background-color').getOr(''))\n        };\n      };\n      var defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      var getBorder = function () {\n        var borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$c(attrs, 'border').fold(function () {\n          return {};\n        }, function (border) {\n          return { border: border };\n        });\n      };\n      var advStyle = hasAdvTableTab ? extractAdvancedStyleData(editor.dom) : {};\n      var getCellPaddingCellSpacing = function () {\n        var spacing = get$c(style, 'border-spacing').or(get$c(attrs, 'cellspacing')).fold(function () {\n          return {};\n        }, function (cellspacing) {\n          return { cellspacing: cellspacing };\n        });\n        var padding = get$c(style, 'border-padding').or(get$c(attrs, 'cellpadding')).fold(function () {\n          return {};\n        }, function (cellpadding) {\n          return { cellpadding: cellpadding };\n        });\n        return __assign(__assign({}, spacing), padding);\n      };\n      var data = __assign(__assign(__assign(__assign(__assign(__assign({}, defaultData), style), attrs), advStyle), getBorder()), getCellPaddingCellSpacing());\n      return data;\n    };\n    var getRowType = function (elm) {\n      return table(SugarElement.fromDom(elm)).map(function (table) {\n        var target = { selection: fromDom(elm.cells) };\n        return getRowsType(table, target);\n      }).getOr('');\n    };\n    var extractDataFromTableElement = function (editor, elm, hasAdvTableTab) {\n      var getBorder = function (dom, elm) {\n        var optBorderWidth = getRaw$2(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border');\n      };\n      var dom = editor.dom;\n      var cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      var cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return __assign({\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing: cellspacing,\n        cellpadding: cellpadding,\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm)\n      }, hasAdvTableTab ? extractAdvancedStyles(dom, elm) : {});\n    };\n    var extractDataFromRowElement = function (editor, elm, hasAdvancedRowTab) {\n      var dom = editor.dom;\n      return __assign({\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm)\n      }, hasAdvancedRowTab ? extractAdvancedStyles(dom, elm) : {});\n    };\n    var extractDataFromCellElement = function (editor, cell, hasAdvancedCellTab, column) {\n      var dom = editor.dom;\n      var colElm = column.getOr(cell);\n      var getStyle = function (element, style) {\n        return dom.getStyle(element, style) || dom.getAttrib(element, style);\n      };\n      return __assign({\n        width: getStyle(colElm, 'width'),\n        height: getStyle(cell, 'height'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell)\n      }, hasAdvancedCellTab ? extractAdvancedStyles(dom, cell) : {});\n    };\n\n    var getSelectedCells = function (table, cells) {\n      var warehouse = Warehouse.fromTable(table);\n      var allCells = Warehouse.justCells(warehouse);\n      var filtered = filter$2(allCells, function (cellA) {\n        return exists(cells, function (cellB) {\n          return eq$1(cellA.element, cellB);\n        });\n      });\n      return map$1(filtered, function (cell) {\n        return {\n          element: cell.element.dom,\n          column: Warehouse.getColumnAt(warehouse, cell.column).map(function (col) {\n            return col.element.dom;\n          })\n        };\n      });\n    };\n    var updateSimpleProps$1 = function (modifier, colModifier, data) {\n      modifier.setAttrib('scope', data.scope);\n      modifier.setAttrib('class', data.class);\n      modifier.setStyle('height', addPxSuffix(data.height));\n      colModifier.setStyle('width', addPxSuffix(data.width));\n    };\n    var updateAdvancedProps$1 = function (modifier, data) {\n      modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n    };\n    var applyStyleData$1 = function (editor, cells, data) {\n      var isSingleCell = cells.length === 1;\n      each$2(cells, function (item) {\n        var cellElm = item.element;\n        var modifier = isSingleCell ? DomModifier.normal(editor, cellElm) : DomModifier.ifTruthy(editor, cellElm);\n        var colModifier = item.column.map(function (col) {\n          return isSingleCell ? DomModifier.normal(editor, col) : DomModifier.ifTruthy(editor, col);\n        }).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data);\n        }\n        if (isSingleCell) {\n          unApplyAlign(editor, cellElm);\n          unApplyVAlign(editor, cellElm);\n        }\n        if (data.halign) {\n          applyAlign(editor, cellElm, data.halign);\n        }\n        if (data.valign) {\n          applyVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    var applyStructureData$1 = function (editor, data) {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    var applyCellData = function (editor, cells, oldData, data) {\n      var modifiedData = filter$1(data, function (value, key) {\n        return oldData[key] !== value;\n      });\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(function (table) {\n          var selectedCells = getSelectedCells(table, cells);\n          var styleModified = size(filter$1(modifiedData, function (_value, key) {\n            return key !== 'scope' && key !== 'celltype';\n          })) > 0;\n          var structureModified = has$1(modifiedData, 'celltype');\n          if (styleModified || has$1(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data);\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    var onSubmitCellForm = function (editor, cells, oldData, api) {\n      var data = api.getData();\n      api.close();\n      editor.undoManager.transact(function () {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    var getData = function (editor, cells) {\n      var cellsData = table(cells[0]).map(function (table) {\n        return map$1(getSelectedCells(table, cells), function (item) {\n          return extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column);\n        });\n      });\n      return getSharedValues(cellsData.getOrDie());\n    };\n    var open$2 = function (editor, selections) {\n      var cells = getCellsFromSelection(selections);\n      if (cells.length === 0) {\n        return;\n      }\n      var data = getData(editor, cells);\n      var dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      var dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    var getClassList = function (editor) {\n      var classes = buildListItems(getRowClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    var formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    var getItems$1 = function (editor) {\n      return formChildren.concat(getClassList(editor).toArray());\n    };\n\n    var updateSimpleProps = function (modifier, data) {\n      modifier.setAttrib('class', data.class);\n      modifier.setStyle('height', addPxSuffix(data.height));\n    };\n    var updateAdvancedProps = function (modifier, data) {\n      modifier.setStyle('background-color', data.backgroundcolor);\n      modifier.setStyle('border-color', data.bordercolor);\n      modifier.setStyle('border-style', data.borderstyle);\n    };\n    var applyStyleData = function (editor, rows, data, oldData) {\n      var isSingleRow = rows.length === 1;\n      each$2(rows, function (rowElm) {\n        var modifier = isSingleRow ? DomModifier.normal(editor, rowElm) : DomModifier.ifTruthy(editor, rowElm);\n        updateSimpleProps(modifier, data);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data);\n        }\n        if (data.align !== oldData.align) {\n          unApplyAlign(editor, rowElm);\n          applyAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    var applyStructureData = function (editor, data) {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    var applyRowData = function (editor, rows, oldData, data) {\n      var modifiedData = filter$1(data, function (value, key) {\n        return oldData[key] !== value;\n      });\n      if (size(modifiedData) > 0) {\n        var typeModified_1 = has$1(modifiedData, 'type');\n        var styleModified_1 = typeModified_1 ? size(modifiedData) > 1 : true;\n        if (styleModified_1) {\n          applyStyleData(editor, rows, data, oldData);\n        }\n        if (typeModified_1) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(function (table) {\n          return fireTableModified(editor, table.dom, {\n            structure: typeModified_1,\n            style: styleModified_1\n          });\n        });\n      }\n    };\n    var onSubmitRowForm = function (editor, rows, oldData, api) {\n      var data = api.getData();\n      api.close();\n      editor.undoManager.transact(function () {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    var open$1 = function (editor) {\n      var rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      var rowsData = map$1(rows, function (rowElm) {\n        return extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor));\n      });\n      var data = getSharedValues(rowsData);\n      var dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      var dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map$1(rows, function (r) {\n          return r.dom;\n        }), data)\n      });\n    };\n\n    var getItems = function (editor, classes, insertNewTable) {\n      var rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      var alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      var appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      var alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      var classListItem = classes.length > 0 ? [{\n          type: 'listbox',\n          name: 'class',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    var styleTDTH = function (dom, elm, name, value) {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyle(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (var i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    var applyDataToElement = function (editor, tableElm, data) {\n      var dom = editor.dom;\n      var attrs = {};\n      var styles = {};\n      attrs.class = data.class;\n      styles.height = addPxSuffix(data.height);\n      if (dom.getAttrib(tableElm, 'width') && !shouldStyleWithCss(editor)) {\n        attrs.width = removePxSuffix(data.width);\n      } else {\n        styles.width = addPxSuffix(data.width);\n      }\n      if (shouldStyleWithCss(editor)) {\n        styles['border-width'] = addPxSuffix(data.border);\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss(editor) && tableElm.children) {\n        for (var i = 0; i < tableElm.children.length; i++) {\n          styleTDTH(dom, tableElm.children[i], {\n            'border-width': addPxSuffix(data.border),\n            'padding': addPxSuffix(data.cellpadding)\n          });\n          if (hasAdvancedTableTab(editor)) {\n            styleTDTH(dom, tableElm.children[i], { 'border-color': data.bordercolor });\n          }\n        }\n      }\n      if (hasAdvancedTableTab(editor)) {\n        styles['background-color'] = data.backgroundcolor;\n        styles['border-color'] = data.bordercolor;\n        styles['border-style'] = data.borderstyle;\n      }\n      attrs.style = dom.serializeStyle(__assign(__assign({}, getDefaultStyles(editor)), styles));\n      dom.setAttribs(tableElm, __assign(__assign({}, getDefaultAttributes(editor)), attrs));\n    };\n    var onSubmitTableForm = function (editor, tableElm, oldData, api) {\n      var dom = editor.dom;\n      var data = api.getData();\n      var modifiedData = filter$1(data, function (value, key) {\n        return oldData[key] !== value;\n      });\n      api.close();\n      if (data.class === '') {\n        delete data.class;\n      }\n      editor.undoManager.transact(function () {\n        if (!tableElm) {\n          var cols = parseInt(data.cols, 10) || 1;\n          var rows = parseInt(data.rows, 10) || 1;\n          tableElm = insert(editor, cols, rows, 0, 0);\n        }\n        if (size(modifiedData) > 0) {\n          applyDataToElement(editor, tableElm, data);\n          var captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          if (data.align === '') {\n            unApplyAlign(editor, tableElm);\n          } else {\n            applyAlign(editor, tableElm, data.align);\n          }\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          var captionModified = has$1(modifiedData, 'caption');\n          var styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    var open = function (editor, insertNewTable) {\n      var dom = editor.dom;\n      var tableElm;\n      var data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable === false) {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      } else {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      }\n      var classes = buildListItems(getTableClassList(editor));\n      if (classes.length > 0) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      var generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes, insertNewTable)\n      };\n      var nonAdvancedForm = function () {\n        return {\n          type: 'panel',\n          items: [generalPanel]\n        };\n      };\n      var advancedForm = function () {\n        return {\n          type: 'tabpanel',\n          tabs: [\n            {\n              title: 'General',\n              name: 'general',\n              items: [generalPanel]\n            },\n            getAdvancedTab(editor, 'table')\n          ]\n        };\n      };\n      var dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    var getSelectionStartCellOrCaption = function (editor) {\n      return getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n    };\n    var getSelectionStartCell = function (editor) {\n      return getSelectionCell(getSelectionStart(editor), getIsRoot(editor));\n    };\n    var registerCommands = function (editor, actions, cellSelection, selections, clipboard) {\n      var isRoot = getIsRoot(editor);\n      var eraseTable = function () {\n        return getSelectionStartCellOrCaption(editor).each(function (cellOrCaption) {\n          table(cellOrCaption, isRoot).filter(not(isRoot)).each(function (table) {\n            var cursor = SugarElement.fromText('');\n            after$5(table, cursor);\n            remove$5(table);\n            if (editor.dom.isEmpty(editor.getBody())) {\n              editor.setContent('');\n              editor.selection.setCursorLocation();\n            } else {\n              var rng = editor.dom.createRng();\n              rng.setStart(cursor.dom, 0);\n              rng.setEnd(cursor.dom, 0);\n              editor.selection.setRng(rng);\n              editor.nodeChanged();\n            }\n          });\n        });\n      };\n      var setSizingMode = function (sizing) {\n        return getSelectionStartCellOrCaption(editor).each(function (cellOrCaption) {\n          var isForcedSizing = isResponsiveForced(editor) || isPixelsForced(editor) || isPercentagesForced(editor);\n          if (!isForcedSizing) {\n            table(cellOrCaption, isRoot).each(function (table) {\n              if (sizing === 'relative' && !isPercentSizing(table)) {\n                enforcePercentage(table);\n              } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n                enforcePixels(table);\n              } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n                enforceNone(table);\n              }\n              removeDataStyle(table);\n              fireTableModified(editor, table.dom, structureModified);\n            });\n          }\n        });\n      };\n      var getTableFromCell = function (cell) {\n        return table(cell, isRoot);\n      };\n      var performActionOnSelection = function (action) {\n        return getSelectionStartCell(editor).bind(function (cell) {\n          return getTableFromCell(cell).map(function (table) {\n            return action(table, cell);\n          });\n        });\n      };\n      var toggleTableClass = function (_ui, clazz) {\n        performActionOnSelection(function (table) {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      var toggleTableCellClass = function (_ui, clazz) {\n        performActionOnSelection(function (table) {\n          var selectedCells = getCellsFromSelection(selections);\n          var allHaveClass = forall(selectedCells, function (cell) {\n            return editor.formatter.match('tablecellclass', { value: clazz }, cell.dom);\n          });\n          var formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, function (cell) {\n            return formatterAction('tablecellclass', { value: clazz }, cell.dom);\n          });\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      var toggleCaption = function () {\n        getSelectionStartCellOrCaption(editor).each(function (cellOrCaption) {\n          table(cellOrCaption, isRoot).each(function (table) {\n            child$1(table, 'caption').fold(function () {\n              var caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, function (caption) {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(function (td) {\n                  return editor.selection.setCursorLocation(td.dom, 0);\n                });\n              }\n              remove$5(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      var postExecute = function (_data) {\n        editor.focus();\n      };\n      var actOnSelection = function (execute, noEvents) {\n        if (noEvents === void 0) {\n          noEvents = false;\n        }\n        return performActionOnSelection(function (table, startCell) {\n          var targets = forMenu(selections, table, startCell);\n          execute(table, targets, noEvents).each(postExecute);\n        });\n      };\n      var copyRowSelection = function () {\n        return performActionOnSelection(function (table, startCell) {\n          var targets = forMenu(selections, table, startCell);\n          var generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n          return copyRows(table, targets, generators);\n        });\n      };\n      var copyColSelection = function () {\n        return performActionOnSelection(function (table, startCell) {\n          var targets = forMenu(selections, table, startCell);\n          return copyCols(table, targets);\n        });\n      };\n      var pasteOnSelection = function (execute, getRows) {\n        return getRows().each(function (rows) {\n          var clonedRows = map$1(rows, function (row) {\n            return deep(row);\n          });\n          performActionOnSelection(function (table, startCell) {\n            var generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n            var targets = pasteRows(selections, startCell, clonedRows, generators);\n            execute(table, targets).each(postExecute);\n          });\n        });\n      };\n      var actOnType = function (getAction) {\n        return function (_ui, args) {\n          return get$c(args, 'type').each(function (type) {\n            actOnSelection(getAction(type), args.no_events);\n          });\n        };\n      };\n      each$1({\n        mceTableSplitCells: function () {\n          return actOnSelection(actions.unmergeCells);\n        },\n        mceTableMergeCells: function () {\n          return actOnSelection(actions.mergeCells);\n        },\n        mceTableInsertRowBefore: function () {\n          return actOnSelection(actions.insertRowsBefore);\n        },\n        mceTableInsertRowAfter: function () {\n          return actOnSelection(actions.insertRowsAfter);\n        },\n        mceTableInsertColBefore: function () {\n          return actOnSelection(actions.insertColumnsBefore);\n        },\n        mceTableInsertColAfter: function () {\n          return actOnSelection(actions.insertColumnsAfter);\n        },\n        mceTableDeleteCol: function () {\n          return actOnSelection(actions.deleteColumn);\n        },\n        mceTableDeleteRow: function () {\n          return actOnSelection(actions.deleteRow);\n        },\n        mceTableCutCol: function () {\n          return copyColSelection().each(function (selection) {\n            clipboard.setColumns(selection);\n            actOnSelection(actions.deleteColumn);\n          });\n        },\n        mceTableCutRow: function () {\n          return copyRowSelection().each(function (selection) {\n            clipboard.setRows(selection);\n            actOnSelection(actions.deleteRow);\n          });\n        },\n        mceTableCopyCol: function () {\n          return copyColSelection().each(function (selection) {\n            return clipboard.setColumns(selection);\n          });\n        },\n        mceTableCopyRow: function () {\n          return copyRowSelection().each(function (selection) {\n            return clipboard.setRows(selection);\n          });\n        },\n        mceTablePasteColBefore: function () {\n          return pasteOnSelection(actions.pasteColsBefore, clipboard.getColumns);\n        },\n        mceTablePasteColAfter: function () {\n          return pasteOnSelection(actions.pasteColsAfter, clipboard.getColumns);\n        },\n        mceTablePasteRowBefore: function () {\n          return pasteOnSelection(actions.pasteRowsBefore, clipboard.getRows);\n        },\n        mceTablePasteRowAfter: function () {\n          return pasteOnSelection(actions.pasteRowsAfter, clipboard.getRows);\n        },\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: function (_ui, sizing) {\n          return setSizingMode(sizing);\n        },\n        mceTableCellType: actOnType(function (type) {\n          return type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader;\n        }),\n        mceTableColType: actOnType(function (type) {\n          return type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader;\n        }),\n        mceTableRowType: actOnType(function (type) {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, function (func, name) {\n        return editor.addCommand(name, func);\n      });\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor, selections)\n      }, function (func, name) {\n        return editor.addCommand(name, function () {\n          return func();\n        });\n      });\n      editor.addCommand('mceInsertTable', function (_ui, args) {\n        if (isObject(args) && keys(args).length > 0) {\n          insertTableWithDataValidation(editor, args.rows, args.columns, args.options, 'Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        } else {\n          open(editor, true);\n        }\n      });\n      editor.addCommand('mceTableApplyCellStyle', function (_ui, args) {\n        var getFormatName = function (style) {\n          return 'tablecell' + style.toLowerCase().replace('-', '');\n        };\n        if (!isObject(args)) {\n          return;\n        }\n        var cells = getCellsFromSelection(selections);\n        if (cells.length === 0) {\n          return;\n        }\n        var validArgs = filter$1(args, function (value, style) {\n          return editor.formatter.has(getFormatName(style)) && isString(value);\n        });\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, function (value, style) {\n          each$2(cells, function (cell) {\n            DomModifier.normal(editor, cell.dom).setFormat(getFormatName(style), value);\n          });\n        });\n        getTableFromCell(cells[0]).each(function (table) {\n          return fireTableModified(editor, table.dom, styleModified);\n        });\n      });\n    };\n\n    var registerQueryCommands = function (editor, actions, selections) {\n      var isRoot = getIsRoot(editor);\n      var lookupOnSelection = function (action) {\n        return getSelectionCell(getSelectionStart(editor)).bind(function (cell) {\n          return table(cell, isRoot).map(function (table) {\n            var targets = forMenu(selections, table, cell);\n            return action(table, targets);\n          });\n        }).getOr('');\n      };\n      each$1({\n        mceTableRowType: function () {\n          return lookupOnSelection(actions.getTableRowType);\n        },\n        mceTableCellType: function () {\n          return lookupOnSelection(actions.getTableCellType);\n        },\n        mceTableColType: function () {\n          return lookupOnSelection(actions.getTableColType);\n        }\n      }, function (func, name) {\n        return editor.addQueryValueHandler(name, func);\n      });\n    };\n\n    var Clipboard = function () {\n      var rows = value();\n      var cols = value();\n      return {\n        getRows: rows.get,\n        setRows: function (r) {\n          r.fold(rows.clear, rows.set);\n          cols.clear();\n        },\n        clearRows: rows.clear,\n        getColumns: cols.get,\n        setColumns: function (c) {\n          c.fold(cols.clear, cols.set);\n          rows.clear();\n        },\n        clearColumns: cols.clear\n      };\n    };\n\n    var genericBase = {\n      remove_similar: true,\n      inherit: false\n    };\n    var cellBase = __assign({ selector: 'td,th' }, genericBase);\n    var cellFormats = {\n      tablecellbackgroundcolor: __assign({ styles: { backgroundColor: '%value' } }, cellBase),\n      tablecellverticalalign: __assign({ styles: { 'vertical-align': '%value' } }, cellBase),\n      tablecellbordercolor: __assign({ styles: { borderColor: '%value' } }, cellBase),\n      tablecellclass: __assign({ classes: ['%value'] }, cellBase),\n      tableclass: __assign({\n        selector: 'table',\n        classes: ['%value']\n      }, genericBase),\n      tablecellborderstyle: __assign({ styles: { borderStyle: '%value' } }, cellBase),\n      tablecellborderwidth: __assign({ styles: { borderWidth: '%value' } }, cellBase)\n    };\n    var registerFormats = function (editor) {\n      editor.formatter.register(cellFormats);\n    };\n\n    var adt$5 = Adt.generate([\n      { none: ['current'] },\n      { first: ['current'] },\n      {\n        middle: [\n          'current',\n          'target'\n        ]\n      },\n      { last: ['current'] }\n    ]);\n    var none = function (current) {\n      if (current === void 0) {\n        current = undefined;\n      }\n      return adt$5.none(current);\n    };\n    var CellLocation = __assign(__assign({}, adt$5), { none: none });\n\n    var walk = function (all, current, index, direction, isEligible) {\n      if (isEligible === void 0) {\n        isEligible = always;\n      }\n      var forwards = direction === 1;\n      if (!forwards && index <= 0) {\n        return CellLocation.first(all[0]);\n      } else if (forwards && index >= all.length - 1) {\n        return CellLocation.last(all[all.length - 1]);\n      } else {\n        var newIndex = index + direction;\n        var elem = all[newIndex];\n        return isEligible(elem) ? CellLocation.middle(current, elem) : walk(all, current, newIndex, direction, isEligible);\n      }\n    };\n    var detect$1 = function (current, isRoot) {\n      return table(current, isRoot).bind(function (table) {\n        var all = cells$1(table);\n        var index = findIndex(all, function (x) {\n          return eq$1(current, x);\n        });\n        return index.map(function (index) {\n          return {\n            index: index,\n            all: all\n          };\n        });\n      });\n    };\n    var next = function (current, isEligible, isRoot) {\n      var detection = detect$1(current, isRoot);\n      return detection.fold(function () {\n        return CellLocation.none(current);\n      }, function (info) {\n        return walk(info.all, current, info.index, 1, isEligible);\n      });\n    };\n    var prev = function (current, isEligible, isRoot) {\n      var detection = detect$1(current, isRoot);\n      return detection.fold(function () {\n        return CellLocation.none();\n      }, function (info) {\n        return walk(info.all, current, info.index, -1, isEligible);\n      });\n    };\n\n    var create$2 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$2 };\n\n    var adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata$1 = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$2 = adt$4.before;\n    var on = adt$4.on;\n    var after$3 = adt$4.after;\n    var Situ = {\n      before: before$2,\n      on: on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    var adt$3 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$3.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$3.domRange;\n    var relative = adt$3.relative;\n    var exact = adt$3.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var selectNode = function (win, element) {\n      var rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    var selectNodeContents = function (win, element) {\n      var rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    var selectNodeContentsUsing = function (rng, element) {\n      return rng.selectNodeContents(element.dom);\n    };\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$2 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$2.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$2.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$2.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$2.ltr;\n    adt$2.rtl;\n\n    var searchForPoint = function (rectForOffset, x, y, maxX, length) {\n      if (length === 0) {\n        return 0;\n      } else if (x === maxX) {\n        return length - 1;\n      }\n      var xDelta = maxX;\n      for (var i = 1; i < length; i++) {\n        var rect = rectForOffset(i);\n        var curDeltaX = Math.abs(x - rect.left);\n        if (y <= rect.bottom) {\n          if (y < rect.top || curDeltaX > xDelta) {\n            return i - 1;\n          } else {\n            xDelta = curDeltaX;\n          }\n        }\n      }\n      return 0;\n    };\n    var inRect = function (rect, x, y) {\n      return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n    };\n\n    var locateOffset = function (doc, textnode, x, y, rect) {\n      var rangeForOffset = function (o) {\n        var r = doc.dom.createRange();\n        r.setStart(textnode.dom, o);\n        r.collapse(true);\n        return r;\n      };\n      var rectForOffset = function (o) {\n        var r = rangeForOffset(o);\n        return r.getBoundingClientRect();\n      };\n      var length = get$9(textnode).length;\n      var offset = searchForPoint(rectForOffset, x, y, rect.right, length);\n      return rangeForOffset(offset);\n    };\n    var locate$1 = function (doc, node, x, y) {\n      var r = doc.dom.createRange();\n      r.selectNode(node.dom);\n      var rects = r.getClientRects();\n      var foundRect = findMap(rects, function (rect) {\n        return inRect(rect, x, y) ? Optional.some(rect) : Optional.none();\n      });\n      return foundRect.map(function (rect) {\n        return locateOffset(doc, node, x, y, rect);\n      });\n    };\n\n    var searchInChildren = function (doc, node, x, y) {\n      var r = doc.dom.createRange();\n      var nodes = children$3(node);\n      return findMap(nodes, function (n) {\n        r.selectNode(n.dom);\n        return inRect(r.getBoundingClientRect(), x, y) ? locateNode(doc, n, x, y) : Optional.none();\n      });\n    };\n    var locateNode = function (doc, node, x, y) {\n      return isText(node) ? locate$1(doc, node, x, y) : searchInChildren(doc, node, x, y);\n    };\n    var locate = function (doc, node, x, y) {\n      var r = doc.dom.createRange();\n      r.selectNode(node.dom);\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locateNode(doc, node, boundedX, boundedY);\n    };\n\n    var COLLAPSE_TO_LEFT = true;\n    var COLLAPSE_TO_RIGHT = false;\n    var getCollapseDirection = function (rect, x) {\n      return x - rect.left < rect.right - x ? COLLAPSE_TO_LEFT : COLLAPSE_TO_RIGHT;\n    };\n    var createCollapsedNode = function (doc, target, collapseDirection) {\n      var r = doc.dom.createRange();\n      r.selectNode(target.dom);\n      r.collapse(collapseDirection);\n      return r;\n    };\n    var locateInElement = function (doc, node, x) {\n      var cursorRange = doc.dom.createRange();\n      cursorRange.selectNode(node.dom);\n      var rect = cursorRange.getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      var f = collapseDirection === COLLAPSE_TO_LEFT ? first : last$1;\n      return f(node).map(function (target) {\n        return createCollapsedNode(doc, target, collapseDirection);\n      });\n    };\n    var locateInEmpty = function (doc, node, x) {\n      var rect = node.dom.getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      return Optional.some(createCollapsedNode(doc, node, collapseDirection));\n    };\n    var search = function (doc, node, x) {\n      var f = children$3(node).length === 0 ? locateInEmpty : locateInElement;\n      return f(doc, node, x);\n    };\n\n    var caretPositionFromPoint = function (doc, x, y) {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(function (pos) {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        var r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    var caretRangeFromPoint = function (doc, x, y) {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    var searchTextNodes = function (doc, node, x, y) {\n      var r = doc.dom.createRange();\n      r.selectNode(node.dom);\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locate(doc, node, boundedX, boundedY);\n    };\n    var searchFromPoint = function (doc, x, y) {\n      return SugarElement.fromPoint(doc, x, y).bind(function (elem) {\n        var fallback = function () {\n          return search(doc, elem, x);\n        };\n        return children$3(elem).length === 0 ? fallback() : searchTextNodes(doc, elem, x, y).orThunk(fallback);\n      });\n    };\n    var availableSearch = function () {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return searchFromPoint;\n      }\n    }();\n    var fromPoint = function (win, x, y) {\n      var doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(function (rng) {\n        return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n      });\n    };\n\n    var beforeSpecial = function (element, offset) {\n      var name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    var preprocessRelative = function (startSitu, finishSitu) {\n      var start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      var finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    var preprocessExact = function (start, soffset, finish, foffset) {\n      var startSitu = beforeSpecial(start, soffset);\n      var finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n    var preprocess = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          var start = SugarElement.fromDom(rng.startContainer);\n          var finish = SugarElement.fromDom(rng.endContainer);\n          return preprocessExact(start, rng.startOffset, finish, rng.endOffset);\n        },\n        relative: preprocessRelative,\n        exact: preprocessExact\n      });\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after$2 = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var doSetNativeRange = function (win, rng) {\n      getNativeSelection(win).each(function (selection) {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    var doSetRange = function (win, start, soffset, finish, foffset) {\n      var rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    var setLegacyRtlRange = function (win, selection, start, soffset, finish, foffset) {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    var setRangeFromRelative = function (win, relative) {\n      return diagnose(win, relative).match({\n        ltr: function (start, soffset, finish, foffset) {\n          doSetRange(win, start, soffset, finish, foffset);\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          getNativeSelection(win).each(function (selection) {\n            if (selection.setBaseAndExtent) {\n              selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n            } else if (selection.extend) {\n              try {\n                setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n              } catch (e) {\n                doSetRange(win, finish, foffset, start, soffset);\n              }\n            } else {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          });\n        }\n      });\n    };\n    var setExact = function (win, start, soffset, finish, foffset) {\n      var relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    var setRelative = function (win, startSitu, finishSitu) {\n      var relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    var toNative = function (selection) {\n      var win = SimSelection.getWin(selection).dom;\n      var getDomRange = function (start, soffset, finish, foffset) {\n        return exactToNative(win, start, soffset, finish, foffset);\n      };\n      var filtered = preprocess(selection);\n      return diagnose(win, filtered).match({\n        ltr: getDomRange,\n        rtl: getDomRange\n      });\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after$2(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var setToElement = function (win, element, selectNodeContents$1) {\n      if (selectNodeContents$1 === void 0) {\n        selectNodeContents$1 = true;\n      }\n      var rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      var rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var get$1 = function (win) {\n      return getExact(win).map(function (range) {\n        return SimSelection.exact(range.start, range.soffset, range.finish, range.foffset);\n      });\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getAtPoint = function (win, x, y) {\n      return fromPoint(win, x, y);\n    };\n    var clear = function (win) {\n      getNativeSelection(win).each(function (selection) {\n        return selection.removeAllRanges();\n      });\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var forward = function (editor, isRoot, cell) {\n      return go$1(editor, isRoot, next(cell, isEditable$1));\n    };\n    var backward = function (editor, isRoot, cell) {\n      return go$1(editor, isRoot, prev(cell, isEditable$1));\n    };\n    var getCellFirstCursorPosition = function (editor, cell) {\n      var selection = SimSelection.exact(cell, 0, cell, 0);\n      return toNative(selection);\n    };\n    var go$1 = function (editor, isRoot, cell) {\n      return cell.fold(Optional.none, Optional.none, function (current, next) {\n        return first(next).map(function (cell) {\n          return getCellFirstCursorPosition(editor, cell);\n        });\n      }, function (current) {\n        editor.execCommand('mceTableInsertRowAfter');\n        return forward(editor, isRoot, current);\n      });\n    };\n    var rootElements = [\n      'table',\n      'li',\n      'dl'\n    ];\n    var handle$1 = function (event, editor, cellSelection) {\n      if (event.keyCode === global$1.TAB) {\n        var body_1 = getBody(editor);\n        var isRoot_1 = function (element) {\n          var name$1 = name(element);\n          return eq$1(element, body_1) || contains$2(rootElements, name$1);\n        };\n        var rng = editor.selection.getRng();\n        var container = SugarElement.fromDom(event.shiftKey ? rng.startContainer : rng.endContainer);\n        cell(container, isRoot_1).each(function (cell) {\n          event.preventDefault();\n          table(cell, isRoot_1).each(cellSelection.clear);\n          editor.selection.collapse(event.shiftKey);\n          var navigation = event.shiftKey ? backward : forward;\n          var rng = navigation(editor, isRoot_1, cell);\n          rng.each(function (range) {\n            editor.selection.setRng(range);\n          });\n        });\n      }\n    };\n\n    var create$1 = function (selection, kill) {\n      return {\n        selection: selection,\n        kill: kill\n      };\n    };\n    var Response = { create: create$1 };\n\n    var create = function (start, soffset, finish, foffset) {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    var Situs = { create: create };\n\n    var convertToRange = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    var makeSitus = Situs.create;\n\n    var sync = function (container, isRoot, start, soffset, finish, foffset, selectRange) {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(function (s) {\n          return closest$1(finish, 'td,th', isRoot).bind(function (f) {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var detect = function (container, isRoot, start, finish, selectRange) {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(function (cellSel) {\n          var boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var update = function (rows, columns, container, selected, annotations) {\n      var updateSelection = function (newSels) {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    var traverse = function (item, mode) {\n      return {\n        item: item,\n        mode: mode\n      };\n    };\n    var backtrack = function (universe, item, _direction, transition) {\n      if (transition === void 0) {\n        transition = sidestep;\n      }\n      return universe.property().parent(item).map(function (p) {\n        return traverse(p, transition);\n      });\n    };\n    var sidestep = function (universe, item, direction, transition) {\n      if (transition === void 0) {\n        transition = advance;\n      }\n      return direction.sibling(universe, item).map(function (p) {\n        return traverse(p, transition);\n      });\n    };\n    var advance = function (universe, item, direction, transition) {\n      if (transition === void 0) {\n        transition = advance;\n      }\n      var children = universe.property().children(item);\n      var result = direction.first(children);\n      return result.map(function (r) {\n        return traverse(r, transition);\n      });\n    };\n    var successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    var go = function (universe, item, mode, direction, rules) {\n      if (rules === void 0) {\n        rules = successors;\n      }\n      var ruleOpt = find$1(rules, function (succ) {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(function (rule) {\n        return rule.current(universe, item, direction, rule.next).orThunk(function () {\n          return rule.fallback.bind(function (fb) {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    var left$1 = function () {\n      var sibling = function (universe, item) {\n        return universe.query().prevSibling(item);\n      };\n      var first = function (children) {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling: sibling,\n        first: first\n      };\n    };\n    var right$1 = function () {\n      var sibling = function (universe, item) {\n        return universe.query().nextSibling(item);\n      };\n      var first = function (children) {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling: sibling,\n        first: first\n      };\n    };\n    var Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    var hone = function (universe, item, predicate, mode, direction, isRoot) {\n      var next = go(universe, item, mode, direction);\n      return next.bind(function (n) {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    var left = function (universe, item, predicate, isRoot) {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    var right = function (universe, item, predicate, isRoot) {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    var isLeaf = function (universe) {\n      return function (element) {\n        return universe.property().children(element).length === 0;\n      };\n    };\n    var before$1 = function (universe, item, isRoot) {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    var after$1 = function (universe, item, isRoot) {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    var seekLeft$1 = left;\n    var seekRight$1 = right;\n\n    var universe = DomUniverse();\n    var before = function (element, isRoot) {\n      return before$1(universe, element, isRoot);\n    };\n    var after = function (element, isRoot) {\n      return after$1(universe, element, isRoot);\n    };\n    var seekLeft = function (element, predicate, isRoot) {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    var seekRight = function (element, predicate, isRoot) {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    var ancestor = function (scope, predicate, isRoot) {\n      return ancestor$2(scope, predicate, isRoot).isSome();\n    };\n\n    var adt$1 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    var isOverlapping = function (bridge, before, after) {\n      var beforeBounds = bridge.getRect(before);\n      var afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    var isRow = function (elem) {\n      return closest$1(elem, 'tr');\n    };\n    var verify = function (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) {\n      return closest$1(after, 'td,th', isRoot).bind(function (afterCell) {\n        return closest$1(before, 'td,th', isRoot).map(function (beforeCell) {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(function () {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$1.success() : failure(beforeCell);\n            }, function (_sharedRow) {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$1.none('in same cell');\n          }\n        });\n      }).getOr(adt$1.none('default'));\n    };\n    var cata = function (subject, onNone, onSuccess, onFailedUp, onFailedDown) {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    var BeforeAfter = __assign(__assign({}, adt$1), {\n      verify: verify,\n      cata: cata\n    });\n\n    var inParent = function (parent, children, element, index) {\n      return {\n        parent: parent,\n        children: children,\n        element: element,\n        index: index\n      };\n    };\n    var indexInParent = function (element) {\n      return parent(element).bind(function (parent) {\n        var children = children$3(parent);\n        return indexOf(children, element).map(function (index) {\n          return inParent(parent, children, element, index);\n        });\n      });\n    };\n    var indexOf = function (elements, element) {\n      return findIndex(elements, curry(eq$1, element));\n    };\n\n    var isBr = function (elem) {\n      return name(elem) === 'br';\n    };\n    var gatherer = function (cand, gather, isRoot) {\n      return gather(cand, isRoot).bind(function (target) {\n        return isText(target) && get$9(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    var handleBr = function (isRoot, element, direction) {\n      return direction.traverse(element).orThunk(function () {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    var findBr = function (element, offset) {\n      return child$3(element, offset).filter(isBr).orThunk(function () {\n        return child$3(element, offset - 1).filter(isBr);\n      });\n    };\n    var handleParent = function (isRoot, element, offset, direction) {\n      return findBr(element, offset).bind(function (br) {\n        return direction.traverse(br).fold(function () {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, function (adjacent) {\n          return indexInParent(adjacent).map(function (info) {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    var tryBr = function (isRoot, element, offset, direction) {\n      var target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(function (tgt) {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    var process = function (analysis) {\n      return BeforeAfter.cata(analysis, function (_message) {\n        return Optional.none();\n      }, function () {\n        return Optional.none();\n      }, function (cell) {\n        return Optional.some(point(cell, 0));\n      }, function (cell) {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    var moveDown = function (caret, amount) {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    var moveUp = function (caret, amount) {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    var translate = function (caret, xDelta, yDelta) {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    var getTop = function (caret) {\n      return caret.top;\n    };\n    var getBottom = function (caret) {\n      return caret.bottom;\n    };\n\n    var getPartialBox = function (bridge, element, offset) {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    var toCaret = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom\n      };\n    };\n    var getElemBox = function (bridge, element) {\n      return Optional.some(bridge.getRect(element));\n    };\n    var getBoxAt = function (bridge, element, offset) {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    var getEntireBox = function (bridge, element) {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var JUMP_SIZE = 5;\n    var NUM_RETRIES = 100;\n    var adt = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    var isOutside = function (caret, box) {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    var inOutsideBlock = function (bridge, element, caret) {\n      return closest$2(element, isBlock).fold(never, function (cell) {\n        return getEntireBox(bridge, cell).exists(function (box) {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    var adjustDown = function (bridge, element, guessBox, original, caret) {\n      var lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt.none();\n      }\n    };\n    var adjustUp = function (bridge, element, guessBox, original, caret) {\n      var higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt.none();\n      }\n    };\n    var upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    var downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after\n    };\n    var isAtTable = function (bridge, x, y) {\n      return bridge.elementFromPoint(x, y).filter(function (elm) {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    var adjustForTable = function (bridge, movement, original, caret, numRetries) {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    var adjustTil = function (bridge, movement, original, caret, numRetries) {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(function (guess) {\n        return guess.start.fold(Optional.none, function (element) {\n          return getEntireBox(bridge, element).bind(function (guessBox) {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, function (newCaret) {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(function () {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    var ieTryDown = function (bridge, caret) {\n      return bridge.situsFromPoint(caret.left, caret.bottom + JUMP_SIZE);\n    };\n    var ieTryUp = function (bridge, caret) {\n      return bridge.situsFromPoint(caret.left, caret.top - JUMP_SIZE);\n    };\n    var checkScroll = function (movement, adjusted, bridge) {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    var retry = function (movement, bridge, caret) {\n      var moved = movement.move(caret, JUMP_SIZE);\n      var adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(function () {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, function (delta) {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    var Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      ieTryUp: ieTryUp,\n      ieTryDown: ieTryDown,\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    var MAX_RETRIES = 20;\n    var findSpot = function (bridge, isRoot, direction) {\n      return bridge.getSelection().bind(function (sel) {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(function () {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, function (brNeighbour) {\n          var range = bridge.fromSitus(brNeighbour);\n          var analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    var scan = function (bridge, isRoot, element, offset, direction, numRetries) {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(function (situs) {\n        var range = bridge.fromSitus(situs);\n        var analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, function () {\n          return Optional.none();\n        }, function () {\n          return Optional.some(situs);\n        }, function (cell) {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, function (cell) {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    var tryAgain = function (bridge, element, offset, move, direction) {\n      return getBoxAt(bridge, element, offset).bind(function (box) {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    var tryAt = function (bridge, direction, box) {\n      var browser = detect$3().browser;\n      if (browser.isChrome() || browser.isSafari() || browser.isFirefox() || browser.isEdge()) {\n        return direction.otherRetry(bridge, box);\n      } else if (browser.isIE()) {\n        return direction.ieRetry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    var tryCursor = function (bridge, isRoot, element, offset, direction) {\n      return getBoxAt(bridge, element, offset).bind(function (box) {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    var handle = function (bridge, isRoot, direction) {\n      return findSpot(bridge, isRoot, direction).bind(function (spot) {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    var inSameTable = function (elem, table) {\n      return ancestor(elem, function (e) {\n        return parent(e).exists(function (p) {\n          return eq$1(p, table);\n        });\n      });\n    };\n    var simulate = function (bridge, isRoot, direction, initial, anchor) {\n      return closest$1(initial, 'td,th', isRoot).bind(function (start) {\n        return closest$1(start, 'table', isRoot).bind(function (table) {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle(bridge, isRoot, direction).bind(function (range) {\n            return closest$1(range.finish, 'td,th', isRoot).map(function (finish) {\n              return {\n                start: start,\n                finish: finish,\n                range: range\n              };\n            });\n          });\n        });\n      });\n    };\n    var navigate = function (bridge, isRoot, direction, initial, anchor, precheck) {\n      if (detect$3().browser.isIE()) {\n        return Optional.none();\n      } else {\n        return precheck(initial, isRoot).orThunk(function () {\n          return simulate(bridge, isRoot, direction, initial, anchor).map(function (info) {\n            var range = info.range;\n            return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n          });\n        });\n      }\n    };\n    var firstUpCheck = function (initial, isRoot) {\n      return closest$1(initial, 'tr', isRoot).bind(function (startRow) {\n        return closest$1(startRow, 'table', isRoot).bind(function (table) {\n          var rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, function (element) {\n              return last$1(element).isSome();\n            }, isRoot).map(function (last) {\n              var lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    var lastDownCheck = function (initial, isRoot) {\n      return closest$1(initial, 'tr', isRoot).bind(function (startRow) {\n        return closest$1(startRow, 'table', isRoot).bind(function (table) {\n          var rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, function (element) {\n              return first(element).isSome();\n            }, isRoot).map(function (first) {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    var select = function (bridge, container, isRoot, direction, initial, anchor, selectRange) {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(function (info) {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    var findCell = function (target, isRoot) {\n      return closest$1(target, 'td,th', isRoot);\n    };\n    var MouseSelection = function (bridge, container, isRoot, annotations) {\n      var cursor = value();\n      var clearstate = cursor.clear;\n      var applySelection = function (event) {\n        cursor.on(function (start) {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(function (finish) {\n            identify(start, finish, isRoot).each(function (cellSel) {\n              var boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                var singleCell = boxes[0];\n                var isNonEditableCell = getRaw(singleCell) === 'false';\n                var isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      var mousedown = function (event) {\n        annotations.clear(container);\n        findCell(event.target, isRoot).each(cursor.set);\n      };\n      var mouseover = function (event) {\n        applySelection(event);\n      };\n      var mouseup = function (event) {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate: clearstate,\n        mousedown: mousedown,\n        mouseover: mouseover,\n        mouseup: mouseup\n      };\n    };\n\n    var down = {\n      traverse: nextSibling,\n      gather: after,\n      relative: Situ.before,\n      otherRetry: Retries.tryDown,\n      ieRetry: Retries.ieTryDown,\n      failure: BeforeAfter.failedDown\n    };\n    var up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      otherRetry: Retries.tryUp,\n      ieRetry: Retries.ieTryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    var isKey = function (key) {\n      return function (keycode) {\n        return keycode === key;\n      };\n    };\n    var isUp = isKey(38);\n    var isDown = isKey(40);\n    var isNavigation = function (keycode) {\n      return keycode >= 37 && keycode <= 40;\n    };\n    var ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    var rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    var get = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var by = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    var WindowBridge = function (win) {\n      var elementFromPoint = function (x, y) {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      var getRect = function (element) {\n        return element.dom.getBoundingClientRect();\n      };\n      var getRangedRect = function (start, soffset, finish, foffset) {\n        var sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      var getSelection = function () {\n        return get$1(win).map(function (exactAdt) {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      var fromSitus = function (situs) {\n        var relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      var situsFromPoint = function (x, y) {\n        return getAtPoint(win, x, y).map(function (exact) {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      var clearSelection = function () {\n        clear(win);\n      };\n      var collapseSelection = function (toStart) {\n        if (toStart === void 0) {\n          toStart = false;\n        }\n        get$1(win).each(function (sel) {\n          return sel.fold(function (rng) {\n            return rng.collapse(toStart);\n          }, function (startSitu, finishSitu) {\n            var situ = toStart ? startSitu : finishSitu;\n            setRelative(win, situ, situ);\n          }, function (start, soffset, finish, foffset) {\n            var node = toStart ? start : finish;\n            var offset = toStart ? soffset : foffset;\n            setExact(win, node, offset, node, offset);\n          });\n        });\n      };\n      var selectNode = function (element) {\n        setToElement(win, element, false);\n      };\n      var selectContents = function (element) {\n        setToElement(win, element);\n      };\n      var setSelection = function (sel) {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      var setRelativeSelection = function (start, finish) {\n        setRelative(win, start, finish);\n      };\n      var getInnerHeight = function () {\n        return win.innerHeight;\n      };\n      var getScrollY = function () {\n        var pos = get(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      var scrollBy = function (x, y) {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint: elementFromPoint,\n        getRect: getRect,\n        getRangedRect: getRangedRect,\n        getSelection: getSelection,\n        fromSitus: fromSitus,\n        situsFromPoint: situsFromPoint,\n        clearSelection: clearSelection,\n        collapseSelection: collapseSelection,\n        setSelection: setSelection,\n        setRelativeSelection: setRelativeSelection,\n        selectNode: selectNode,\n        selectContents: selectContents,\n        getInnerHeight: getInnerHeight,\n        getScrollY: getScrollY,\n        scrollBy: scrollBy\n      };\n    };\n\n    var rc = function (rows, cols) {\n      return {\n        rows: rows,\n        cols: cols\n      };\n    };\n    var mouse = function (win, container, isRoot, annotations) {\n      var bridge = WindowBridge(win);\n      var handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    var keyboard = function (win, container, isRoot, annotations) {\n      var bridge = WindowBridge(win);\n      var clearToNavigate = function () {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      var keydown = function (event, start, soffset, finish, foffset, direction) {\n        var realEvent = event.raw;\n        var keycode = realEvent.which;\n        var shiftKey = realEvent.shiftKey === true;\n        var handler = retrieve$1(container, annotations.selectedSelector).fold(function () {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, function (selected) {\n          var update$1 = function (attempts) {\n            return function () {\n              var navigation = findMap(attempts, function (delta) {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(function () {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(function (edges) {\n                  var relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, function (_) {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      var keyup = function (event, start, soffset, finish, foffset) {\n        return retrieve$1(container, annotations.selectedSelector).fold(function () {\n          var realEvent = event.raw;\n          var keycode = realEvent.which;\n          var shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown: keydown,\n        keyup: keyup\n      };\n    };\n    var external = function (win, container, isRoot, annotations) {\n      var bridge = WindowBridge(win);\n      return function (start, finish) {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(function (cellSel) {\n          var boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    var remove = function (element, classes) {\n      each$2(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n\n    var addClass = function (clazz) {\n      return function (element) {\n        add(element, clazz);\n      };\n    };\n    var removeClasses = function (classes) {\n      return function (element) {\n        remove(element, classes);\n      };\n    };\n\n    var byClass = function (ephemera) {\n      var addSelectionClass = addClass(ephemera.selected);\n      var removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      var clear = function (container) {\n        var sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      var selectRange = function (container, cells, start, finish) {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear: clear,\n        selectRange: selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    var byAttr = function (ephemera, onSelection, onClear) {\n      var removeSelectionAttributes = function (element) {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      var addSelectionAttribute = function (element) {\n        set$2(element, ephemera.selected, '1');\n      };\n      var clear = function (container) {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      var clearBeforeUpdate = function (container) {\n        var sels = descendants(container, ephemera.selectedSelector + ',' + ephemera.firstSelectedSelector + ',' + ephemera.lastSelectedSelector);\n        each$2(sels, removeSelectionAttributes);\n      };\n      var selectRange = function (container, cells, start, finish) {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate: clearBeforeUpdate,\n        clear: clear,\n        selectRange: selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    var SelectionAnnotation = {\n      byClass: byClass,\n      byAttr: byAttr\n    };\n\n    var getUpOrLeftCells = function (grid, selectedCells) {\n      var upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      var upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, function (detail) {\n        var slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, function (cell) {\n          return cell.element;\n        });\n      });\n    };\n    var getDownOrRightCells = function (grid, selectedCells) {\n      var downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      var downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, function (detail) {\n        var slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, function (cell) {\n          return cell.element;\n        });\n      });\n    };\n    var getOtherCells = function (table, target, generators) {\n      var warehouse = Warehouse.fromTable(table);\n      var details = onCells(warehouse, target);\n      return details.map(function (selectedCells) {\n        var grid = toGrid(warehouse, generators, false);\n        var upOrLeftCells = getUpOrLeftCells(grid, selectedCells);\n        var downOrRightCells = getDownOrRightCells(grid, selectedCells);\n        return {\n          upOrLeftCells: upOrLeftCells,\n          downOrRightCells: downOrRightCells\n        };\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var hasInternalTarget = function (e) {\n      return has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar') === false;\n    };\n    function CellSelection (editor, lazyResize, selectionTargets) {\n      var onSelection = function (cells, start, finish) {\n        selectionTargets.targets().each(function (targets) {\n          var tableOpt = table(start);\n          tableOpt.each(function (table) {\n            var cloneFormats = getCloneElements(editor);\n            var generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n            var otherCells = getOtherCells(table, targets, generators);\n            fireTableSelectionChange(editor, cells, start, finish, otherCells);\n          });\n        });\n      };\n      var onClear = function () {\n        return fireTableSelectionClear(editor);\n      };\n      var annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', function (_e) {\n        var win = editor.getWin();\n        var body = getBody(editor);\n        var isRoot = getIsRoot(editor);\n        var syncSelection = function () {\n          var sel = editor.selection;\n          var start = SugarElement.fromDom(sel.getStart());\n          var end = SugarElement.fromDom(sel.getEnd());\n          var shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(function () {\n            return annotations.clear(body);\n          }, noop);\n        };\n        var mouseHandlers = mouse(win, body, isRoot, annotations);\n        var keyHandlers = keyboard(win, body, isRoot, annotations);\n        var external$1 = external(win, body, isRoot, annotations);\n        var hasShiftKey = function (event) {\n          return event.raw.shiftKey === true;\n        };\n        editor.on('TableSelectorChange', function (e) {\n          return external$1(e.start, e.finish);\n        });\n        var handleResponse = function (event, response) {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(function (ns) {\n            var relative = SimSelection.relative(ns.start, ns.finish);\n            var rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        var keyup = function (event) {\n          var wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            var rng = editor.selection.getRng();\n            var start = SugarElement.fromDom(rng.startContainer);\n            var end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(function (response) {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        var keydown = function (event) {\n          var wrappedEvent = fromRawEvent(event);\n          lazyResize().each(function (resize) {\n            return resize.hideBars();\n          });\n          var rng = editor.selection.getRng();\n          var start = SugarElement.fromDom(rng.startContainer);\n          var end = SugarElement.fromDom(rng.endContainer);\n          var direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(function (response) {\n            handleResponse(wrappedEvent, response);\n          });\n          lazyResize().each(function (resize) {\n            return resize.showBars();\n          });\n        };\n        var isLeftMouse = function (raw) {\n          return raw.button === 0;\n        };\n        var isLeftButtonPressed = function (raw) {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          if (global.browser.isEdge() && raw.buttons === 0) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        var dragStart = function (_e) {\n          mouseHandlers.clearstate();\n        };\n        var mouseDown = function (e) {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        var mouseOver = function (e) {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        var mouseUp = function (e) {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        var getDoubleTap = function () {\n          var lastTarget = Cell(SugarElement.fromDom(body));\n          var lastTimeStamp = Cell(0);\n          var touchEnd = function (t) {\n            var target = SugarElement.fromDom(t.target);\n            if (name(target) === 'td' || name(target) === 'th') {\n              var lT = lastTarget.get();\n              var lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd: touchEnd };\n        };\n        var doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      return { clear: annotations.clear };\n    }\n\n    var child = function (scope, selector) {\n      return child$1(scope, selector).isSome();\n    };\n\n    var getSelectionTargets = function (editor, selections) {\n      var targets = Cell(Optional.none());\n      var changeHandlers = Cell([]);\n      var selectionDetails = Optional.none();\n      var isCaption = isTag('caption');\n      var isDisabledForSelection = function (key) {\n        return selectionDetails.forall(function (details) {\n          return !details[key];\n        });\n      };\n      var getStart = function () {\n        return getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      };\n      var getEnd = function () {\n        return getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      };\n      var findTargets = function () {\n        return getStart().bind(function (startCellOrCaption) {\n          return flatten(lift2(table(startCellOrCaption), getEnd().bind(table), function (startTable, endTable) {\n            if (eq$1(startTable, endTable)) {\n              if (isCaption(startCellOrCaption)) {\n                return Optional.some(noMenu(startCellOrCaption));\n              } else {\n                return Optional.some(forMenu(selections, startTable, startCellOrCaption));\n              }\n            }\n            return Optional.none();\n          }));\n        });\n      };\n      var getExtractedDetails = function (targets) {\n        var tableOpt = table(targets.element);\n        return tableOpt.map(function (table) {\n          var warehouse = Warehouse.fromTable(table);\n          var selectedCells = onCells(warehouse, targets).getOr([]);\n          var locked = foldl(selectedCells, function (acc, cell) {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked: locked\n          };\n        });\n      };\n      var resetTargets = function () {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each$2(changeHandlers.get(), function (handler) {\n          return handler();\n        });\n      };\n      var setupHandler = function (handler) {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return function () {\n          changeHandlers.set(filter$2(changeHandlers.get(), function (h) {\n            return h !== handler;\n          }));\n        };\n      };\n      var onSetup = function (api, isDisabled) {\n        return setupHandler(function () {\n          return targets.get().fold(function () {\n            api.setDisabled(true);\n          }, function (targets) {\n            api.setDisabled(isDisabled(targets));\n          });\n        });\n      };\n      var onSetupWithToggle = function (api, isDisabled, isActive) {\n        return setupHandler(function () {\n          return targets.get().fold(function () {\n            api.setDisabled(true);\n            api.setActive(false);\n          }, function (targets) {\n            api.setDisabled(isDisabled(targets));\n            api.setActive(isActive(targets));\n          });\n        });\n      };\n      var isDisabledFromLocked = function (lockedDisable) {\n        return selectionDetails.exists(function (details) {\n          return details.locked[lockedDisable];\n        });\n      };\n      var onSetupTable = function (api) {\n        return onSetup(api, function (_) {\n          return false;\n        });\n      };\n      var onSetupCellOrRow = function (api) {\n        return onSetup(api, function (targets) {\n          return isCaption(targets.element);\n        });\n      };\n      var onSetupColumn = function (lockedDisable) {\n        return function (api) {\n          return onSetup(api, function (targets) {\n            return isCaption(targets.element) || isDisabledFromLocked(lockedDisable);\n          });\n        };\n      };\n      var onSetupPasteable = function (getClipboardData) {\n        return function (api) {\n          return onSetup(api, function (targets) {\n            return isCaption(targets.element) || getClipboardData().isNone();\n          });\n        };\n      };\n      var onSetupPasteableColumn = function (getClipboardData, lockedDisable) {\n        return function (api) {\n          return onSetup(api, function (targets) {\n            return isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable);\n          });\n        };\n      };\n      var onSetupMergeable = function (api) {\n        return onSetup(api, function (_targets) {\n          return isDisabledForSelection('mergeable');\n        });\n      };\n      var onSetupUnmergeable = function (api) {\n        return onSetup(api, function (_targets) {\n          return isDisabledForSelection('unmergeable');\n        });\n      };\n      var onSetupTableWithCaption = function (api) {\n        return onSetupWithToggle(api, never, function (targets) {\n          var tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(function (table) {\n            return child(table, 'caption');\n          });\n        });\n      };\n      var onSetupTableHeaders = function (command, headerType) {\n        return function (api) {\n          return onSetupWithToggle(api, function (targets) {\n            return isCaption(targets.element);\n          }, function () {\n            return editor.queryCommandValue(command) === headerType;\n          });\n        };\n      };\n      var onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      var onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable: onSetupTable,\n        onSetupCellOrRow: onSetupCellOrRow,\n        onSetupColumn: onSetupColumn,\n        onSetupPasteable: onSetupPasteable,\n        onSetupPasteableColumn: onSetupPasteableColumn,\n        onSetupMergeable: onSetupMergeable,\n        onSetupUnmergeable: onSetupUnmergeable,\n        resetTargets: resetTargets,\n        onSetupTableWithCaption: onSetupTableWithCaption,\n        onSetupTableRowHeaders: onSetupTableRowHeaders,\n        onSetupTableColumnHeaders: onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var addButtons = function (editor, selections, selectionTargets, clipboard) {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        fetch: function (callback) {\n          return callback('inserttable | cell row column | advtablesort | tableprops deletetable');\n        }\n      });\n      var cmd = function (command) {\n        return function () {\n          return editor.execCommand(command);\n        };\n      };\n      editor.ui.registry.addButton('tableprops', {\n        tooltip: 'Table properties',\n        onAction: cmd('mceTableProps'),\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      editor.ui.registry.addButton('tabledelete', {\n        tooltip: 'Delete table',\n        onAction: cmd('mceTableDelete'),\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      editor.ui.registry.addButton('tablecellprops', {\n        tooltip: 'Cell properties',\n        onAction: cmd('mceTableCellProps'),\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tablemergecells', {\n        tooltip: 'Merge cells',\n        onAction: cmd('mceTableMergeCells'),\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      editor.ui.registry.addButton('tablesplitcells', {\n        tooltip: 'Split cell',\n        onAction: cmd('mceTableSplitCells'),\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      editor.ui.registry.addButton('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        onAction: cmd('mceTableInsertRowBefore'),\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        onAction: cmd('mceTableInsertRowAfter'),\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tabledeleterow', {\n        tooltip: 'Delete row',\n        onAction: cmd('mceTableDeleteRow'),\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tablerowprops', {\n        tooltip: 'Row properties',\n        onAction: cmd('mceTableRowProps'),\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        onAction: cmd('mceTableInsertColBefore'),\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      editor.ui.registry.addButton('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        onAction: cmd('mceTableInsertColAfter'),\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      editor.ui.registry.addButton('tabledeletecol', {\n        tooltip: 'Delete column',\n        onAction: cmd('mceTableDeleteCol'),\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addButton('tablecutrow', {\n        tooltip: 'Cut row',\n        icon: 'cut-row',\n        onAction: cmd('mceTableCutRow'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tablecopyrow', {\n        tooltip: 'Copy row',\n        icon: 'duplicate-row',\n        onAction: cmd('mceTableCopyRow'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addButton('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        icon: 'paste-row-before',\n        onAction: cmd('mceTablePasteRowBefore'),\n        onSetup: selectionTargets.onSetupPasteable(clipboard.getRows)\n      });\n      editor.ui.registry.addButton('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        icon: 'paste-row-after',\n        onAction: cmd('mceTablePasteRowAfter'),\n        onSetup: selectionTargets.onSetupPasteable(clipboard.getRows)\n      });\n      editor.ui.registry.addButton('tablecutcol', {\n        tooltip: 'Cut column',\n        icon: 'cut-column',\n        onAction: cmd('mceTableCutCol'),\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addButton('tablecopycol', {\n        tooltip: 'Copy column',\n        icon: 'duplicate-column',\n        onAction: cmd('mceTableCopyCol'),\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addButton('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        icon: 'paste-column-before',\n        onAction: cmd('mceTablePasteColBefore'),\n        onSetup: selectionTargets.onSetupPasteableColumn(clipboard.getColumns, 'onFirst')\n      });\n      editor.ui.registry.addButton('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        icon: 'paste-column-after',\n        onAction: cmd('mceTablePasteColAfter'),\n        onSetup: selectionTargets.onSetupPasteableColumn(clipboard.getColumns, 'onLast')\n      });\n      editor.ui.registry.addButton('tableinsertdialog', {\n        tooltip: 'Insert table',\n        onAction: cmd('mceInsertTable'),\n        icon: 'table'\n      });\n      var tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, selections, tableClassList, 'tableclass', function (value) {\n            return editor.execCommand('mceTableToggleClass', false, value);\n          }),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      var tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, selections, tableCellClassList, 'tablecellclass', function (value) {\n            return editor.execCommand('mceTableCellToggleClass', false, value);\n          }),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      editor.ui.registry.addMenuButton('tablecellvalign', {\n        icon: 'vertical-align',\n        tooltip: 'Vertical align',\n        fetch: generateMenuItemsCallback(editor, selections, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuButton('tablecellborderwidth', {\n        icon: 'border-width',\n        tooltip: 'Border width',\n        fetch: generateMenuItemsCallback(editor, selections, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuButton('tablecellborderstyle', {\n        icon: 'border-style',\n        tooltip: 'Border style',\n        fetch: generateMenuItemsCallback(editor, selections, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addToggleButton('tablecaption', {\n        tooltip: 'Table caption',\n        onAction: cmd('mceTableToggleCaption'),\n        icon: 'table-caption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n        icon: 'cell-background-color',\n        tooltip: 'Background color',\n        fetch: function (callback) {\n          return callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'));\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuButton('tablecellbordercolor', {\n        icon: 'cell-border-color',\n        tooltip: 'Border color',\n        fetch: function (callback) {\n          return callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'));\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addToggleButton('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      editor.ui.registry.addToggleButton('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    var addToolbars = function (editor) {\n      var isTable = function (table) {\n        return editor.dom.is(table, 'table') && editor.getBody().contains(table);\n      };\n      var toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    var addMenuItems = function (editor, selections, selectionTargets, clipboard) {\n      var cmd = function (command) {\n        return function () {\n          return editor.execCommand(command);\n        };\n      };\n      var insertTableAction = function (data) {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      var tableProperties = {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        onAction: cmd('mceTableProps')\n      };\n      var deleteTable = {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        onAction: cmd('mceTableDelete')\n      };\n      editor.ui.registry.addMenuItem('tableinsertrowbefore', {\n        text: 'Insert row before',\n        icon: 'table-insert-row-above',\n        onAction: cmd('mceTableInsertRowBefore'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tableinsertrowafter', {\n        text: 'Insert row after',\n        icon: 'table-insert-row-after',\n        onAction: cmd('mceTableInsertRowAfter'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tabledeleterow', {\n        text: 'Delete row',\n        icon: 'table-delete-row',\n        onAction: cmd('mceTableDeleteRow'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tablerowprops', {\n        text: 'Row properties',\n        icon: 'table-row-properties',\n        onAction: cmd('mceTableRowProps'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tablecutrow', {\n        text: 'Cut row',\n        icon: 'cut-row',\n        onAction: cmd('mceTableCutRow'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tablecopyrow', {\n        text: 'Copy row',\n        icon: 'duplicate-row',\n        onAction: cmd('mceTableCopyRow'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tablepasterowbefore', {\n        text: 'Paste row before',\n        icon: 'paste-row-before',\n        onAction: cmd('mceTablePasteRowBefore'),\n        onSetup: selectionTargets.onSetupPasteable(clipboard.getRows)\n      });\n      editor.ui.registry.addMenuItem('tablepasterowafter', {\n        text: 'Paste row after',\n        icon: 'paste-row-after',\n        onAction: cmd('mceTablePasteRowAfter'),\n        onSetup: selectionTargets.onSetupPasteable(clipboard.getRows)\n      });\n      var row = {\n        type: 'nestedmenuitem',\n        text: 'Row',\n        getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n      };\n      editor.ui.registry.addMenuItem('tableinsertcolumnbefore', {\n        text: 'Insert column before',\n        icon: 'table-insert-column-before',\n        onAction: cmd('mceTableInsertColBefore'),\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      editor.ui.registry.addMenuItem('tableinsertcolumnafter', {\n        text: 'Insert column after',\n        icon: 'table-insert-column-after',\n        onAction: cmd('mceTableInsertColAfter'),\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      editor.ui.registry.addMenuItem('tabledeletecolumn', {\n        text: 'Delete column',\n        icon: 'table-delete-column',\n        onAction: cmd('mceTableDeleteCol'),\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addMenuItem('tablecutcolumn', {\n        text: 'Cut column',\n        icon: 'cut-column',\n        onAction: cmd('mceTableCutCol'),\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addMenuItem('tablecopycolumn', {\n        text: 'Copy column',\n        icon: 'duplicate-column',\n        onAction: cmd('mceTableCopyCol'),\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      editor.ui.registry.addMenuItem('tablepastecolumnbefore', {\n        text: 'Paste column before',\n        icon: 'paste-column-before',\n        onAction: cmd('mceTablePasteColBefore'),\n        onSetup: selectionTargets.onSetupPasteableColumn(clipboard.getColumns, 'onFirst')\n      });\n      editor.ui.registry.addMenuItem('tablepastecolumnafter', {\n        text: 'Paste column after',\n        icon: 'paste-column-after',\n        onAction: cmd('mceTablePasteColAfter'),\n        onSetup: selectionTargets.onSetupPasteableColumn(clipboard.getColumns, 'onLast')\n      });\n      var column = {\n        type: 'nestedmenuitem',\n        text: 'Column',\n        getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n      };\n      editor.ui.registry.addMenuItem('tablecellprops', {\n        text: 'Cell properties',\n        icon: 'table-cell-properties',\n        onAction: cmd('mceTableCellProps'),\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addMenuItem('tablemergecells', {\n        text: 'Merge cells',\n        icon: 'table-merge-cells',\n        onAction: cmd('mceTableMergeCells'),\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      editor.ui.registry.addMenuItem('tablesplitcells', {\n        text: 'Split cell',\n        icon: 'table-split-cells',\n        onAction: cmd('mceTableSplitCells'),\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      var cell = {\n        type: 'nestedmenuitem',\n        text: 'Cell',\n        getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n      };\n      if (hasTableGrid(editor) === false) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTable')\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: function () {\n            return [{\n                type: 'fancymenuitem',\n                fancytype: 'inserttable',\n                onAction: insertTableAction\n              }];\n          }\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTable')\n      });\n      editor.ui.registry.addMenuItem('tableprops', tableProperties);\n      editor.ui.registry.addMenuItem('deletetable', deleteTable);\n      editor.ui.registry.addNestedMenuItem('row', row);\n      editor.ui.registry.addNestedMenuItem('column', column);\n      editor.ui.registry.addNestedMenuItem('cell', cell);\n      editor.ui.registry.addContextMenu('table', {\n        update: function () {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), function (targets) {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      var tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: function () {\n            return buildMenuItems(editor, selections, tableClassList, 'tableclass', function (value) {\n              return editor.execCommand('mceTableToggleClass', false, value);\n            });\n          },\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      var tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: function () {\n            return buildMenuItems(editor, selections, tableCellClassList, 'tablecellclass', function (value) {\n              return editor.execCommand('mceTableCellToggleClass', false, value);\n            });\n          },\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n        icon: 'vertical-align',\n        text: 'Vertical align',\n        getSubmenuItems: function () {\n          return buildMenuItems(editor, selections, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align'));\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n        icon: 'border-width',\n        text: 'Border width',\n        getSubmenuItems: function () {\n          return buildMenuItems(editor, selections, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width'));\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n        icon: 'border-style',\n        text: 'Border style',\n        getSubmenuItems: function () {\n          return buildMenuItems(editor, selections, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style'));\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addToggleMenuItem('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        onAction: cmd('mceTableToggleCaption'),\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n        icon: 'cell-background-color',\n        text: 'Background color',\n        getSubmenuItems: function () {\n          return buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color');\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n        icon: 'cell-border-color',\n        text: 'Border color',\n        getSubmenuItems: function () {\n          return buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color');\n        },\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      editor.ui.registry.addToggleMenuItem('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      editor.ui.registry.addToggleMenuItem('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n\n    var Plugin = function (editor) {\n      var selections = Selections(function () {\n        return getBody(editor);\n      }, function () {\n        return getSelectionCell(getSelectionStart(editor), getIsRoot(editor));\n      }, ephemera.selectedSelector);\n      var selectionTargets = getSelectionTargets(editor, selections);\n      var resizeHandler = getResizeHandler(editor);\n      var cellSelection = CellSelection(editor, resizeHandler.lazyResize, selectionTargets);\n      var actions = TableActions(editor, cellSelection, resizeHandler.lazyWire);\n      var clipboard = Clipboard();\n      registerCommands(editor, actions, cellSelection, selections, clipboard);\n      registerQueryCommands(editor, actions, selections);\n      registerEvents(editor, selections, actions);\n      addMenuItems(editor, selections, selectionTargets, clipboard);\n      addButtons(editor, selections, selectionTargets, clipboard);\n      addToolbars(editor);\n      editor.on('PreInit', function () {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n        registerFormats(editor);\n      });\n      if (hasTabNavigation(editor)) {\n        editor.on('keydown', function (e) {\n          handle$1(e, editor, cellSelection);\n        });\n      }\n      editor.on('remove', function () {\n        resizeHandler.destroy();\n      });\n      return getApi(editor, clipboard, resizeHandler, selectionTargets);\n    };\n    function Plugin$1 () {\n      global$3.add('table', Plugin);\n    }\n\n    Plugin$1();\n\n}());\n", "// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');", "export default require(\"./node_modules/tinymce/plugins/table/index.js\");"],
  "mappings": "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",
  "names": ["type", "value", "_i", "all", "bind", "r", "copy", "__assign", "from", "mediaMatch", "browsers", "oses", "name", "base", "key", "rows", "columns", "row", "cells", "section", "is", "ancestor", "selector", "left", "css", "styles", "cell", "fallback", "table", "parent", "before", "after", "grid", "cloneRow", "detail", "bounds", "first", "last", "children", "get", "getOption", "set", "clone", "document", "isEmptyTag", "universe", "head", "prune", "getIsRoot", "finishCell", "startCell", "adt", "getStart", "nu", "getOuter", "size", "height", "width", "col", "next", "translate", "body", "total", "filter", "getWidth", "columns$1", "getHeight", "rows$1", "zero", "child", "parents", "mutate", "prev", "ephemera", "resize", "resizeTable", "isResizable", "chrome", "values", "scan", "unbind", "keys", "update", "on", "sink", "go", "destroy", "resolve", "create", "isHeaderCells", "sync", "colgroup", "columnIndex", "element", "extract", "j", "map", "each", "exists", "forall", "add", "find", "unmerge", "merge", "isBr", "mergable", "unmergable", "editor", "cloneFormats", "getTableSectionType", "lazyWire", "range", "defaultStyles", "firstChildStyle", "rgbaColour", "clear", "api", "dom", "elm", "hasAdvancedRowTab", "hasAdvancedCellTab", "styleModified", "structureModified", "selection", "index", "relative", "rng", "exact", "selectNode", "_e", "getEnd", "targets"]
}
